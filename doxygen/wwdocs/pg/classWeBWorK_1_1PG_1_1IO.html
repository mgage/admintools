<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PG: WeBWorK::PG::IO Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceWeBWorK.html">WeBWorK</a>::<a class="el" href="namespaceWeBWorK_1_1PG.html">PG</a>::<a class="el" href="classWeBWorK_1_1PG_1_1IO.html">IO</a>
  </div>
</div>
<div class="contents">
<h1>WeBWorK::PG::IO Class Reference</h1><!-- doxytag: class="WeBWorK::PG::IO" --><!-- doxytag: inherits="WeBWorK::PG" --><div class="dynheader">
Inheritance diagram for WeBWorK::PG::IO:</div>
<div class="dynsection">
<div class="center"><img src="classWeBWorK_1_1PG_1_1IO__inherit__graph.png" border="0" usemap="#WeBWorK_1_1PG_1_1IO_inherit__map" alt="Inheritance graph"/></div>
<map name="WeBWorK_1_1PG_1_1IO_inherit__map" id="WeBWorK_1_1PG_1_1IO_inherit__map">
<area shape="rect" href="classWeBWorK_1_1PG_1_1IO_1_1Daemon2.html" title="WeBWorK::PG::IO::Daemon2" alt="" coords="5,155,200,181"/><area shape="rect" href="classWeBWorK_1_1PG_1_1IO_1_1WW1.html" title="WeBWorK::PG::IO::WW1" alt="" coords="224,155,395,181"/><area shape="rect" href="classWeBWorK_1_1PG_1_1IO_1_1WW2.html" title="WeBWorK::PG::IO::WW2" alt="" coords="419,155,589,181"/><area shape="rect" href="classWeBWorK_1_1PG.html" title="WeBWorK::PG" alt="" coords="255,5,364,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for WeBWorK::PG::IO:</div>
<div class="dynsection">
<div class="center"><img src="classWeBWorK_1_1PG_1_1IO__coll__graph.png" border="0" usemap="#WeBWorK_1_1PG_1_1IO_coll__map" alt="Collaboration graph"/></div>
<map name="WeBWorK_1_1PG_1_1IO_coll__map" id="WeBWorK_1_1PG_1_1IO_coll__map">
<area shape="rect" href="classWeBWorK_1_1PG.html" title="WeBWorK::PG" alt="" coords="16,5,125,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classWeBWorK_1_1PG_1_1IO-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1PG_1_1IO_1_1Daemon2.html">Daemon2</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1PG_1_1IO_1_1WW1.html">WW1</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1PG_1_1IO_1_1WW2.html">WW2</a></td></tr>
<tr><td colspan="2"><h2>Avaliable Methods</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp9be22fb8347fa3884856571d2a5f020b"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1PG_1_1IO.html#a5970861f4bf0944cc29ae8200863ca57">convertPath</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1PG_1_1IO.html#a42fb5e327050c7d308d8b07ceb1a20bd">fileFromPath</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1PG_1_1IO.html#a18099d79fcc800e385dacc53570d8c3f">read_whole_file</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1PG_1_1IO.html#a51b933ebc18323106e4c8b8bad38276f">createDirectory</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1PG_1_1IO.html#a9a130c733009fc967bdb8da1e2345de2">directoryFromPath</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1PG_1_1IO.html#a3b52770e91348f0478d66044abd375af">getDirDelim</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1PG_1_1IO.html#aa1eb9199ad562e67f2020ccf1e13a4b6">includePGtext</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1PG_1_1IO.html#a766ccd325ff654d371b9cd167735d99a">read_whole_problem_file</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1PG_1_1IO.html#a20a95e29f203f35ad713394643c48893">createFile</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h2><a class="anchor" id="NAME">
NAME</a></h2>
<p><a class="el" href="classWeBWorK_1_1PG_1_1IO.html">WeBWorK::PG::IO</a> - Private functions used by <a class="el" href="classWeBWorK_1_1PG_1_1Translator.html">WeBWorK::PG::Translator</a> for file <a class="el" href="classWeBWorK_1_1PG_1_1IO.html">IO</a>.</p>
<h2><a class="anchor" id="SYNOPSIS">
SYNOPSIS</a></h2>
<pre> BEGIN { $main::VERSION = "2.0" }
 use <a class="el" href="classWeBWorK_1_1PG_1_1IO.html">WeBWorK::PG::IO</a>;
 my %functions_to_share = %WeBWorK::PG::IO::SHARE;</pre><h2><a class="anchor" id="DESCRIPTION">
DESCRIPTION</a></h2>
<p>This module defines several functions to be shared with a safe compartment by the <a class="el" href="classWeBWorK_1_1PG.html">PG</a> translator. It also loads a version-specific module (if found) based on the value of the </p>
<div class="fragment"><pre class="fragment">$main::VERSION
</pre></div><p> variable. </p>
<p>This module also maintains a hash </p>
<div class="fragment"><pre class="fragment">\%WeBWorK::PG::IO::SHARE
</pre></div><p> . The keys of this hash are the names of functions, and the values are the name of the package that contains the function.</p>
<h2><a class="anchor" id="FUNCTIONS">
FUNCTIONS</a></h2>
<ul>
<li>
<p class="startli"><a class="anchor" id="item_includePGtext__string_ref___envir_ref_"></a><b>includePGtext($string_ref, $envir_ref)</b> </p>
<p class="endli">Calls </p>
<div class="fragment"><pre class="fragment">createPGtext
</pre></div><p> recursively with the $safeCompartment variable set to 0 so that the rendering continues in the current safe compartment. The output is the same as the output from createPGtext. This is used in processing some of the sample CAPA files.  </p>
</li>
</ul>
<p>Don't use for huge files. The file name will have .pg appended to it if it doesn't already end in .pg. Files may become double spaced.? Check the join below. This is used in importing additional .pg files as is done in the sample problems translated from CAPA. Returns a reference to a string containing the contents of the file. </p>
<p>Currently a no-op. Returns $path unmodified. </p>
<p>Uses </p>
<div class="fragment"><pre class="fragment">&amp;amp;<a class="code" href="classWeBWorK_1_1PG_1_1IO.html#a3b52770e91348f0478d66044abd375af">getDirDelim</a>
</pre></div><p> to determine the path delimiter. Returns the last segment of the path (i.e. the text after the last delimiter). </p>
<p>Uses </p>
<div class="fragment"><pre class="fragment">&amp;amp;<a class="code" href="classWeBWorK_1_1PG_1_1IO.html#a3b52770e91348f0478d66044abd375af">getDirDelim</a>
</pre></div><p> to determine the path delimiter. Returns the initial segments of the of the path (i.e. the text up to the last delimiter). </p>
<p>Creates a file with the given name, permission bits, and group ID. </p>
<p>Creates a directory with the given name, permission bits, and group ID. </p>

<p>Definition at line <a class="el" href="IO_8pm_source.html#l00071">71</a> of file <a class="el" href="IO_8pm_source.html">IO.pm</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a5970861f4bf0944cc29ae8200863ca57"></a><!-- doxytag: member="WeBWorK::PG::IO::convertPath" ref="a5970861f4bf0944cc29ae8200863ca57" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::PG::IO::convertPath </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-convertPath' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-convertPath-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-convertPath-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-convertPath-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in convertPath: 3</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1PG_1_1IO.html#a5970861f4bf0944cc29ae8200863ca57">convertPath</a> {
    <span class="keywordflow">return</span> wantarray ? @_ : shift;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a51b933ebc18323106e4c8b8bad38276f"></a><!-- doxytag: member="WeBWorK::PG::IO::createDirectory" ref="a51b933ebc18323106e4c8b8bad38276f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::PG::IO::createDirectory </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-createDirectory' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-createDirectory-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-createDirectory-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-createDirectory-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in createDirectory: 20</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1PG_1_1IO.html#a51b933ebc18323106e4c8b8bad38276f">createDirectory</a> {
    my ($dirName, $permission, $numgid) = @_;
    $permission = (defined($permission)) ? $permission : <span class="stringliteral">&#39;0770&#39;</span>;
<span class="preprocessor">    # FIXME -- find out where the permission is supposed to be defined</span>
<span class="preprocessor"></span>    my $errors = <span class="stringliteral">&#39;&#39;</span>;
    mkdir($dirName, $permission)
        or $errors .= &quot;Can&#39;t do mkdir($dirName, $permission): $!\n&quot;.caller(3);
    chmod($permission, $dirName)
        or $errors .= &quot;Can&#39;t do chmod($permission, $dirName): $!\n&quot;.caller(3);
    unless ($numgid == -1) {
        chown(-1,$numgid,$dirName)
            or $errors .= &quot;Can&#39;t do chown(-1,$numgid,$dirName): $!\n&quot;.caller(3);
    }
    if ($errors) {
        warn $errors;
        <span class="keywordflow">return</span> 0;
    } <span class="keywordflow">else</span> {
        <span class="keywordflow">return</span> 1;
    }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a20a95e29f203f35ad713394643c48893"></a><!-- doxytag: member="WeBWorK::PG::IO::createFile" ref="a20a95e29f203f35ad713394643c48893" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::PG::IO::createFile </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-createFile' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-createFile-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-createFile-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-createFile-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in createFile: 16</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1PG_1_1IO.html#a20a95e29f203f35ad713394643c48893">createFile</a> {
    my ($fileName, $permission, $numgid) = @_;
    open(TEMPCREATEFILE, <span class="stringliteral">&quot;&gt;$fileName&quot;</span>)
        or die &quot;Can&#39;t open $fileName: $!&quot;;
    my @stat = stat TEMPCREATEFILE;
    close(TEMPCREATEFILE);
    
    <span class="preprocessor"># if the owner of the file is running this script (e.g. when the file is</span>
<span class="preprocessor"></span><span class="preprocessor">    # first created) set the permissions and group correctly</span>
<span class="preprocessor"></span>    <span class="keywordflow">if</span> ($&lt; == $stat[4]) {
        my $tmp = chmod($permission, $fileName)
            or warn &quot;Can&#39;t do chmod($permission, $fileName): $!&quot;;
        chown(-1, $numgid, $fileName)
            or warn &quot;Can&#39;t do chown($numgid, $fileName): $!&quot;;
    }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a9a130c733009fc967bdb8da1e2345de2"></a><!-- doxytag: member="WeBWorK::PG::IO::directoryFromPath" ref="a9a130c733009fc967bdb8da1e2345de2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::PG::IO::directoryFromPath </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-directoryFromPath' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-directoryFromPath-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-directoryFromPath-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-directoryFromPath-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in directoryFromPath: 7</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1PG_1_1IO.html#a9a130c733009fc967bdb8da1e2345de2">directoryFromPath</a> {
    my $path = shift;
    my $delim = &amp;<a class="code" href="classWeBWorK_1_1PG_1_1IO.html#a3b52770e91348f0478d66044abd375af">getDirDelim</a>();
    $path = <a class="code" href="classWeBWorK_1_1PG_1_1IO.html#a5970861f4bf0944cc29ae8200863ca57">convertPath</a>($path);
    $path =~ s|[^$delim]*$||;
    $path;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a42fb5e327050c7d308d8b07ceb1a20bd"></a><!-- doxytag: member="WeBWorK::PG::IO::fileFromPath" ref="a42fb5e327050c7d308d8b07ceb1a20bd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::PG::IO::fileFromPath </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-fileFromPath' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-fileFromPath-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-fileFromPath-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-fileFromPath-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in fileFromPath: 7</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1PG_1_1IO.html#a42fb5e327050c7d308d8b07ceb1a20bd">fileFromPath</a> {
    my $path = shift;
    my $delim = &amp;<a class="code" href="classWeBWorK_1_1PG_1_1IO.html#a3b52770e91348f0478d66044abd375af">getDirDelim</a>();
    $path = <a class="code" href="classWeBWorK_1_1PG_1_1IO.html#a5970861f4bf0944cc29ae8200863ca57">convertPath</a>($path);
    $path =~ m|([^$delim]+)$|;
    $1;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a3b52770e91348f0478d66044abd375af"></a><!-- doxytag: member="WeBWorK::PG::IO::getDirDelim" ref="a3b52770e91348f0478d66044abd375af" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::PG::IO::getDirDelim </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getDirDelim' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-getDirDelim-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getDirDelim-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getDirDelim-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in getDirDelim: 3</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1PG_1_1IO.html#a3b52770e91348f0478d66044abd375af">getDirDelim</a> {
    <span class="keywordflow">return</span> (<span class="stringliteral">&quot;/&quot;</span>);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aa1eb9199ad562e67f2020ccf1e13a4b6"></a><!-- doxytag: member="WeBWorK::PG::IO::includePGtext" ref="aa1eb9199ad562e67f2020ccf1e13a4b6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::PG::IO::includePGtext </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-includePGtext' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-includePGtext-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-includePGtext-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-includePGtext-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in includePGtext: 15</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1PG_1_1IO.html#aa1eb9199ad562e67f2020ccf1e13a4b6">includePGtext</a>  {
    my $evalString = shift;
    <span class="keywordflow">if</span> (ref($evalString) eq <span class="stringliteral">&#39;SCALAR&#39;</span>) {
        $evalString = $$evalString;
    }
    $evalString =~ s/\nBEGIN_TEXT/\nTEXT\(EV3\(&lt;&lt;<span class="stringliteral">&#39;END_TEXT&#39;</span>\)\);/g;
    $evalString =~ s/\\/\\\\/g; # \ can<span class="stringliteral">&#39;t be used for escapes because of TeX conflict</span>
<span class="stringliteral">    $evalString =~ s/~~/\\/g;   # use ~~ as escape instead, use # for comments</span>
<span class="stringliteral">    no strict;</span>
<span class="stringliteral">    eval(&quot;package main; $evalString&quot;) ;</span>
<span class="stringliteral">    my $errors = $@;</span>
<span class="stringliteral">    die eval(q! &quot;ERROR in included file:\n$main::envir{probFileName}\n $errors\n$evalString&quot;!) if $errors;</span>
<span class="stringliteral">    use strict;</span>
<span class="stringliteral">    return &quot;&quot;;</span>
<span class="stringliteral">}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a18099d79fcc800e385dacc53570d8c3f"></a><!-- doxytag: member="WeBWorK::PG::IO::read_whole_file" ref="a18099d79fcc800e385dacc53570d8c3f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::PG::IO::read_whole_file </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-read_whole_file' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-read_whole_file-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-read_whole_file-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-read_whole_file-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in read_whole_file: 9</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1PG_1_1IO.html#a18099d79fcc800e385dacc53570d8c3f">read_whole_file</a> {
    my $filePath = shift;
    local (*INPUT);
    open(INPUT, <span class="stringliteral">&quot;&lt;$filePath&quot;</span>) || die <span class="stringliteral">&quot;$0: read_whole_file subroutine: &lt;BR&gt;Can&#39;t read file $filePath&quot;</span>;
    local($/)=undef;
    my $string = &lt;INPUT&gt;;  # can<span class="stringliteral">&#39;t append spaces because this causes trouble with &lt;&lt;&#39;</span>EOF<span class="stringliteral">&#39;   \nEOF construction</span>
<span class="stringliteral">    close(INPUT);</span>
<span class="stringliteral">    \$string;</span>
<span class="stringliteral">}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a766ccd325ff654d371b9cd167735d99a"></a><!-- doxytag: member="WeBWorK::PG::IO::read_whole_problem_file" ref="a766ccd325ff654d371b9cd167735d99a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::PG::IO::read_whole_problem_file </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-read_whole_problem_file' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-read_whole_problem_file-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-read_whole_problem_file-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-read_whole_problem_file-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in read_whole_problem_file: 7</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1PG_1_1IO.html#a766ccd325ff654d371b9cd167735d99a">read_whole_problem_file</a> {
    my $filePath = shift;
    $filePath =~s/^\s*<span class="comment">//; # get rid of initial spaces</span>
    $filePath =~s/\s*$<span class="comment">//; # get rid of final spaces</span>
    $filePath = <span class="stringliteral">&quot;$filePath.pg&quot;</span> unless $filePath =~ /\.pg$/;
    <a class="code" href="classWeBWorK_1_1PG_1_1IO.html#a18099d79fcc800e385dacc53570d8c3f">read_whole_file</a>($filePath);
}
</pre></div>  
</div>
 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="IO_8pm_source.html">IO.pm</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Jun 8 22:55:05 2012 for PG by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
