<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PG: AlgParser Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>AlgParser Class Reference</h1><!-- doxytag: class="AlgParser" -->
<p><a href="classAlgParser-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Avaliable Methods</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp9be22fb8347fa3884856571d2a5f020b"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlgParser.html#a5a45be03be58c9c26659873ed36b9940">normalize_expr</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlgParser.html#a45d1591ef5693ef6861826abec66affc">arraytoexpr</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlgParser.html#afd03409817885dfc34c0ac74fc6f8c13">parse</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlgParser.html#af51688ec2062840202175dac8f08c206">exprtolatex</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlgParser.html#a94d0bae640edf0332e09f3f089b3aa22">inittokenizer</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlgParser.html#a4cf281bafa3c800da82c2ab6965231a7">exprtolatexstr</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlgParser.html#a325cd232022234f6212c98a6df47ac48">normalize</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlgParser.html#ac42bb5bf8b0241f8bc454066c3df6188">exprtostr</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlgParser.html#ad979d3a5a6f5c08e118036aa372678f5">tolatex</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlgParser.html#a4fea9e697c36d64420cd37b2e11c73b3">nexttoken</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlgParser.html#a737a2bc2c47f7aa40601c8ed20fab204">error</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlgParser.html#a526e254baeb93d198a37b0b9e8f559d5">tostring</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlgParser.html#a1d634001e1e666025df3cedc152a49af">new</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlgParser.html#aa3b2ada2595920ce2a67c7a4152ae41b">tolatexstring</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="AlgParser_8pm_source.html#l00012">12</a> of file <a class="el" href="AlgParser_8pm_source.html">AlgParser.pm</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a45d1591ef5693ef6861826abec66affc"></a><!-- doxytag: member="AlgParser::arraytoexpr" ref="a45d1591ef5693ef6861826abec66affc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method AlgParser::arraytoexpr </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-arraytoexpr' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-arraytoexpr-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-arraytoexpr-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-arraytoexpr-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in arraytoexpr: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classAlgParser.html#a45d1591ef5693ef6861826abec66affc">arraytoexpr</a> {
  my ($self) = shift;
  <span class="keywordflow">return</span> <a class="code" href="classExpr.html">Expr</a>-&gt;fromarray(@_);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a737a2bc2c47f7aa40601c8ed20fab204"></a><!-- doxytag: member="AlgParser::error" ref="a737a2bc2c47f7aa40601c8ed20fab204" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method AlgParser::error </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-error' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-error-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-error-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-error-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in error: 36</span>
<span class="preprocessor"></span>sub <a class="code" href="classAlgParser.html#a737a2bc2c47f7aa40601c8ed20fab204">error</a> {
  my($self, $errstr, @markers) = @_;
<span class="preprocessor">#  print STDERR Data::Dumper-&gt;Dump([\@markers],</span>
<span class="preprocessor"></span><span class="preprocessor">#                                  [&#39;$markers&#39;]);</span>
<span class="preprocessor"></span>  $self-&gt;{parseerror} = $errstr;
  my($htmledstring) = <span class="stringliteral">&#39;&lt;tt class=&quot;parseinput&quot;&gt;&#39;</span>;
  my($str) = $self-&gt;{<span class="keywordtype">string</span>};
<span class="preprocessor">#  print STDERR Data::Dumper-&gt;Dump([$str], [&#39;$str&#39;]);</span>
<span class="preprocessor"></span>  my($lastpos) = 0;
  $str =~ s/ /\240/g;
  <span class="keywordflow">while</span>(@markers) {
    my($ref) = shift @markers;
    my($pos1) = $ref-&gt;[0];
    my($pos2) = $ref-&gt;[1];
    <span class="keywordflow">if</span> (!defined($pos2)) {$pos2 = $pos1+1;}
    $htmledstring .= encode_entities(substr($str,$lastpos,$pos1-$lastpos)) .
           <span class="stringliteral">&#39;&lt;b class=&quot;parsehilight&quot;&gt;&#39;</span> .
           encode_entities(substr($str,$pos1,$pos2-$pos1)) .
           <span class="stringliteral">&#39;&lt;/b&gt;&#39;</span>;
    $lastpos = $pos2;
  }
<span class="preprocessor">#  print STDERR Data::Dumper-&gt;Dump([$str, $htmledstring, $lastpos],</span>
<span class="preprocessor"></span><span class="preprocessor">#                                  [&#39;$str&#39;, &#39;$htmledstring&#39;, &#39;$lastpos&#39;]);</span>
<span class="preprocessor"></span>  $htmledstring .= encode_entities(substr($str,$lastpos));
  $htmledstring .= <span class="stringliteral">&#39;&lt;/tt&gt;&#39;</span>;
<span class="preprocessor">#  $self-&gt;{htmlerror} = &#39;&lt;p class=&quot;parseerr&quot;&gt;&#39; . &quot;\n&quot; .</span>
<span class="preprocessor"></span><span class="preprocessor">#                       &#39;&lt;span class=&quot;parsedesc&quot;&gt;&#39; .</span>
<span class="preprocessor"></span><span class="preprocessor">#                       encode_entities($errstr) . &#39;&lt;/span&gt;&lt;br&gt;&#39; . &quot;\n&quot; .</span>
<span class="preprocessor"></span><span class="preprocessor">#                       $htmledstring . &quot;\n&quot; . &#39;&lt;/p&gt;&#39; . &quot;\n&quot;;</span>
<span class="preprocessor"></span>  $self-&gt;{htmlerror} =  $htmledstring ;
  $self-&gt;{htmlerror} =  <span class="stringliteral">&#39;empty&#39;</span> <span class="keywordflow">if</span> $errstr eq <span class="stringliteral">&#39;empty&#39;</span>;
  $self-&gt;{error_msg} = $errstr;

<span class="preprocessor">#  warn $errstr . &quot;\n&quot;;</span>
<span class="preprocessor"></span>  <span class="keywordflow">return</span> undef;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="af51688ec2062840202175dac8f08c206"></a><!-- doxytag: member="AlgParser::exprtolatex" ref="af51688ec2062840202175dac8f08c206" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method AlgParser::exprtolatex </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-exprtolatex' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-exprtolatex-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-exprtolatex-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-exprtolatex-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in exprtolatex: 10</span>
<span class="preprocessor"></span>sub <a class="code" href="classAlgParser.html#af51688ec2062840202175dac8f08c206">exprtolatex</a> {
  my($expr) = shift;
  my($exprobj);
  <span class="keywordflow">if</span> ((ref $expr) eq <span class="stringliteral">&#39;ARRAY&#39;</span>) {
    $exprobj = <a class="code" href="classExpr.html">Expr</a>-&gt;new(@$expr);
  } <span class="keywordflow">else</span> {
    $exprobj = $expr;
  }
  <span class="keywordflow">return</span> $exprobj-&gt;tolatex();
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a4cf281bafa3c800da82c2ab6965231a7"></a><!-- doxytag: member="AlgParser::exprtolatexstr" ref="a4cf281bafa3c800da82c2ab6965231a7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method AlgParser::exprtolatexstr </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-exprtolatexstr' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-exprtolatexstr-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-exprtolatexstr-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-exprtolatexstr-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in exprtolatexstr: 3</span>
<span class="preprocessor"></span>sub <a class="code" href="classAlgParser.html#a4cf281bafa3c800da82c2ab6965231a7">exprtolatexstr</a> {
  <span class="keywordflow">return</span> <a class="code" href="classAlgParser.html#af51688ec2062840202175dac8f08c206">exprtolatex</a>(@_);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ac42bb5bf8b0241f8bc454066c3df6188"></a><!-- doxytag: member="AlgParser::exprtostr" ref="ac42bb5bf8b0241f8bc454066c3df6188" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method AlgParser::exprtostr </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-exprtostr' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-exprtostr-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-exprtostr-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-exprtostr-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in exprtostr: 10</span>
<span class="preprocessor"></span>sub <a class="code" href="classAlgParser.html#ac42bb5bf8b0241f8bc454066c3df6188">exprtostr</a> {
  my($expr) = shift;
  my($exprobj);
  <span class="keywordflow">if</span> ((ref $expr) eq <span class="stringliteral">&#39;ARRAY&#39;</span>) {
    $exprobj = <a class="code" href="classExpr.html">Expr</a>-&gt;new(@$expr);
  } <span class="keywordflow">else</span> {
    $exprobj = $expr;
  }
  <span class="keywordflow">return</span> $exprobj-&gt;tostring();
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a94d0bae640edf0332e09f3f089b3aa22"></a><!-- doxytag: member="AlgParser::inittokenizer" ref="a94d0bae640edf0332e09f3f089b3aa22" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method AlgParser::inittokenizer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-inittokenizer' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-inittokenizer-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-inittokenizer-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-inittokenizer-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in inittokenizer: 8</span>
<span class="preprocessor"></span>sub <a class="code" href="classAlgParser.html#a94d0bae640edf0332e09f3f089b3aa22">inittokenizer</a> {
  my($self, $string) = @_;
  $self-&gt;{<span class="keywordtype">string</span>} =~ m/\G.*$/g;
  $self-&gt;{<span class="keywordtype">string</span>} = undef;
  $self-&gt;{<span class="keywordtype">string</span>} = $string;
  $self-&gt;{<span class="keywordtype">string</span>} =~ m/\G.*$/g;
  $self-&gt;{<span class="keywordtype">string</span>} =~ m/^/g;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a1d634001e1e666025df3cedc152a49af"></a><!-- doxytag: member="AlgParser::new" ref="a1d634001e1e666025df3cedc152a49af" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method AlgParser::new </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-new' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-new-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-new-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-new-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in new: 10</span>
<span class="preprocessor"></span>sub <span class="keyword">new</span> {
  my $package = shift;
  my (%ret);
  $ret{<span class="keywordtype">string</span>} = <span class="stringliteral">&quot;&quot;</span>;
  $ret{posarray} = [];
  $ret{parseerror} = <span class="stringliteral">&quot;&quot;</span>;
  $ret{parseresult} = [];
  bless \%ret, $package;
  <span class="keywordflow">return</span> \%ret;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a4fea9e697c36d64420cd37b2e11c73b3"></a><!-- doxytag: member="AlgParser::nexttoken" ref="a4fea9e697c36d64420cd37b2e11c73b3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method AlgParser::nexttoken </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-nexttoken' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-nexttoken-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-nexttoken-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-nexttoken-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in nexttoken: 22</span>
<span class="preprocessor"></span>sub <a class="code" href="classAlgParser.html#a4fea9e697c36d64420cd37b2e11c73b3">nexttoken</a> {
  my($self) = shift;
  $self-&gt;{<span class="keywordtype">string</span>} =~ m/\G\s+/gc;
  my($p1) = pos($self-&gt;{<span class="keywordtype">string</span>}) || 0;
  <span class="keywordflow">if</span>(scalar($self-&gt;{<span class="keywordtype">string</span>} =~ m/\G$tokenregexp/gc)) {
        push @{$self-&gt;{posarray}}, [$p1, pos($self-&gt;{<span class="keywordtype">string</span>})];
    <span class="keywordflow">if</span> (defined($1)) {<span class="keywordflow">return</span> [<span class="stringliteral">&#39;binop3&#39;</span>,  $1];}
    <span class="keywordflow">if</span> (defined($2)) {<span class="keywordflow">return</span> [<span class="stringliteral">&#39;binop2&#39;</span>,  $2];}
    <span class="keywordflow">if</span> (defined($3)) {<span class="keywordflow">return</span> [<span class="stringliteral">&#39;binop1&#39;</span>,  $3];}
    <span class="keywordflow">if</span> (defined($4)) {<span class="keywordflow">return</span> [<span class="stringliteral">&#39;openp&#39;</span>,   $4];}
    <span class="keywordflow">if</span> (defined($5)) {<span class="keywordflow">return</span> [<span class="stringliteral">&#39;closep&#39;</span>,  $5];}
    <span class="keywordflow">if</span> (defined($6)) {<span class="keywordflow">return</span> [<span class="stringliteral">&#39;func1&#39;</span>,   $6];}
    <span class="keywordflow">if</span> (defined($7)) {<span class="keywordflow">return</span> [<span class="stringliteral">&#39;special&#39;</span>, $7];}
    <span class="keywordflow">if</span> (defined($8)) {<span class="keywordflow">return</span> [<span class="stringliteral">&#39;varname&#39;</span>, $8];}
    <span class="keywordflow">if</span> (defined($9)) {<span class="keywordflow">return</span> [<span class="stringliteral">&#39;numberE&#39;</span>, $9];}
    <span class="keywordflow">if</span> (defined($10)) {<span class="keywordflow">return</span> [<span class="stringliteral">&#39;number&#39;</span>, $10];}
  }
  <span class="keywordflow">else</span> {
    push @{$self-&gt;{posarray}}, [$p1, undef];
    <span class="keywordflow">return</span> undef;
  }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a325cd232022234f6212c98a6df47ac48"></a><!-- doxytag: member="AlgParser::normalize" ref="a325cd232022234f6212c98a6df47ac48" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method AlgParser::normalize </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-normalize' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-normalize-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-normalize-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-normalize-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in normalize: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classAlgParser.html#a325cd232022234f6212c98a6df47ac48">normalize</a> {
  my ($self, $degree) = @_;
  $self-&gt;{parseresult} = $self-&gt;{parseresult}-&gt;normalize($degree);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a5a45be03be58c9c26659873ed36b9940"></a><!-- doxytag: member="AlgParser::normalize_expr" ref="a5a45be03be58c9c26659873ed36b9940" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method AlgParser::normalize_expr </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-normalize_expr' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-normalize_expr-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-normalize_expr-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-normalize_expr-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in normalize_expr: 10</span>
<span class="preprocessor"></span>sub <a class="code" href="classAlgParser.html#a5a45be03be58c9c26659873ed36b9940">normalize_expr</a> {
  my($expr, $degree) = @_;
  my($exprobj);
  <span class="keywordflow">if</span> ((ref $expr) eq <span class="stringliteral">&#39;ARRAY&#39;</span>) {
    $exprobj = <a class="code" href="classExpr.html">Expr</a>-&gt;new(@$expr);
  } <span class="keywordflow">else</span> {
    $exprobj = $expr;
  }
  <span class="keywordflow">return</span> $exprobj-&gt;normalize($degree);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="afd03409817885dfc34c0ac74fc6f8c13"></a><!-- doxytag: member="AlgParser::parse" ref="afd03409817885dfc34c0ac74fc6f8c13" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method AlgParser::parse </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-parse' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-parse-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-parse-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-parse-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in parse: 199</span>
<span class="preprocessor"></span>sub <a class="code" href="classAlgParser.html#afd03409817885dfc34c0ac74fc6f8c13">parse</a> {
  my $self = shift;
  $self-&gt;{parseerror} = <span class="stringliteral">&quot;&quot;</span>;
  $self-&gt;{posarray} = [];
  $self-&gt;{parseresult} = [<span class="stringliteral">&#39;top&#39;</span>, undef];
  my (@backtrace) = (\$self-&gt;{parseresult});
  my (@pushback) = ();

  my $currentref = \$self-&gt;{parseresult}-&gt;[1];
  my $curenttok;

  my $sstring = shift;
  $self-&gt;inittokenizer($sstring);
  $currenttok = $self-&gt;nexttoken;
  <span class="keywordflow">if</span> (!$currenttok) {
    <span class="keywordflow">if</span> ($self-&gt;{<span class="keywordtype">string</span>} =~ m/\G$/g) {
      <span class="keywordflow">return</span> $self-&gt;error(<span class="stringliteral">&quot;empty&quot;</span>);
    } <span class="keywordflow">else</span> {
      my($mark) = pop @{$self-&gt;{posarray}};
      my $position = 1+$mark-&gt;[0];
      <span class="keywordflow">return</span> $self-&gt;error(<span class="stringliteral">&quot;Illegal character at position $position&quot;</span>, $mark);
    }
  }
<span class="preprocessor">  # so I can assume we got a token</span>
<span class="preprocessor"></span>  local $_;
  <span class="keywordflow">while</span> ($currenttok) {
    $_ = $currenttok-&gt;[0];
    /binop1/ &amp;&amp; <span class="keywordflow">do</span> {
<span class="preprocessor">      # check if we have a binary or unary operation here.</span>
<span class="preprocessor"></span>      <span class="keywordflow">if</span> (defined(${$currentref})) {
<span class="preprocessor">        # binary - walk up the tree until we hit an open paren or the top</span>
<span class="preprocessor"></span>        <span class="keywordflow">while</span> (${$currentref}-&gt;[0] !~ /^(openp|top)/) {
          $currentref = pop @backtrace;
        }
    my $index = ((${$currentref}-&gt;[0] eq <span class="stringliteral">&#39;top&#39;</span>)?1:3);
        ${$currentref}-&gt;[$index] = [<span class="stringliteral">&#39;binop1&#39;</span>, $currenttok-&gt;[1],
                                    ${$currentref}-&gt;[$index], undef];
        push @backtrace, $currentref;
        push @backtrace, \${$currentref}-&gt;[$index];
        $currentref = \${$currentref}-&gt;[$index]-&gt;[3];
      } <span class="keywordflow">else</span> {
<span class="preprocessor">        # unary</span>
<span class="preprocessor"></span>        ${$currentref} = [<span class="stringliteral">&#39;unop1&#39;</span>, $currenttok-&gt;[1], undef];
        push @backtrace, $currentref;
        $currentref = \${$currentref}-&gt;[2];
      }
    };
    /binop2/ &amp;&amp; <span class="keywordflow">do</span> {
      <span class="keywordflow">if</span> (defined(${$currentref})) {
<span class="preprocessor">        # walk up the tree until an open paren, the top, binop1 or unop1</span>
<span class="preprocessor"></span><span class="preprocessor">        # I decide arbitrarily that -3*4 should be parsed as -(3*4)</span>
<span class="preprocessor"></span><span class="preprocessor">        # instead of as (-3)*4.  Not that it makes a difference.</span>
<span class="preprocessor"></span>
        <span class="keywordflow">while</span> (${$currentref}-&gt;[0] !~ /^(openp|top|binop1)/) {
          $currentref = pop @backtrace;
        }
        my $a = ${$currentref}-&gt;[0];
        my $index = (($a eq <span class="stringliteral">&#39;top&#39;</span>)?1:3);
        ${$currentref}-&gt;[$index] = [<span class="stringliteral">&#39;binop2&#39;</span>, $currenttok-&gt;[1],
                                    ${$currentref}-&gt;[$index], undef];
        push @backtrace, $currentref;
        push @backtrace, \${$currentref}-&gt;[$index];
        $currentref = \${$currentref}-&gt;[$index]-&gt;[3];
      } <span class="keywordflow">else</span> {
<span class="preprocessor">        # Error</span>
<span class="preprocessor"></span>        my($mark) = pop @{$self-&gt;{posarray}};
        my $position =1+$mark-&gt;[0];
        <span class="keywordflow">return</span> $self-&gt;error(<span class="stringliteral">&quot;Didn&#39;t expect &quot;</span> . $currenttok-&gt;[1] .
                            <span class="stringliteral">&quot; at position $position&quot;</span> , $mark);
      }
    };
    /binop3/ &amp;&amp; <span class="keywordflow">do</span> {
      <span class="keywordflow">if</span> (defined(${$currentref})) {
<span class="preprocessor">        # walk up the tree until we need to stop</span>
<span class="preprocessor"></span><span class="preprocessor">        # Note that the right-associated nature of ^ means we need to</span>
<span class="preprocessor"></span><span class="preprocessor">        # stop walking backwards when we hit a ^ as well.</span>
<span class="preprocessor"></span>        <span class="keywordflow">while</span> (${$currentref}-&gt;[0] !~ /^(openp|top|binop[123]|unop1)/) {
          $currentref = pop @backtrace;
        }
        my $a = ${$currentref}-&gt;[0];
        my $index = ($a eq <span class="stringliteral">&#39;top&#39;</span>)?1:($a eq <span class="stringliteral">&#39;unop1&#39;</span>)?2:3;
        ${$currentref}-&gt;[$index] = [<span class="stringliteral">&#39;binop3&#39;</span>, $currenttok-&gt;[1],
                                    ${$currentref}-&gt;[$index], undef];
        push @backtrace, $currentref;
        push @backtrace, \${$currentref}-&gt;[$index];
        $currentref = \${$currentref}-&gt;[$index]-&gt;[3];
      } <span class="keywordflow">else</span> {
<span class="preprocessor">        # Error</span>
<span class="preprocessor"></span>        my($mark) = pop @{$self-&gt;{posarray}};
        my $position = 1+$mark-&gt;[0];
        <span class="keywordflow">return</span> $self-&gt;error(<span class="stringliteral">&quot;Didn&#39;t expect &quot;</span> . $currenttok-&gt;[1] .
                            <span class="stringliteral">&quot; at position $position&quot;</span>, $mark);
      }
    };
    /openp/ &amp;&amp; <span class="keywordflow">do</span> {
      <span class="keywordflow">if</span> (defined(${$currentref})) {
<span class="preprocessor">        # we weren&#39;t expecting this - must be implicit</span>
<span class="preprocessor"></span><span class="preprocessor">        # multiplication.</span>
<span class="preprocessor"></span>        push @pushback, $currenttok;
        $currenttok = [<span class="stringliteral">&#39;binop2&#39;</span>, <span class="stringliteral">&#39;implicit&#39;</span>];
        next;
      } <span class="keywordflow">else</span> {
        my($me) = pop @{$self-&gt;{posarray}};
        ${$currentref} = [$currenttok-&gt;[0], $currenttok-&gt;[1], $me, undef];
        push @backtrace, $currentref;
        $currentref = \${$currentref}-&gt;[3];
      }
    };
    /func1/ &amp;&amp; <span class="keywordflow">do</span> {
      <span class="keywordflow">if</span> (defined(${$currentref})) {
<span class="preprocessor">        # we weren&#39;t expecting this - must be implicit</span>
<span class="preprocessor"></span><span class="preprocessor">        # multiplication.</span>
<span class="preprocessor"></span>        push @pushback, $currenttok;
        $currenttok = [<span class="stringliteral">&#39;binop2&#39;</span>, <span class="stringliteral">&#39;implicit&#39;</span>];
        next;
      } <span class="keywordflow">else</span> {
<span class="preprocessor">        # just like a unary operator</span>
<span class="preprocessor"></span>        ${$currentref} = [$currenttok-&gt;[0], $currenttok-&gt;[1], undef];
        push @backtrace, $currentref;
        $currentref = \${$currentref}-&gt;[2];
      }
    };
    /closep/ &amp;&amp; <span class="keywordflow">do</span> {
      <span class="keywordflow">if</span> (defined(${$currentref})) {
<span class="preprocessor">        # walk up the tree until we need to stop</span>
<span class="preprocessor"></span>        <span class="keywordflow">while</span> (${$currentref}-&gt;[0] !~ /^(openp|top)/) {
          $currentref = pop @backtrace;
        }
        my $a = ${$currentref}-&gt;[0];
        <span class="keywordflow">if</span> ($a eq <span class="stringliteral">&#39;top&#39;</span>) {
          my($mark) = pop @{$self-&gt;{posarray}};
          my $position = 1+$mark-&gt;[0];
          <span class="keywordflow">return</span> $self-&gt;error(<span class="stringliteral">&quot;Unmatched close &quot;</span> . $currenttok-&gt;[1] .
                              <span class="stringliteral">&quot; at position $position&quot;</span>, $mark);
        } elsif ($close{${$currentref}-&gt;[1]} ne $currenttok-&gt;[1]) {
          my($mark) = pop @{$self-&gt;{posarray}};
          my $position = 1+$mark-&gt;[0];
          <span class="keywordflow">return</span> $self-&gt;error(<span class="stringliteral">&quot;Mismatched parens at position $position&quot;</span>
                              , ${$currentref}-&gt;[2], $mark);
        } <span class="keywordflow">else</span> {
          ${$currentref}-&gt;[0] = <span class="stringliteral">&#39;closep&#39;</span>;
          ${$currentref}-&gt;[2] = pop @{${$currentref}};
        }
      } <span class="keywordflow">else</span> {
<span class="preprocessor">        # Error - something like (3+4*)</span>
<span class="preprocessor"></span>        my($mark) = pop @{$self-&gt;{posarray}};
        my $position = 1+$mark-&gt;[0];
        <span class="keywordflow">return</span> $self-&gt;error(<span class="stringliteral">&quot;Premature close &quot;</span> . $currenttok-&gt;[1] .
                            <span class="stringliteral">&quot; at position $position&quot;</span>, $mark);
      }
    };
    /special|varname|numberE?/ &amp;&amp; <span class="keywordflow">do</span> {
      <span class="keywordflow">if</span> (defined(${$currentref})) {
<span class="preprocessor">        # we weren&#39;t expecting this - must be implicit</span>
<span class="preprocessor"></span><span class="preprocessor">        # multiplication.</span>
<span class="preprocessor"></span>        push @pushback, $currenttok;
        $currenttok = [<span class="stringliteral">&#39;binop2&#39;</span>, <span class="stringliteral">&#39;implicit&#39;</span>];
        next;
      } <span class="keywordflow">else</span> {
        ${$currentref} = [$currenttok-&gt;[0], $currenttok-&gt;[1]];
      }
    };
    <span class="keywordflow">if</span> (@pushback) {
      $currenttok = pop @pushback;
    } <span class="keywordflow">else</span> {
      $currenttok = $self-&gt;nexttoken;
    }
  }
<span class="preprocessor">  # ok, we stopped parsing.  Now we need to see why.</span>
<span class="preprocessor"></span>  <span class="keywordflow">if</span> ($self-&gt;{parseresult}-&gt;[0] eq <span class="stringliteral">&#39;top&#39;</span>) {
    $self-&gt;{parseresult} = $self-&gt;arraytoexpr($self-&gt;{parseresult}-&gt;[1]);
  } <span class="keywordflow">else</span> {
    <span class="keywordflow">return</span> $self-&gt;error(<span class="stringliteral">&quot;Internal consistency error; not at top when done&quot;</span>);
  }
  <span class="keywordflow">if</span> ($self-&gt;{<span class="keywordtype">string</span>} =~ m/\G\s*$/g) {
    <span class="keywordflow">if</span> (!defined(${$currentref})) {
      $self-&gt;{<span class="keywordtype">string</span>} .= <span class="stringliteral">&quot; &quot;</span>;
      <span class="keywordflow">return</span> $self-&gt;error(<span class="stringliteral">&quot;I was expecting more at the end of the line&quot;</span>,
                        [length($self-&gt;{<span class="keywordtype">string</span>})-1, length($self-&gt;{<span class="keywordtype">string</span>})]);
    } <span class="keywordflow">else</span> {
<span class="preprocessor">      # check that all the parens were closed</span>
<span class="preprocessor"></span>      <span class="keywordflow">while</span> (@backtrace) {
        $currentref = pop @backtrace;
        <span class="keywordflow">if</span> (${$currentref}-&gt;[0] eq <span class="stringliteral">&#39;openp&#39;</span>) {
          my($mark) = ${$currentref}-&gt;[2];
          my $position = 1+$mark-&gt;[0];
          <span class="keywordflow">return</span> $self-&gt;error(<span class="stringliteral">&quot;Unclosed parentheses beginning at position $position&quot;</span>
                         , $mark);
        }
      }
<span class="preprocessor">      # Ok, we must really have parsed something</span>
<span class="preprocessor"></span>      <span class="keywordflow">return</span> $self-&gt;{parseresult};
    }
  } <span class="keywordflow">else</span> {
      my($mark) = pop @{$self-&gt;{posarray}};
      my $position = 1+$mark-&gt;[0];
      <span class="keywordflow">return</span> $self-&gt;error(<span class="stringliteral">&quot;Illegal character at position $position&quot;</span>,$mark);
  }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ad979d3a5a6f5c08e118036aa372678f5"></a><!-- doxytag: member="AlgParser::tolatex" ref="ad979d3a5a6f5c08e118036aa372678f5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method AlgParser::tolatex </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-tolatex' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-tolatex-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-tolatex-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-tolatex-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in tolatex: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classAlgParser.html#ad979d3a5a6f5c08e118036aa372678f5">tolatex</a> {
  my ($self) = shift;
  <span class="keywordflow">return</span> $self-&gt;{parseresult}-&gt;tolatex(@_);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aa3b2ada2595920ce2a67c7a4152ae41b"></a><!-- doxytag: member="AlgParser::tolatexstring" ref="aa3b2ada2595920ce2a67c7a4152ae41b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method AlgParser::tolatexstring </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-tolatexstring' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-tolatexstring-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-tolatexstring-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-tolatexstring-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in tolatexstring: 1</span>
<span class="preprocessor">sub tolatexstring { return tolatex(@_);}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a526e254baeb93d198a37b0b9e8f559d5"></a><!-- doxytag: member="AlgParser::tostring" ref="a526e254baeb93d198a37b0b9e8f559d5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method AlgParser::tostring </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-tostring' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-tostring-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-tostring-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-tostring-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in tostring: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classAlgParser.html#a526e254baeb93d198a37b0b9e8f559d5">tostring</a> {
  my ($self) = shift;
  <span class="keywordflow">return</span> $self-&gt;{parseresult}-&gt;tostring(@_);
}
</pre></div>  
</div>
 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="AlgParser_8pm_source.html">AlgParser.pm</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Jun 8 22:54:56 2012 for PG by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
