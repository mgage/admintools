<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PG: Value::Formula Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="classValue.html">Value</a>::<a class="el" href="classValue_1_1Formula.html">Formula</a>
  </div>
</div>
<div class="contents">
<h1>Value::Formula Class Reference</h1><!-- doxytag: class="Value::Formula" --><!-- doxytag: inherits="Value,Value" --><div class="dynheader">
Inheritance diagram for Value::Formula:</div>
<div class="dynsection">
<div class="center"><img src="classValue_1_1Formula__inherit__graph.png" border="0" usemap="#Value_1_1Formula_inherit__map" alt="Inheritance graph"/></div>
<map name="Value_1_1Formula_inherit__map" id="Value_1_1Formula_inherit__map">
<area shape="rect" href="classValue.html" title="Value" alt="" coords="32,5,85,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Value::Formula:</div>
<div class="dynsection">
<div class="center"><img src="classValue_1_1Formula__coll__graph.png" border="0" usemap="#Value_1_1Formula_coll__map" alt="Collaboration graph"/></div>
<map name="Value_1_1Formula_coll__map" id="Value_1_1Formula_coll__map">
<area shape="rect" href="classValue.html" title="Value" alt="" coords="32,5,85,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classValue_1_1Formula-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Avaliable Methods</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp9be22fb8347fa3884856571d2a5f020b"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a10556b8f292dacc879252e3d7e9b1dd6">named_ans_array</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a6a6097c907ac3195976ea0680bfd26d5">cmp_diagnostics</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a59b3031c637ac3ffe43f4b4a34a38309">cmp_postprocess</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#ae1f7466ef10a705af7fcc79a7aa98f31">ans_array</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a8e78ffb5f8b0128ab7a03f156e3dddf6">cmp_defaults</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a999f7dea39b2bd2faa1301597a86bebd">getTypicalValue</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a1d48e13cdb835b39fee3e089f8470e23">correct_ans</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a0d2f39704b0fc8e5d43e2acc1559c915">cmp_graph_function</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a502c57095c269356d6921d0a66284090">ANS_MATRIX</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a90b6ec7ebfe183551459f88b8600fa3d">named_ans_array_extension</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a40b0a6aa714a449e578a6ed3da840f45">cmp_graph</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a164aa7d52c1d82bbe2d096a682ce27ee">cmp_postfilter</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a1b0840ad589211bb26baacd9dea82248">value</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a20310c2233e0bd25cc376ff887bbe8e3">typeMatch</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#aaaf93f7e6bd3d0623044b818913415da">array_OK</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a80fd953fcddc3b801128b81a913c69d7">cmp</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a79afdfd2e0fbaab12589bae26d9d17df">cmp_prefilter</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a51ea8bef6d8dcc32b71d58968f96cfc4">cmp_equal</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a1eaa0be5a8f1b7814d04b680bda510a8">cmp_call_filter</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">private method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a725999bbb72dcafb15b69b90e25800dc">_dot</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#affdee934d13b097bf00b27aa234c75a5">compare</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a6042cc71865b13bd78395643b1e4b70b">sqrt</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a80c35584c7ae9a09362f9d188b1b957b">atan2</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#ad509b91d4d3ed78278592895d865475c">canBeInUnion</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#aaa70385b10f3871350a9b3ac37982605">cross</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a3a68ca5dd5962a4680db6014b07a5e74">isSetOfReals</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#ac97172abc087f2ef96e85efb0b8af602">getVariableTypes</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a2ae5a833f1540e74fb8a25adb1dca4b0">isZero</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a02a16f98a85c82a5f9c0e1935e90bd57">AdaptParameters</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#ac4a8c1f03996ef4e4705fafeeeba4233">typeRef</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#af11e3717dfba73aba10192371c4882b9">power</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a9d2d18d4b3a10284dfdf2e4e3b045338">blank</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a6d5f4cfb9b962e8ac095f63dfdf0026a">isOne</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a0cbd46d988b40d9f4e2fda8359d9b198">new</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#aab8c16ce2f3f056d33f64c64822b46fc">getVariableLimits</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a2588d7175f9e38522386f63cd5790747">neg</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a49caff2a47a81523e1ba632c4abafc89">exp</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a0daa75220958da8a376647cc4c845444">createRandomPoints</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a474e3f798ae31cf5a6ac05870ff3fbcd">twiddle</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a35ac1f1e485d186c1a0330ba606caa12">abs</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a2cc92506cbe638e2bb810578fea98456">sin</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#ab09428fcf57bd3b90d79c5bc49ee0e38">noinherit</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a934df1d61f2ceba7c4d46d0aaf33c6bf">number::make</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a21502104ef1112cab127f527a6a78008">mult</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#ab1c5850cf84b6b8b4a7d8da086174b4b">inherit</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a75fa9a9698d9fc2fbccd3f2051a83459">with</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a948af72e75519634898c6e06ae537a20">isConstant</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#aecb256cf2d582d936cac45c59a86ddaf">transferFlags</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a6b2c96803734860260cf859342563813">div</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#ac2a76a322b0f177ec21ca3493f6d7dd9">add</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a248a84ba73469f6413f1c3f7fd5c25b9">getRandom</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a2674656ae704a8e2898dc8c4ceadeb53">usesOneOf</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a40837d1bbce9d1e315686d345aafa949">cos</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a5956bb0b2f5f150c414b59aba9463230">call</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a0aa571e6647b124b9a05350698415e62">log</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#abffcc2a947da34b47624cab375aeb453">addGranularity</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a782c496f99c0432c7cc9ebac6054676c">createPointValues</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a4eb7955d859acc4bc828260c643dea54">bop</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a3c7fe918e5c532ff5433e8b1385a6496">createAdaptedValues</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#ab573ef294b2929bd2b313dd951ceb4e5">length</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#a0d225f56d868048490d25b76f0e0cd77">seedRandom</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValue_1_1Formula.html#ac4800aa3f124751d6cf69c8b4a016cc2">pdot</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="AnswerChecker_8pm_source.html#l02849">2849</a> of file <a class="el" href="AnswerChecker_8pm_source.html">AnswerChecker.pm</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a725999bbb72dcafb15b69b90e25800dc"></a><!-- doxytag: member="Value::Formula::_dot" ref="a725999bbb72dcafb15b69b90e25800dc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">private method Value::Formula::_dot </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-_dot' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-_dot-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_dot-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_dot-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in _dot: 7</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a725999bbb72dcafb15b69b90e25800dc">_dot</a>   {
  my ($l,$r,$flag) = @_;
  <span class="keywordflow">if</span> ($l-&gt;promotePrecedence($r)) {<span class="keywordflow">return</span> $r-&gt;_dot($l,!$flag)}
  <span class="keywordflow">return</span> <a class="code" href="classValue_1_1Formula.html#a4eb7955d859acc4bc828260c643dea54">bop</a>(<span class="charliteral">&#39;.&#39;</span>,@_) if ($l-&gt;type eq &#39;Vector&#39; || $l-&gt;{isVector}) &amp;&amp;
     <a class="code" href="classValue.html#a43e6b7aa1e386a5a9056190d0ac3cbb3">Value::isValue</a>($r) &amp;&amp; ($r-&gt;type eq <span class="stringliteral">&#39;Vector&#39;</span> || $r-&gt;{isVector});
  $l-&gt;SUPER::_dot($r,$flag);
}
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a79dd5297e543f9ec802ec5257b4e1cbb">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a35ac1f1e485d186c1a0330ba606caa12"></a><!-- doxytag: member="Value::Formula::abs" ref="a35ac1f1e485d186c1a0330ba606caa12" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::abs </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-abs' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-abs-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-abs-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-abs-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in abs: 1</span>
<span class="preprocessor">sub abs  {shift-&gt;call(&#39;abs&#39;,@_)}</span>
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#ada24288bb5b97628ff01fa378f8d606d">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a02a16f98a85c82a5f9c0e1935e90bd57"></a><!-- doxytag: member="Value::Formula::AdaptParameters" ref="a02a16f98a85c82a5f9c0e1935e90bd57" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::AdaptParameters </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-AdaptParameters' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-AdaptParameters-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-AdaptParameters-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-AdaptParameters-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in AdaptParameters: 66</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a02a16f98a85c82a5f9c0e1935e90bd57">AdaptParameters</a> {
  my $l = shift; my $r = shift;
  my @params = @_; my $d = scalar(@params); my $D;
  <span class="keywordflow">return</span> 0 <span class="keywordflow">if</span> $d == 0; <span class="keywordflow">return</span> 0 unless $l-&gt;usesOneOf(@params);
  $l-&gt;Error(<span class="stringliteral">&quot;Adaptive parameters can only be used for real-valued formulas&quot;</span>)
    unless $l-&gt;{tree}-&gt;isRealNumber;

<span class="preprocessor">  #</span>
<span class="preprocessor"></span><span class="preprocessor">  #  Try up to three times (the random points might not work the first time)</span>
<span class="preprocessor"></span><span class="preprocessor">  #</span>
<span class="preprocessor"></span>  <span class="keywordflow">foreach</span> my $attempt (1..3) {
<span class="preprocessor">    #</span>
<span class="preprocessor"></span><span class="preprocessor">    #  Get coefficient matrix of adaptive parameters</span>
<span class="preprocessor"></span><span class="preprocessor">    #  and value vector for linear system</span>
<span class="preprocessor"></span><span class="preprocessor">    #</span>
<span class="preprocessor"></span>    my ($p,$v) = $l-&gt;createRandomPoints($d);
    my @P = (0) x $d; my ($f,$F) = ($l-&gt;{f},$r-&gt;{f});
    my @A = (); my @b = ();
    <span class="keywordflow">foreach</span> my $i (0..$d-1) {
      my @a = (); my @p = @{$p-&gt;[$i]};
      <span class="keywordflow">foreach</span> my $j (0..$d-1) {
    $P[$j] = 1;
    my $y = <a class="code" href="classValue.html#a4cacd8a007b0b8473a1fe33c1bf36a2a">eval</a> {&amp;$f(@p,@P)};
    $l-&gt;Error([<span class="stringliteral">&quot;Can&#39;t evaluate correct answer at adapted point (%s)&quot;</span>,join(<span class="stringliteral">&quot;,&quot;</span>,@$p,@P)])
           unless defined $y;
    push(@a,($y-$v-&gt;[$i])-&gt;value);
    $P[$j] = 0;
      }
      my $y = <a class="code" href="classValue.html#a4cacd8a007b0b8473a1fe33c1bf36a2a">eval</a> {&amp;$F(@p,@P)}; <span class="keywordflow">return</span> unless defined $y;
      push @A, [@a]; push @b, [($y-$v-&gt;[$i])-&gt;<a class="code" href="classValue_1_1Formula.html#a1b0840ad589211bb26baacd9dea82248">value</a>];
    }
<span class="preprocessor">    #</span>
<span class="preprocessor"></span><span class="preprocessor">    #  Use MatrixReal1.pm to solve system of linear equations</span>
<span class="preprocessor"></span><span class="preprocessor">    #</span>
<span class="preprocessor"></span>    my $M = <a class="code" href="classMatrixReal1.html">MatrixReal1</a>-&gt;new($d,$d); $M-&gt;[0] = \@A;
    my $B = <a class="code" href="classMatrixReal1.html">MatrixReal1</a>-&gt;new($d,1);  $B-&gt;[0] = \@b;
    ($M,$B) = $M-&gt;normalize($B);
    $M = $M-&gt;decompose_LR;
    <span class="keywordflow">if</span> (<a class="code" href="classValue_1_1Formula.html#a35ac1f1e485d186c1a0330ba606caa12">abs</a>($M-&gt;det_LR) &gt; 1E-6) {
      <span class="keywordflow">if</span> (($D,$B,$M) = $M-&gt;solve_LR($B)) {
        <span class="keywordflow">if</span> ($D == 0) {
<span class="preprocessor">          #</span>
<span class="preprocessor"></span><span class="preprocessor">          #  Get parameter values and recompute the points using them</span>
<span class="preprocessor"></span><span class="preprocessor">          #</span>
<span class="preprocessor"></span>          my @a; my $i = 0; my $max = $l-&gt;getFlag(<span class="stringliteral">&#39;max_adapt&#39;</span>,1E8);
          <span class="keywordflow">foreach</span> my $row (@{$B-&gt;[0]}) {
            <span class="keywordflow">if</span> (<a class="code" href="classValue_1_1Formula.html#a35ac1f1e485d186c1a0330ba606caa12">abs</a>($row-&gt;[0]) &gt; $max) {
              $max = <a class="code" href="classValue.html#a43a81d16f2f6aee0019772bf09626569">Value::makeValue</a>($max); $row-&gt;[0] = <a class="code" href="classValue.html#a43a81d16f2f6aee0019772bf09626569">Value::makeValue</a>($row-&gt;[0]);
              $l-&gt;Error([<span class="stringliteral">&quot;Constant of integration is too large: %s\n(maximum allowed is %s)&quot;</span>,
                 $row-&gt;[0]-&gt;string,$max-&gt;string]) <span class="keywordflow">if</span> $params[$i] eq <span class="stringliteral">&#39;C0&#39;</span> or $params[$i] eq <span class="stringliteral">&#39;n00&#39;</span>;
              $l-&gt;Error([<span class="stringliteral">&quot;Adaptive constant is too large: %s = %s\n(maximum allowed is %s)&quot;</span>,
                 $params[$i],$row-&gt;[0]-&gt;string,$max-&gt;string]);
            }
            push @a, $row-&gt;[0]; $i++;
          }
          my $context = $l-&gt;context;
          <span class="keywordflow">foreach</span> my $i (0..$#a) {$context-&gt;{variables}{$params[$i]}{<a class="code" href="classValue_1_1Formula.html#a1b0840ad589211bb26baacd9dea82248">value</a>} = $a[$i]}
          $l-&gt;{parameters} = [@a];
          $l-&gt;createAdaptedValues;
          <span class="keywordflow">return</span> 1;
        }
      }
    }
  }
  $l-&gt;Error(<span class="stringliteral">&quot;Can&#39;t solve for adaptive parameters&quot;</span>);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ac2a76a322b0f177ec21ca3493f6d7dd9"></a><!-- doxytag: member="Value::Formula::add" ref="ac2a76a322b0f177ec21ca3493f6d7dd9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::add </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-add' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-add-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-add-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-add-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in add: 1</span>
<span class="preprocessor">sub add   {bop(&#39;+&#39;,@_)}</span>
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a4473e6cd8f7556adeef0931d9e4e2d25">Value</a>.</p>

</div>
</div>
<a class="anchor" id="abffcc2a947da34b47624cab375aeb453"></a><!-- doxytag: member="Value::Formula::addGranularity" ref="abffcc2a947da34b47624cab375aeb453" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::addGranularity </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-addGranularity' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-addGranularity-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-addGranularity-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-addGranularity-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in addGranularity: 11</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#abffcc2a947da34b47624cab375aeb453">addGranularity</a> {
  my $self = shift; my $limit = shift; my $def = shift;
  my $granularity = shift; my $resolution = shift;
  $granularity = $def-&gt;{granularity} || $granularity;
  $resolution = $def-&gt;{resolution} || $resolution;
  <span class="keywordflow">foreach</span> my $I (@{$limit}) {
    my ($a,$b,$n) = @{$I}; $b = -$a unless defined $b;
    $I = [$a,$b,($n || $resolution || <a class="code" href="classValue_1_1Formula.html#a35ac1f1e485d186c1a0330ba606caa12">abs</a>($b-$a)/$granularity)];
  }
  <span class="keywordflow">return</span> $limit;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ae1f7466ef10a705af7fcc79a7aa98f31"></a><!-- doxytag: member="Value::Formula::ans_array" ref="ae1f7466ef10a705af7fcc79a7aa98f31" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::ans_array </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-ans_array' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-ans_array-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-ans_array-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-ans_array-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in ans_array: 5</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#ae1f7466ef10a705af7fcc79a7aa98f31">ans_array</a> {
  my $self = shift;
  <span class="keywordflow">return</span> $self-&gt;SUPER::ans_array(@_) unless $self-&gt;array_OK;
  $self-&gt;ANS_MATRIX(0,<span class="stringliteral">&#39;&#39;</span>,@_);
}
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#ad121793062cff2dca2a469b3fc38f986">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a502c57095c269356d6921d0a66284090"></a><!-- doxytag: member="Value::Formula::ANS_MATRIX" ref="a502c57095c269356d6921d0a66284090" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::ANS_MATRIX </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-ANS_MATRIX' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-ANS_MATRIX-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-ANS_MATRIX-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-ANS_MATRIX-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in ANS_MATRIX: 18</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a502c57095c269356d6921d0a66284090">ANS_MATRIX</a> {
  my $self = shift;
  my $extend = shift; my $name = shift;
  my $size = shift || 5; my $type = $self-&gt;type; 
  my $cols = $self-&gt;length; my $rows = 1; my $sep = <span class="charliteral">&#39;,&#39;</span>;
  <span class="keywordflow">if</span> ($type eq <span class="stringliteral">&#39;Matrix&#39;</span>) {
    $sep = <span class="stringliteral">&#39;&#39;</span>; $rows = $cols; $cols = $self-&gt;{tree}-&gt;typeRef-&gt;{<a class="code" href="classValue.html#a5d960d6becdeab0d7fd6fc0fec561cbc">entryType</a>}{<a class="code" href="classValue_1_1Formula.html#ab573ef294b2929bd2b313dd951ceb4e5">length</a>};
  }
  <span class="keywordflow">if</span> ($self-&gt;{tree}{ColumnVector}) {
    $sep = <span class="stringliteral">&quot;&quot;</span>; $type = <span class="stringliteral">&quot;Matrix&quot;</span>;
    my $tmp = $rows; $rows = $cols; $cols = $tmp;
    $self-&gt;{ColumnVector} = 1;
  }
  my $def = $self-&gt;context-&gt;lists-&gt;get($type);
  my $open = $self-&gt;{open} || $self-&gt;{tree}{open} || $def-&gt;{open};
  my $close = $self-&gt;{close} || $self-&gt;{tree}{close} || $def-&gt;{close};
  $self-&gt;ans_matrix($extend,$name,$rows,$cols,$size,$open,$close,$sep);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aaaf93f7e6bd3d0623044b818913415da"></a><!-- doxytag: member="Value::Formula::array_OK" ref="aaaf93f7e6bd3d0623044b818913415da" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::array_OK </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-array_OK' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-array_OK-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-array_OK-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-array_OK-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in array_OK: 4</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#aaaf93f7e6bd3d0623044b818913415da">array_OK</a> {
  my $self = shift; my $tree = $self-&gt;{tree};
  <span class="keywordflow">return</span> $tree-&gt;type =~ m/^(Point|Vector|<a class="code" href="classMatrix.html">Matrix</a>)$/ &amp;&amp; $tree-&gt;class eq <span class="stringliteral">&#39;List&#39;</span>;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a80c35584c7ae9a09362f9d188b1b957b"></a><!-- doxytag: member="Value::Formula::atan2" ref="a80c35584c7ae9a09362f9d188b1b957b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::atan2 </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-atan2' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-atan2-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-atan2-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-atan2-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in atan2: 4</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a80c35584c7ae9a09362f9d188b1b957b">atan2</a> {
  my ($self,$l,$r) = <a class="code" href="classValue.html#a3d59dfdd1b3de5574c3745ca282d76b5">Value::checkOpOrderWithPromote</a>(@_);
  <a class="code" href="classParser_1_1Function.html">Parser::Function</a>-&gt;call(<span class="stringliteral">&#39;atan2&#39;</span>,$l,$r);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a9d2d18d4b3a10284dfdf2e4e3b045338"></a><!-- doxytag: member="Value::Formula::blank" ref="a9d2d18d4b3a10284dfdf2e4e3b045338" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::blank </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-blank' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-blank-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-blank-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-blank-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in blank: 1</span>
<span class="preprocessor">sub blank {shift-&gt;SUPER::new(@_)}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a4eb7955d859acc4bc828260c643dea54"></a><!-- doxytag: member="Value::Formula::bop" ref="a4eb7955d859acc4bc828260c643dea54" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::bop </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-bop' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-bop-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-bop-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-bop-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in bop: 24</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a4eb7955d859acc4bc828260c643dea54">bop</a> {
  my $bop = shift;
  my ($self,$l,$r) = <a class="code" href="classValue.html#a007fce18a34d1420f249fa4534b76cb0">Value::checkOpOrder</a>(@_);
  my $class = ref($self) || $self;
  my $call = $self-&gt;context-&gt;{method}{$bop};
  my $formula = $self-&gt;blank($self-&gt;context);
  <span class="keywordflow">if</span> (ref($r) eq $class || ref($r) eq $pkg) {
    $formula-&gt;{<a class="code" href="classcontext.html">context</a>} = $r-&gt;{<a class="code" href="classcontext.html">context</a>};
    $r = $r-&gt;{tree}-&gt;copy($formula);
  } <span class="keywordflow">else</span> {
    $r = $self-&gt;new($r)-&gt;{tree}-&gt;copy($formula);
  }
  <span class="keywordflow">if</span> (ref($l) eq $class || ref($l) eq $pkg) {
    $formula-&gt;{<a class="code" href="classcontext.html">context</a>} = $l-&gt;{<a class="code" href="classcontext.html">context</a>};
    $l = $l-&gt;{tree}-&gt;copy($formula);
  } <span class="keywordflow">else</span> {
    $l = $self-&gt;new($l)-&gt;{tree}-&gt;copy($formula);
  }
  $bop = <span class="charliteral">&#39;U&#39;</span> <span class="keywordflow">if</span> $bop eq <span class="charliteral">&#39;+&#39;</span> &amp;&amp;
    ($l-&gt;type =~ m/Interval|Set|Union/ || $r-&gt;type =~ m/Interval|Set|Union/);
  $formula-&gt;{tree} = $formula-&gt;Item(<span class="stringliteral">&quot;BOP&quot;</span>)-&gt;new($formula,$bop,$l,$r);
  $formula-&gt;{variables} = $formula-&gt;{tree}-&gt;getVariables;
  <span class="keywordflow">return</span> $formula;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a5956bb0b2f5f150c414b59aba9463230"></a><!-- doxytag: member="Value::Formula::call" ref="a5956bb0b2f5f150c414b59aba9463230" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::call </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-call' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-call-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-call-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-call-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in call: 4</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a5956bb0b2f5f150c414b59aba9463230">call</a> {
  my $self = shift; my $name = shift;
  <a class="code" href="classParser_1_1Function.html">Parser::Function</a>-&gt;call($name,$self);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ad509b91d4d3ed78278592895d865475c"></a><!-- doxytag: member="Value::Formula::canBeInUnion" ref="ad509b91d4d3ed78278592895d865475c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::canBeInUnion </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-canBeInUnion' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-canBeInUnion-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-canBeInUnion-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-canBeInUnion-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in canBeInUnion: 1</span>
<span class="preprocessor">sub canBeInUnion {(shift)-&gt;{tree}-&gt;canBeInUnion}</span>
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a837cc3468c942257a441443dff040fac">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a80fd953fcddc3b801128b81a913c69d7"></a><!-- doxytag: member="Value::Formula::cmp" ref="a80fd953fcddc3b801128b81a913c69d7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::cmp </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-cmp' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-cmp-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-cmp-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cmp-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in cmp: 28</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a80fd953fcddc3b801128b81a913c69d7">cmp</a> {
  my $self = shift;
  my $cmp = $self-&gt;SUPER::cmp(@_);
  <span class="keywordflow">if</span> ($cmp-&gt;{rh_ans}{removeParens} &amp;&amp; $self-&gt;type eq <span class="stringliteral">&#39;List&#39;</span>) {
    $self-&gt;{tree}{open} = $self-&gt;{tree}{close} = <span class="stringliteral">&#39;&#39;</span>;
    $cmp-&gt;ans_hash(<a class="code" href="classValue_1_1Formula.html#a1d48e13cdb835b39fee3e089f8470e23">correct_ans</a> =&gt; $self-&gt;stringify)
      unless defined($self-&gt;{<a class="code" href="classValue_1_1Formula.html#a1d48e13cdb835b39fee3e089f8470e23">correct_ans</a>});
  }
  <span class="keywordflow">if</span> ($cmp-&gt;{rh_ans}{<a class="code" href="classValue.html#a4cacd8a007b0b8473a1fe33c1bf36a2a">eval</a>} &amp;&amp; $self-&gt;isConstant) {
    $cmp-&gt;ans_hash(correct_value =&gt; $self-&gt;eval);
    <span class="keywordflow">return</span> $cmp;
  }
  <span class="keywordflow">if</span> ($cmp-&gt;{rh_ans}{upToConstant}) {
    my $current = <a class="code" href="classParser_1_1Context.html">Parser::Context</a>-&gt;current();
    my $context = $self-&gt;{<a class="code" href="classcontext.html">context</a>} = $self-&gt;{<a class="code" href="classcontext.html">context</a>}-&gt;copy;
    <a class="code" href="classParser_1_1Context.html">Parser::Context</a>-&gt;current(undef,$context);
    $context-&gt;variables-&gt;add(<span class="stringliteral">&#39;C0&#39;</span> =&gt; <span class="stringliteral">&#39;Parameter&#39;</span>);
    my $f = $self-&gt;Package(<span class="stringliteral">&quot;Formula&quot;</span>)-&gt;new(<span class="stringliteral">&#39;C0&#39;</span>)+$self;
    <span class="keywordflow">for</span> (<span class="stringliteral">&#39;limits&#39;</span>,<span class="stringliteral">&#39;test_points&#39;</span>,<span class="stringliteral">&#39;test_values&#39;</span>,<span class="stringliteral">&#39;num_points&#39;</span>,<span class="stringliteral">&#39;granularity&#39;</span>,<span class="stringliteral">&#39;resolution&#39;</span>,
     <span class="stringliteral">&#39;checkUndefinedPoints&#39;</span>,<span class="stringliteral">&#39;max_undefined&#39;</span>)
      {$f-&gt;{$_} = $self-&gt;{$_} <span class="keywordflow">if</span> defined($self-&gt;{$_})}
    $cmp-&gt;ans_hash(correct_value =&gt; $f);
    <a class="code" href="classParser_1_1Context.html">Parser::Context</a>-&gt;current(undef,$current);
  }
  $cmp-&gt;install_pre_filter(\&amp;<a class="code" href="classValue_1_1Formula.html#a1eaa0be5a8f1b7814d04b680bda510a8">Value::Formula::cmp_call_filter</a>,<span class="stringliteral">&quot;cmp_prefilter&quot;</span>);
  $cmp-&gt;install_post_filter(\&amp;<a class="code" href="classValue_1_1Formula.html#a1eaa0be5a8f1b7814d04b680bda510a8">Value::Formula::cmp_call_filter</a>,<span class="stringliteral">&quot;cmp_postfilter&quot;</span>);
  <span class="keywordflow">return</span> $cmp;
}
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#ae12493e1b1d7c049ebdb53ba9b82b413">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a1eaa0be5a8f1b7814d04b680bda510a8"></a><!-- doxytag: member="Value::Formula::cmp_call_filter" ref="a1eaa0be5a8f1b7814d04b680bda510a8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::cmp_call_filter </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-cmp_call_filter' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-cmp_call_filter-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-cmp_call_filter-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cmp_call_filter-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in cmp_call_filter: 4</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a1eaa0be5a8f1b7814d04b680bda510a8">cmp_call_filter</a> {
  my $ans = shift; my $method = shift;
  <span class="keywordflow">return</span> $ans-&gt;{correct_value}-&gt;$method($ans,@_);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a8e78ffb5f8b0128ab7a03f156e3dddf6"></a><!-- doxytag: member="Value::Formula::cmp_defaults" ref="a8e78ffb5f8b0128ab7a03f156e3dddf6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::cmp_defaults </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-cmp_defaults' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-cmp_defaults-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-cmp_defaults-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cmp_defaults-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in cmp_defaults: 30</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a8e78ffb5f8b0128ab7a03f156e3dddf6">cmp_defaults</a> {
  my $self = shift;

  <span class="keywordflow">return</span> (
    <a class="code" href="classValue_1_1Union.html#a6f073b79f4f3e8785602fd031b4199c7">Value::Union::cmp_defaults</a>($self,@_),
    <a class="code" href="classValue_1_1Formula.html#a20310c2233e0bd25cc376ff887bbe8e3">typeMatch</a> =&gt; $self-&gt;Package(<span class="stringliteral">&quot;Formula&quot;</span>)-&gt;new(<span class="stringliteral">&quot;(1,2]&quot;</span>),
    showDomainErrors =&gt; 1,
  ) <span class="keywordflow">if</span> $self-&gt;type eq <span class="stringliteral">&#39;Union&#39;</span>;

  my $type = $self-&gt;type;
  $type = ($self-&gt;isComplex)? <span class="stringliteral">&#39;Complex&#39;</span>: <span class="stringliteral">&#39;Real&#39;</span> <span class="keywordflow">if</span> $type eq <span class="stringliteral">&#39;Number&#39;</span>;
  $type = $self-&gt;Package($type).<span class="stringliteral">&#39;::&#39;</span>;

  <span class="keywordflow">return</span> (
    &amp;{$type.<span class="stringliteral">&#39;cmp_defaults&#39;</span>}($self,@_),
    upToConstant =&gt; 0,
    showDomainErrors =&gt; 1,
#  ) <span class="keywordflow">if</span> defined(%$type) &amp;&amp; $self-&gt;type ne <span class="stringliteral">&#39;List&#39;</span>; #causes errors in newest <a class="code" href="classValue.html#a978ce393adca3bf847d8060c5e2ba7f9">perl</a>
<span class="preprocessor">#   ) if ( ref($type)=~/HASH/ ) &amp;&amp; $self-&gt;type ne &#39;List&#39;; # does NOT work --causes FortLewis error</span>
<span class="preprocessor"></span>   ) <span class="keywordflow">if</span> %$type &amp;&amp; $self-&gt;type ne <span class="stringliteral">&#39;List&#39;</span>;   
  my $element;
  if ($self-&gt;{tree}-&gt;class eq <span class="stringliteral">&#39;List&#39;</span>) {$element = $self-&gt;Package(<span class="stringliteral">&quot;Formula&quot;</span>)-&gt;new($self-&gt;{tree}{coords}[0])}
    <span class="keywordflow">else</span> {$element = $self-&gt;Package(<span class="stringliteral">&quot;Formula&quot;</span>)-&gt;new(($self-&gt;createRandomPoints(1))[1]-&gt;[0]{<a class="code" href="classValue.html#a3acf81e886a6f83580af1ec033911d38">data</a>}[0])}
  <span class="keywordflow">return</span> (
    <a class="code" href="classValue_1_1List.html#a4f401378a7c03ae62f9549627daefef3">Value::List::cmp_defaults</a>($self,@_),
    removeParens =&gt; $self-&gt;{autoFormula},
    <a class="code" href="classValue_1_1Formula.html#a20310c2233e0bd25cc376ff887bbe8e3">typeMatch</a> =&gt; $element,
    showDomainErrors =&gt; 1,
  );
}
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#aa85c7fa02573ff631e4a406faf295958">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a6a6097c907ac3195976ea0680bfd26d5"></a><!-- doxytag: member="Value::Formula::cmp_diagnostics" ref="a6a6097c907ac3195976ea0680bfd26d5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::cmp_diagnostics </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-cmp_diagnostics' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-cmp_diagnostics-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-cmp_diagnostics-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cmp_diagnostics-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in cmp_diagnostics: 139</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a6a6097c907ac3195976ea0680bfd26d5">cmp_diagnostics</a> {
  my $self = shift;  my $ans = shift;
  my $isEvaluator = (ref($ans) =~ /Evaluator/)? 1: 0;
  my $hash = $isEvaluator? $ans-&gt;rh_ans : $ans;
  my $diagnostics = $self-&gt;{<a class="code" href="classcontext.html">context</a>}-&gt;diagnostics-&gt;merge(<span class="stringliteral">&quot;formulas&quot;</span>,$self,$hash);
  my $formulas = $diagnostics-&gt;{formulas};
  <span class="keywordflow">return</span> unless $formulas-&gt;{show};

  my $output = <span class="stringliteral">&quot;&quot;</span>;
  <span class="keywordflow">if</span> ($isEvaluator) {
<span class="preprocessor">    #</span>
<span class="preprocessor"></span><span class="preprocessor">    #  The tests to be performed when the answer checker is created</span>
<span class="preprocessor"></span><span class="preprocessor">    #</span>
<span class="preprocessor"></span>    $self-&gt;getPG(<span class="stringliteral">&#39;loadMacros(&quot;PGgraphmacros.pl&quot;)&#39;</span>);
    my ($inputs) = $self-&gt;getPG(<span class="stringliteral">&#39;$inputs_ref&#39;</span>);
    my $process = $inputs-&gt;{checkAnswers} || $inputs-&gt;{previewAnswers} || $inputs-&gt;{submitAnswers};
    <span class="keywordflow">if</span> ($formulas-&gt;{checkNumericStability} &amp;&amp; !$process) {
<span class="preprocessor">      ### still needs to be written</span>
<span class="preprocessor"></span>    }
  } <span class="keywordflow">else</span> {
<span class="preprocessor">    #</span>
<span class="preprocessor"></span><span class="preprocessor">    #  The checks to be performed when an answer is submitted</span>
<span class="preprocessor"></span><span class="preprocessor">    #</span>
<span class="preprocessor"></span>    my $student = $ans-&gt;{student_formula};
<span class="preprocessor">    #</span>
<span class="preprocessor"></span><span class="preprocessor">    #  Get the test points</span>
<span class="preprocessor"></span><span class="preprocessor">    #</span>
<span class="preprocessor"></span>    my @names = $self-&gt;{<a class="code" href="classcontext.html">context</a>}-&gt;variables-&gt;names;
    my $vx = (keys(%{$self-&gt;{variables}}))[0];
    my $vi = 0; <span class="keywordflow">while</span> ($names[$vi] ne $vx) {$vi++}
    my $points = [map {$_-&gt;[$vi]} @{$self-&gt;{test_points}}];
    my @params = $self-&gt;{<a class="code" href="classcontext.html">context</a>}-&gt;variables-&gt;parameters;
       @names = $self-&gt;{<a class="code" href="classcontext.html">context</a>}-&gt;variables-&gt;variables;

<span class="preprocessor">    #</span>
<span class="preprocessor"></span><span class="preprocessor">    #  The graphs of the functions and errors</span>
<span class="preprocessor"></span><span class="preprocessor">    #</span>
<span class="preprocessor"></span>    <span class="keywordflow">if</span> ($formulas-&gt;{showGraphs}) {
      my @G = ();
      <span class="keywordflow">if</span> ($formulas-&gt;{combineGraphs}) {
    push(@G,$self-&gt;cmp_graph($diagnostics,[$student,$self],
                 title=&gt;<span class="stringliteral">&#39;Student Answer (red)&lt;BR&gt;Correct Answer (green)&lt;BR&gt;&#39;</span>,
                 points=&gt;$points,showDomain=&gt;1));
      } <span class="keywordflow">else</span> {
    push(@G,$self-&gt;cmp_graph($diagnostics,$self,title=&gt;<span class="stringliteral">&#39;Correct Answer&#39;</span>));
    push(@G,$self-&gt;cmp_graph($diagnostics,$student,title=&gt;<span class="stringliteral">&#39;Student Answer&#39;</span>));
      }
      my $cutoff = $self-&gt;Package(<span class="stringliteral">&quot;Formula&quot;</span>)-&gt;new($self-&gt;getFlag(<span class="stringliteral">&#39;tolerance&#39;</span>));
      <span class="keywordflow">if</span> ($formulas-&gt;{graphAbsoluteErrors}) {
    push(@G,$self-&gt;cmp_graph($diagnostics,[<a class="code" href="classValue_1_1Formula.html#a35ac1f1e485d186c1a0330ba606caa12">abs</a>($self-$student),$cutoff],
                 clip=&gt;$formulas-&gt;{clipAbsoluteError},
                 title=&gt;<span class="stringliteral">&#39;Absolute Error&#39;</span>,points=&gt;$points));
      }
      <span class="keywordflow">if</span> ($formulas-&gt;{graphRelativeErrors}) {
    push(@G,$self-&gt;cmp_graph($diagnostics,[<a class="code" href="classValue_1_1Formula.html#a35ac1f1e485d186c1a0330ba606caa12">abs</a>(($self-$student)/$self),$cutoff],
                 clip=&gt;$formulas-&gt;{clipRelativeError},
                 title=&gt;<span class="stringliteral">&#39;Relative Error&#39;</span>,points=&gt;$points));
      }
      $output .= <span class="stringliteral">&#39;&lt;TABLE BORDER=&quot;0&quot; CELLSPACING=&quot;0&quot; CELLPADDING=&quot;0&quot;&gt;&#39;</span>
    . <span class="stringliteral">&#39;&lt;TR VALIGN=&quot;TOP&quot;&gt;&#39;</span>.join(<span class="stringliteral">&#39;&lt;TD WIDTH=&quot;20&quot;&gt;&lt;/TD&gt;&#39;</span>,@G).<span class="stringliteral">&#39;&lt;/TR&gt;&lt;/TABLE&gt;&#39;</span>;
    }

<span class="preprocessor">    #</span>
<span class="preprocessor"></span><span class="preprocessor">    #  The adaptive parameters</span>
<span class="preprocessor"></span><span class="preprocessor">    #</span>
<span class="preprocessor"></span>    <span class="keywordflow">if</span> ($formulas-&gt;{showParameters} &amp;&amp; scalar(@params) &gt; 0) {
      $output .= <span class="stringliteral">&#39;&lt;HR&gt;&lt;TABLE BORDER=&quot;0&quot; CELLSPACING=&quot;0&quot; CELLPADDING=&quot;0&quot;&gt;&lt;TR&gt;&lt;TD&gt;Adaptive Parameters:&lt;BR&gt;&#39;</span>;
      $output .= join(<span class="stringliteral">&quot;&lt;BR&gt;&quot;</span>,map {<span class="stringliteral">&quot;&amp;nbsp;&amp;nbsp;$params[$_]: &quot;</span>.$self-&gt;{parameters}[$_]} (0..$#params));
      $output .= <span class="stringliteral">&#39;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&#39;</span>;
    }

<span class="preprocessor">    #</span>
<span class="preprocessor"></span><span class="preprocessor">    #  The test points and values</span>
<span class="preprocessor"></span><span class="preprocessor">    #</span>
<span class="preprocessor"></span>    my @rows = (); my $colsep = <span class="stringliteral">&#39;&lt;/TD&gt;&lt;TD WIDTH=&quot;20&quot;&gt;&lt;/TD&gt;&lt;TD ALIGN=&quot;RIGHT&quot;&gt;&#39;</span>;
    my @P = (map {(scalar(@{$_}) == 1)? $_-&gt;[0]: $self-&gt;Package(<span class="stringliteral">&quot;Point&quot;</span>)-&gt;make(@{$_})} @{$self-&gt;{test_points}});
    my @i = sort {$P[$a] &lt;=&gt; $P[$b]} (0..$#P);
    <span class="keywordflow">foreach</span> $p (@P) {<span class="keywordflow">if</span> (<a class="code" href="classValue.html#a43e6b7aa1e386a5a9056190d0ac3cbb3">Value::isValue</a>($p) &amp;&amp; $p-&gt;length &gt; 2) {$p = $p-&gt;string; $p =~ s|,|,&lt;br /&gt;|g}}
    my $zeroLevelTol = $self-&gt;{<a class="code" href="classcontext.html">context</a>}{flags}{zeroLevelTol};
    $self-&gt;{<a class="code" href="classcontext.html">context</a>}{flags}{zeroLevelTol} = 0; # always show full resolution in the tables below
    my $names = join(<span class="charliteral">&#39;,&#39;</span>,@names); $names = <span class="charliteral">&#39;(&#39;</span>.$names.<span class="charliteral">&#39;)&#39;</span> <span class="keywordflow">if</span> scalar(@names) &gt; 1;

    $student-&gt;createPointValues($self-&gt;{test_points},0,1,1) unless $student-&gt;{test_values};

    my $cv = $self-&gt;{test_values};
    my $sv = $student-&gt;{test_values};
    my $av = $self-&gt;{test_adapt} || $cv;

    <span class="keywordflow">if</span> ($formulas-&gt;{showTestPoints}) {
      my @p = (<span class="stringliteral">&quot;$names:&quot;</span>, (map {$P[$i[$_]]} (0..$#P)));
      push(@rows,<span class="stringliteral">&#39;&lt;TR&gt;&lt;TD ALIGN=&quot;RIGHT&quot;&gt;&#39;</span>.join($colsep,@p).<span class="stringliteral">&#39;&lt;/TD&gt;&lt;/TR&gt;&#39;</span>);
      push(@rows,<span class="stringliteral">&#39;&lt;TR&gt;&lt;TD ALIGN=&quot;RIGHT&quot;&gt;&#39;</span>.join($colsep,(<span class="stringliteral">&quot;&lt;HR&gt;&quot;</span>)x scalar(@p)).<span class="stringliteral">&#39;&lt;/TD&gt;&lt;/TR&gt;&#39;</span>);
      push(@rows,<span class="stringliteral">&#39;&lt;TR&gt;&lt;TD ALIGN=&quot;RIGHT&quot;&gt;&#39;</span>
       .join($colsep,($av == $cv)? <span class="stringliteral">&quot;Correct Answer:&quot;</span> : <span class="stringliteral">&quot;Adapted Answer:&quot;</span>,
         map {<a class="code" href="classValue.html#a6dca6c242402a7860ea097c0e052b243">Value::isNumber</a>($av-&gt;[$i[$_]])? $av-&gt;[$i[$_]]: <span class="stringliteral">&quot;undefined&quot;</span>} (0..$#P))
       .<span class="stringliteral">&#39;&lt;/TD&gt;&lt;/TR&gt;&#39;</span>);
      push(@rows,<span class="stringliteral">&#39;&lt;TR&gt;&lt;TD ALIGN=&quot;RIGHT&quot;&gt;&#39;</span>
       .join($colsep,<span class="stringliteral">&quot;Student Answer:&quot;</span>,
         map {<a class="code" href="classValue.html#a6dca6c242402a7860ea097c0e052b243">Value::isNumber</a>($sv-&gt;[$i[$_]])? $sv-&gt;[$i[$_]]: <span class="stringliteral">&quot;undefined&quot;</span>} (0..$#P))
       .<span class="stringliteral">&#39;&lt;/TD&gt;&lt;/TR&gt;&#39;</span>);
    }
<span class="preprocessor">    #</span>
<span class="preprocessor"></span><span class="preprocessor">    #  The absolute errors (colored by whether they are ok or too big)</span>
<span class="preprocessor"></span><span class="preprocessor">    #</span>
<span class="preprocessor"></span>    <span class="keywordflow">if</span> ($formulas-&gt;{showAbsoluteErrors}) {
      my @p = (<span class="stringliteral">&quot;Absolute Error:&quot;</span>);
      my $tolerance = $self-&gt;getFlag(<span class="stringliteral">&#39;tolerance&#39;</span>);
      my $tolType = $self-&gt;getFlag(<span class="stringliteral">&#39;tolType&#39;</span>); my $error;
      <span class="keywordflow">foreach</span> my $j (0..$#P) {
    <span class="keywordflow">if</span> (<a class="code" href="classValue.html#a6dca6c242402a7860ea097c0e052b243">Value::isNumber</a>($sv-&gt;[$i[$j]])) {
      $error = <a class="code" href="classValue_1_1Formula.html#a35ac1f1e485d186c1a0330ba606caa12">abs</a>($av-&gt;[$i[$j]] - $sv-&gt;[$i[$j]]);
      $error = <span class="stringliteral">&#39;&lt;SPAN STYLE=&quot;color:#&#39;</span>.($error-&gt;value&lt;$tolerance ? <span class="stringliteral">&#39;00AA00&#39;</span>: <span class="stringliteral">&#39;AA0000&#39;</span>).<span class="stringliteral">&#39;&quot;&gt;&#39;</span>.$error.<span class="stringliteral">&#39;&lt;/SPAN&gt;&#39;</span>
        <span class="keywordflow">if</span> $tolType eq <span class="stringliteral">&#39;absolute&#39;</span>;
    } <span class="keywordflow">else</span> {$error = <span class="stringliteral">&quot;---&quot;</span>}
    push(@p,$error);
      }
      push(@rows,<span class="stringliteral">&#39;&lt;TR&gt;&lt;TD ALIGN=&quot;RIGHT&quot;&gt;&#39;</span>.join($colsep,@p).<span class="stringliteral">&#39;&lt;/TD&gt;&lt;/TR&gt;&#39;</span>);
    }
<span class="preprocessor">    #</span>
<span class="preprocessor"></span><span class="preprocessor">    #  The relative errors (colored by whether they are OK or too big)</span>
<span class="preprocessor"></span><span class="preprocessor">    #</span>
<span class="preprocessor"></span>    <span class="keywordflow">if</span> ($formulas-&gt;{showRelativeErrors}) {
      my @p = (<span class="stringliteral">&quot;Relative Error:&quot;</span>);
      my $tolerance = $self-&gt;getFlag(<span class="stringliteral">&#39;tolerance&#39;</span>); my $tol;
      my $tolType = $self-&gt;getFlag(<span class="stringliteral">&#39;tolType&#39;</span>); my $error;
      my $zeroLevel = $self-&gt;getFlag(<span class="stringliteral">&#39;zeroLevel&#39;</span>);
      <span class="keywordflow">foreach</span> my $j (0..$#P) {
    <span class="keywordflow">if</span> (<a class="code" href="classValue.html#a6dca6c242402a7860ea097c0e052b243">Value::isNumber</a>($sv-&gt;[$i[$j]])) {
      my $c = $av-&gt;[$i[$j]]; my $s = $sv-&gt;[$i[$j]];
      <span class="keywordflow">if</span> (<a class="code" href="classValue_1_1Formula.html#a35ac1f1e485d186c1a0330ba606caa12">abs</a>($cv-&gt;[$i[$j]]-&gt;value) &lt; $zeroLevel || <a class="code" href="classValue_1_1Formula.html#a35ac1f1e485d186c1a0330ba606caa12">abs</a>($s-&gt;value) &lt; $zeroLevel)
            {$error = <a class="code" href="classValue_1_1Formula.html#a35ac1f1e485d186c1a0330ba606caa12">abs</a>($c-$s); $tol = $zeroLevelTol} <span class="keywordflow">else</span>
            {$error = <a class="code" href="classValue_1_1Formula.html#a35ac1f1e485d186c1a0330ba606caa12">abs</a>(($c-$s)/($c||1E-10)); $tol = $tolerance}
      $error = <span class="stringliteral">&#39;&lt;SPAN STYLE=&quot;color:#&#39;</span>.($error &lt; $tol ? <span class="stringliteral">&#39;00AA00&#39;</span>: <span class="stringliteral">&#39;AA0000&#39;</span>).<span class="stringliteral">&#39;&quot;&gt;&#39;</span>.$error.<span class="stringliteral">&#39;&lt;/SPAN&gt;&#39;</span>
        <span class="keywordflow">if</span> $tolType eq <span class="stringliteral">&#39;relative&#39;</span>;
    } <span class="keywordflow">else</span> {$error = <span class="stringliteral">&quot;---&quot;</span>}
    push(@p,$error);
      }
      push(@rows,<span class="stringliteral">&#39;&lt;TR&gt;&lt;TD ALIGN=&quot;RIGHT&quot;&gt;&#39;</span>.join($colsep,@p).<span class="stringliteral">&#39;&lt;/TD&gt;&lt;/TR&gt;&#39;</span>);
    }
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#abf1c3091b69b84ae2756765bf7877ba7">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a51ea8bef6d8dcc32b71d58968f96cfc4"></a><!-- doxytag: member="Value::Formula::cmp_equal" ref="a51ea8bef6d8dcc32b71d58968f96cfc4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::cmp_equal </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-cmp_equal' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-cmp_equal-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-cmp_equal-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cmp_equal-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in cmp_equal: 19</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a51ea8bef6d8dcc32b71d58968f96cfc4">cmp_equal</a> {
  my $self = shift; my $ans = shift;
<span class="preprocessor">  #</span>
<span class="preprocessor"></span><span class="preprocessor">  #  Get the problem&#39;s seed</span>
<span class="preprocessor"></span><span class="preprocessor">  #</span>
<span class="preprocessor"></span>  $self-&gt;{<a class="code" href="classcontext.html">context</a>}-&gt;flags-&gt;set(
    random_seed =&gt; $self-&gt;getPG(<span class="stringliteral">&#39;$PG_original_problemSeed&#39;</span>)
  );

<span class="preprocessor">  #</span>
<span class="preprocessor"></span><span class="preprocessor">  #  Use the list checker if the formula is a list or union</span>
<span class="preprocessor"></span><span class="preprocessor">  #    Otherwise use the normal checker</span>
<span class="preprocessor"></span><span class="preprocessor">  #</span>
<span class="preprocessor"></span>  <span class="keywordflow">if</span> ($self-&gt;type =~ m/^(List|Union|Set)$/) {
    <a class="code" href="classValue_1_1Formula.html#a51ea8bef6d8dcc32b71d58968f96cfc4">Value::List::cmp_equal</a>($self,$ans);
  } <span class="keywordflow">else</span> {
    $self-&gt;SUPER::cmp_equal($ans);
  }
}
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a89b82fc5080ede519fc70e4112357fc3">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a40b0a6aa714a449e578a6ed3da840f45"></a><!-- doxytag: member="Value::Formula::cmp_graph" ref="a40b0a6aa714a449e578a6ed3da840f45" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::cmp_graph </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-cmp_graph' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-cmp_graph-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-cmp_graph-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cmp_graph-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in cmp_graph: 90</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a40b0a6aa714a449e578a6ed3da840f45">cmp_graph</a> {
  my $self = shift; my $diagnostics = shift;
  my $F1 = shift; my $F2; ($F1,$F2) = @{$F1} <span class="keywordflow">if</span> (ref($F1) eq <span class="stringliteral">&#39;ARRAY&#39;</span>);
<span class="preprocessor">  #</span>
<span class="preprocessor"></span><span class="preprocessor">  #  Get the various options</span>
<span class="preprocessor"></span><span class="preprocessor">  #</span>
<span class="preprocessor"></span>  my %options = (title=&gt;<span class="stringliteral">&#39;&#39;</span>,points=&gt;[],@_);
  my $graphs = $diagnostics-&gt;{graphs};
  my $limits = $graphs-&gt;{limits}; $limits = $self-&gt;getFlag(<span class="stringliteral">&#39;limits&#39;</span>,[-2,2]) unless $limits;
  $limits = $limits-&gt;[0] <span class="keywordflow">while</span> ref($limits) eq &#39;ARRAY&#39; &amp;&amp; ref($limits-&gt;[0]) eq &#39;ARRAY&#39;;
  my $size = $graphs-&gt;{size}; $size = [$size,$size] unless ref($size) eq &#39;ARRAY&#39;;
  my $steps = $graphs-&gt;{divisions};
  my $points = $options{points}; my $clip = $options{clip};
  my ($my,$My) = (0,0); my ($mx,$Mx) = @{$limits};
  my $dx = ($Mx-$mx)/$steps; my $f; my $y;

  my @pnames = $self-&gt;{<a class="code" href="classcontext.html">context</a>}-&gt;variables-&gt;parameters;
  my @pvalues = ($self-&gt;{parameters} ? @{$self-&gt;{parameters}} : (0) x scalar(@pnames));
  my $x = <span class="stringliteral">&quot;&quot;</span>;

<span class="preprocessor">  #</span>
<span class="preprocessor"></span><span class="preprocessor">  #  Find the max and min values of the function</span>
<span class="preprocessor"></span><span class="preprocessor">  #</span>
<span class="preprocessor"></span>  <span class="keywordflow">foreach</span> $f ($F1,$F2) {
    next unless defined($f);
    <span class="keywordflow">foreach</span> my $v (keys(%{$f-&gt;{variables}})) {
      <span class="keywordflow">if</span> ($v ne $x &amp;&amp; !$f-&gt;{<a class="code" href="classcontext.html">context</a>}-&gt;variables-&gt;get($v)-&gt;{parameter}) {
    <span class="keywordflow">if</span> ($x) {
      warn <span class="stringliteral">&quot;Only formulas with one variable can be graphed&quot;</span> unless $self-&gt;{graphWarning};
      $self-&gt;{graphWarning} = 1;
      <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;
    }
    $x = $v;
      }
    }
    unless ($f-&gt;typeRef-&gt;{<a class="code" href="classValue_1_1Formula.html#ab573ef294b2929bd2b313dd951ceb4e5">length</a>} == 1) {
      warn <span class="stringliteral">&quot;Only real-valued functions can be graphed&quot;</span> unless $self-&gt;{graphWarning};
      $self-&gt;{graphWarning} = 1;
      <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;
    }
    unless ($f-&gt;typeRef-&gt;{<a class="code" href="classValue_1_1Formula.html#ab573ef294b2929bd2b313dd951ceb4e5">length</a>} == 1) {
      warn <span class="stringliteral">&quot;Only real-valued functions can be graphed&quot;</span>;
      <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;
    }
    <span class="keywordflow">if</span> ($f-&gt;isConstant) {
      $y = $f-&gt;eval;
      $my = $y <span class="keywordflow">if</span> $y &lt; $my; $My = $y if $y &gt; $My;
    } <span class="keywordflow">else</span> {
      my $F = $f-&gt;perlFunction(undef,[$x,@pnames]);
      <span class="keywordflow">foreach</span> my $i (0..$steps-1) {
        $y = <a class="code" href="classValue.html#a4cacd8a007b0b8473a1fe33c1bf36a2a">eval</a> {&amp;{$F}($mx+$i*$dx,@pvalues)};
    next unless defined($y) &amp;&amp; <a class="code" href="classValue.html#a6dca6c242402a7860ea097c0e052b243">Value::isNumber</a>($y);
        $my = $y <span class="keywordflow">if</span> $y &lt; $my; $My = $y if $y &gt; $My;
      }
    }
  }
  $My = 1 <span class="keywordflow">if</span> <a class="code" href="classValue_1_1Formula.html#a35ac1f1e485d186c1a0330ba606caa12">abs</a>($My - $my) &lt; 1E-5;
  $my *= 1.1; $My *= 1.1;
  <span class="keywordflow">if</span> ($clip) {
    $my = -$clip <span class="keywordflow">if</span> $my &lt; -$clip;
    $My = $clip <span class="keywordflow">if</span> $My &gt; $clip;
  }
  $my = -$My/10 <span class="keywordflow">if</span> $my &gt; -$My/10; $My = -$my/10 <span class="keywordflow">if</span> $My &lt; -$my/10;
  my $a = $self-&gt;Package(<span class="stringliteral">&quot;Real&quot;</span>)-&gt;new(($My-$my)/($Mx-$mx));

<span class="preprocessor">  #</span>
<span class="preprocessor"></span><span class="preprocessor">  #  Create the graph itself, with suitable title</span>
<span class="preprocessor"></span><span class="preprocessor">  #</span>
<span class="preprocessor"></span>  my $grf = $self-&gt;getPG(<span class="stringliteral">&#39;$_grf_ = {n =&gt; 0}&#39;</span>);
  $grf-&gt;{Goptions} = [
     $mx,$my,$Mx,$My,
     axes =&gt; $graphs-&gt;{axes},
     grid =&gt; $graphs-&gt;{grid},
     size =&gt; $size,
  ];
  $grf-&gt;{params} = {
    names =&gt; [$x,@pnames],
    values =&gt; {map {$pnames[$_] =&gt; $pvalues[$_]} (0..scalar(@pnames)-1)},
  };
  $grf-&gt;{G} = $self-&gt;getPG(<span class="stringliteral">&#39;init_graph(@{$_grf_-&gt;{Goptions}})&#39;</span>);
  $grf-&gt;{G}-&gt;imageName($grf-&gt;{G}-&gt;imageName.<span class="charliteral">&#39;-&#39;</span>.time()); # avoid browser cache
  $self-&gt;cmp_graph_function($grf,$F2,<span class="stringliteral">&quot;green&quot;</span>,$steps,$points) <span class="keywordflow">if</span> defined($F2);
  $self-&gt;cmp_graph_function($grf,$F1,<span class="stringliteral">&quot;red&quot;</span>,$steps,$points);
  my $image = $self-&gt;getPG(<span class="stringliteral">&#39;alias(insertGraph($_grf_-&gt;{G}))&#39;</span>);
  $image = <span class="stringliteral">&#39;&lt;IMG SRC=&quot;&#39;</span>.$image.<span class="stringliteral">&#39;&quot; WIDTH=&quot;&#39;</span>.$size-&gt;[0].<span class="stringliteral">&#39;&quot; HEIGHT=&quot;&#39;</span>.$size-&gt;[1].<span class="stringliteral">&#39;&quot; BORDER=&quot;0&quot; STYLE=&quot;margin-bottom:5px&quot;&gt;&#39;</span>;
  my $title = $options{title}; $title .= <span class="stringliteral">&#39;&lt;DIV STYLE=&quot;margin-top:5px&quot;&gt;&lt;/DIV&gt;&#39;</span> <span class="keywordflow">if</span> $title;
  $title .= <span class="stringliteral">&quot;&lt;SMALL&gt;Domain: [$mx,$Mx]&lt;/SMALL&gt;&lt;BR&gt;&quot;</span> <span class="keywordflow">if</span> $options{showDomain};
  $title .= <span class="stringliteral">&quot;&lt;SMALL&gt;Range: [$my,$My]&lt;BR&gt;Aspect ratio: $a:1&lt;/SMALL&gt;&quot;</span>;
  <span class="keywordflow">return</span> <span class="stringliteral">&#39;&lt;TD ALIGN=&quot;CENTER&quot; VALIGN=&quot;TOP&quot; NOWRAP&gt;&#39;</span>.$image.<span class="stringliteral">&#39;&lt;BR&gt;&#39;</span>.$title.<span class="stringliteral">&#39;&lt;/TD&gt;&#39;</span>;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a0d2f39704b0fc8e5d43e2acc1559c915"></a><!-- doxytag: member="Value::Formula::cmp_graph_function" ref="a0d2f39704b0fc8e5d43e2acc1559c915" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::cmp_graph_function </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-cmp_graph_function' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-cmp_graph_function-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-cmp_graph_function-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cmp_graph_function-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in cmp_graph_function: 21</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a0d2f39704b0fc8e5d43e2acc1559c915">cmp_graph_function</a> {
  my $self = shift; my $grf = shift; my $F = shift;
  my $color = shift; my $steps = shift; my $points = shift;
  $grf-&gt;{n}++; my $Fn = <span class="stringliteral">&quot;F&quot;</span>.$grf-&gt;{n}; $grf-&gt;{$Fn} = $F; my $f;
  <span class="keywordflow">if</span> ($F-&gt;isConstant) {
    my $y = $F-&gt;eval;
    $f = $self-&gt;getPG(<span class="stringliteral">&#39;new Fun(sub {&#39;</span>.$y.<span class="stringliteral">&#39;},$_grf_-&gt;{G})&#39;</span>);
  } <span class="keywordflow">else</span> {
    my $X = $grf-&gt;{params}{names}[0];
    $f = $self-&gt;getPG(<span class="stringliteral">&#39;new Fun(sub {Parser::Evaluate($_grf_-&gt;{&#39;</span>.$Fn.<span class="stringliteral">&#39;},&#39;</span>
           .$X.<span class="stringliteral">&#39;=&gt;shift,%{$_grf_-&gt;{params}{values}})},$_grf_-&gt;{G})&#39;</span>);
    <span class="keywordflow">foreach</span> my $x (@{$points}) {
      my $y = <a class="code" href="classParser.html#a25690085ad4a6d0a78c8dd5ee84c18a5">Parser::Evaluate</a>($F,($X)=&gt;$x,%{$grf-&gt;{params}{values}});
      next unless defined($y) &amp;&amp; <a class="code" href="classValue.html#a6dca6c242402a7860ea097c0e052b243">Value::isNumber</a>($y);
      $grf-&gt;{x} = $x; $grf-&gt;{<span class="charliteral">&#39;y&#39;</span>} = $y;
      my $C = $self-&gt;getPG(<span class="stringliteral">&#39;new Circle($_grf_-&gt;{x},$_grf_-&gt;{y},4,&quot;&#39;</span>.$color.<span class="stringliteral">&#39;&quot;,&quot;&#39;</span>.$color.<span class="stringliteral">&#39;&quot;)&#39;</span>);
      $grf-&gt;{G}-&gt;stamps($C);
    }
  }
  $f-&gt;color($color); $f-&gt;weight(2); $f-&gt;steps($steps);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a164aa7d52c1d82bbe2d096a682ce27ee"></a><!-- doxytag: member="Value::Formula::cmp_postfilter" ref="a164aa7d52c1d82bbe2d096a682ce27ee" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::cmp_postfilter </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-cmp_postfilter' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-cmp_postfilter-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-cmp_postfilter-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cmp_postfilter-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in cmp_postfilter: 20</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a164aa7d52c1d82bbe2d096a682ce27ee">cmp_postfilter</a> {
  my $self = shift; my $ans = shift;
  $ans-&gt;{_filter_name} = <span class="stringliteral">&quot;produce_equivalence_message&quot;</span>;
  <span class="keywordflow">return</span> $ans <span class="keywordflow">if</span> $ans-&gt;{ans_message}; # don<span class="stringliteral">&#39;t overwrite other messages</span>
<span class="stringliteral">  return $ans unless defined($ans-&gt;{prev_ans}); # if prefilters are erased, don&#39;</span>t <span class="keywordflow">do</span> <span class="keyword">this</span> check
  my $context = $self-&gt;context;
  $ans-&gt;{prev_formula} = <a class="code" href="classParser.html#a88e52b9304be1766333fa340cc242e7e">Parser::Formula</a>($context,$ans-&gt;{prev_ans});
  <span class="keywordflow">if</span> (defined($ans-&gt;{prev_formula}) &amp;&amp; defined($ans-&gt;{student_formula})) {
    my $prev = <a class="code" href="classValue.html#a4cacd8a007b0b8473a1fe33c1bf36a2a">eval</a> {$self-&gt;promote($ans-&gt;{prev_formula})-&gt;<a class="code" href="classValue_1_1Formula.html#ab1c5850cf84b6b8b4a7d8da086174b4b">inherit</a>($self)}; # <a class="code" href="classValue_1_1Formula.html#ab1c5850cf84b6b8b4a7d8da086174b4b">inherit</a> limits, etc.
    <span class="keywordflow">break</span> unless defined($prev);
    $context-&gt;{answerHash} = $ans; # values here <a class="code" href="classValue.html#ac6a46c769f3b329b3c96311a2a3f33a7">can</a> <span class="keyword">override</span> <a class="code" href="classcontext.html">context</a> flags
    $ans-&gt;{prev_equals_current} = <a class="code" href="classValue.html#ac7aff126e85a2d9d8e903a0f4d99c701">Value::cmp_compare</a>($prev,$ans-&gt;{student_formula},$ans);
    $context-&gt;{answerHash} = undef;
    <span class="keywordflow">if</span> (   !$ans-&gt;{isPreview}                                 # not preview mode
    and $ans-&gt;{prev_equals_current}                       # equivalent
    and $ans-&gt;{prev_ans} ne $ans-&gt;{original_student_ans}) # but not identical
      {$ans-&gt;{ans_message} = <span class="stringliteral">&quot;This answer is equivalent to the one you just submitted.&quot;</span>}
  }
  <span class="keywordflow">return</span> $ans;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a59b3031c637ac3ffe43f4b4a34a38309"></a><!-- doxytag: member="Value::Formula::cmp_postprocess" ref="a59b3031c637ac3ffe43f4b4a34a38309" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::cmp_postprocess </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-cmp_postprocess' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-cmp_postprocess-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-cmp_postprocess-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cmp_postprocess-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in cmp_postprocess: 19</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a59b3031c637ac3ffe43f4b4a34a38309">cmp_postprocess</a> {
  my $self = shift; my $ans = shift;
  <span class="keywordflow">return</span> unless $ans-&gt;{score} == 0;
  $self-&gt;{<a class="code" href="classcontext.html">context</a>}-&gt;clearError;
  <a class="code" href="classValue.html#a4cacd8a007b0b8473a1fe33c1bf36a2a">eval</a> {$ans-&gt;{student_formula}-&gt;reduce} <span class="keywordflow">if</span> defined($ans-&gt;{student_formula}); # check <span class="keywordflow">for</span> bad function calls
  $self-&gt;cmp_error($ans) <span class="keywordflow">if</span> $self-&gt;{<a class="code" href="classcontext.html">context</a>}{error}{flag};                    #  and report the error
  <span class="keywordflow">return</span> <span class="keywordflow">if</span> $ans-&gt;{ans_message} || $ans-&gt;{isPreview};
  <span class="keywordflow">if</span> ($self-&gt;{domainMismatch} &amp;&amp; $ans-&gt;{showDomainErrors}) {
    $self-&gt;cmp_Error($ans,<span class="stringliteral">&quot;The domain of your function doesn&#39;t match that of the correct answer&quot;</span>);
    <span class="keywordflow">return</span>;
  }
  <span class="keywordflow">return</span> <span class="keywordflow">if</span> !$ans-&gt;{showDimensionHints};
  my $other = $ans-&gt;{student_value};
  <span class="keywordflow">return</span> <span class="keywordflow">if</span> $ans-&gt;{ignoreStrings} &amp;&amp; (!<a class="code" href="classValue.html#a43e6b7aa1e386a5a9056190d0ac3cbb3">Value::isValue</a>($other) || $other-&gt;type eq <span class="stringliteral">&#39;String&#39;</span>);
  <span class="keywordflow">return</span> unless $other-&gt;type =~ m/^(Point|Vector|<a class="code" href="classMatrix.html">Matrix</a>)$/;
  <span class="keywordflow">return</span> unless $self-&gt;type  =~ m/^(Point|Vector|<a class="code" href="classMatrix.html">Matrix</a>)$/;
  <span class="keywordflow">return</span> <span class="keywordflow">if</span> <a class="code" href="classValue_1_1Formula.html#a20310c2233e0bd25cc376ff887bbe8e3">Parser::Item::typeMatch</a>($self-&gt;typeRef,$other-&gt;typeRef);
  $self-&gt;cmp_Error($ans,<span class="stringliteral">&quot;The dimension of your result is incorrect&quot;</span>);
}
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#aeb58ff09888ec78e3d184a36474f60c6">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a79afdfd2e0fbaab12589bae26d9d17df"></a><!-- doxytag: member="Value::Formula::cmp_prefilter" ref="a79afdfd2e0fbaab12589bae26d9d17df" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::cmp_prefilter </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-cmp_prefilter' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-cmp_prefilter-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-cmp_prefilter-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cmp_prefilter-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in cmp_prefilter: 14</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a79afdfd2e0fbaab12589bae26d9d17df">cmp_prefilter</a> {
  my $self = shift; my $ans = shift;
  $ans-&gt;{_filter_name} = <span class="stringliteral">&quot;fetch_previous_answer&quot;</span>;
  $ans-&gt;{prev_ans} = undef;
  <span class="keywordflow">if</span> (defined($ans-&gt;{ans_label})) {
    my $label = <span class="stringliteral">&quot;previous_&quot;</span>.$ans-&gt;{ans_label};
    my $inputs = $self-&gt;getPG(<span class="stringliteral">&#39;$inputs_ref&#39;</span>);
    <span class="keywordflow">if</span> (defined $inputs-&gt;{$label} and $inputs-&gt;{$label} =~ /\S/) {
      $ans-&gt;{prev_ans} = $inputs-&gt;{$label};
<span class="preprocessor">      #FIXME -- previous answer item is not always being updated in inputs_ref (which comes from formField)</span>
<span class="preprocessor"></span>    }
  }
  <span class="keywordflow">return</span> $ans;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="affdee934d13b097bf00b27aa234c75a5"></a><!-- doxytag: member="Value::Formula::compare" ref="affdee934d13b097bf00b27aa234c75a5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::compare </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-compare' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-compare-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-compare-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-compare-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in compare: 64</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#affdee934d13b097bf00b27aa234c75a5">compare</a> {
  my ($l,$r) = @_; my $self = $l;
  my $context = $self-&gt;context;
  $r = $context-&gt;Package(<span class="stringliteral">&quot;Formula&quot;</span>)-&gt;new($context,$r) unless <a class="code" href="classValue.html#afa346ffc3c989970326e02766a63523a">Value::isFormula</a>($r);
  <a class="code" href="classValue.html#a26f0e9926e446d67e29db24fd4300279">Value::Error</a>(<span class="stringliteral">&quot;Formulas from different contexts can&#39;t be compared&quot;</span>)
    unless $l-&gt;{<a class="code" href="classcontext.html">context</a>} == $r-&gt;{<a class="code" href="classcontext.html">context</a>};

<span class="preprocessor">  #</span>
<span class="preprocessor"></span><span class="preprocessor">  #  Get the test points and evaluate the functions at those points</span>
<span class="preprocessor"></span><span class="preprocessor">  #</span>
<span class="preprocessor"></span><span class="preprocessor">  ##  FIXME: Check given points for consistency</span>
<span class="preprocessor"></span><span class="preprocessor">  ##  FIXME: make arrays if only a single value is given</span>
<span class="preprocessor"></span><span class="preprocessor">  ##  FIXME: insert additional values if vars in use in formula aren&#39;t all the vars in the context</span>
<span class="preprocessor"></span>  my $points  = $l-&gt;{test_points} || $l-&gt;createRandomPoints(undef,$l-&gt;{test_at});
  my $lvalues = $l-&gt;{test_values} || $l-&gt;createPointValues($points,1,1);
  my $rvalues = $r-&gt;createPointValues($points,0,1,$l-&gt;{checkUndefinedPoints});
<span class="preprocessor">  #</span>
<span class="preprocessor"></span><span class="preprocessor">  # Note: $l is bigger if $r can&#39;t be evaluated at one of the points</span>
<span class="preprocessor"></span>  <span class="keywordflow">return</span> 1 unless $rvalues;

  my ($i, $cmp);

<span class="preprocessor">  #</span>
<span class="preprocessor"></span><span class="preprocessor">  #  Handle adaptive parameters:</span>
<span class="preprocessor"></span><span class="preprocessor">  #    Get the tolerances, and check each adapted point relative</span>
<span class="preprocessor"></span><span class="preprocessor">  #    to the ORIGINAL correct answer.  (This will have to be</span>
<span class="preprocessor"></span><span class="preprocessor">  #    fixed if we ever do adaptive parameters for non-real formulas)</span>
<span class="preprocessor"></span><span class="preprocessor">  #</span>
<span class="preprocessor"></span><span class="preprocessor">  #  FIXME:  it doesn&#39;t make sense to apply the ORIGINAL value&#39;s</span>
<span class="preprocessor"></span><span class="preprocessor">  #          tolerance, and causes problems when the values</span>
<span class="preprocessor"></span><span class="preprocessor">  #          differ in magnitude by much.  Gavin has found several</span>
<span class="preprocessor"></span><span class="preprocessor">  #          situations where this is a problem.</span>
<span class="preprocessor"></span><span class="preprocessor">  #</span>
<span class="preprocessor"></span>  <span class="keywordflow">if</span> ($l-&gt;AdaptParameters($r,$self-&gt;{<a class="code" href="classcontext.html">context</a>}-&gt;variables-&gt;parameters)) {
    my $avalues      = $l-&gt;{test_adapt};
    my $tolerance    = $self-&gt;getFlag(<span class="stringliteral">&#39;tolerance&#39;</span>,1E-4);
    my $isRelative   = $self-&gt;getFlag(<span class="stringliteral">&#39;tolType&#39;</span>,<span class="stringliteral">&#39;relative&#39;</span>) eq <span class="stringliteral">&#39;relative&#39;</span>;
    my $zeroLevel    = $self-&gt;getFlag(<span class="stringliteral">&#39;zeroLevel&#39;</span>,1E-14);
    my $zeroLevelTol = $self-&gt;getFlag(<span class="stringliteral">&#39;zeroLevelTol&#39;</span>,1E-12);
    <span class="keywordflow">foreach</span> $i (0..scalar(@{$lvalues})-1) {
      my $tol = $tolerance;
      my ($lv,$rv,$av) = ($lvalues-&gt;[$i]-&gt;value,$rvalues-&gt;[$i]-&gt;value,$avalues-&gt;[$i]-&gt;value);
      <span class="keywordflow">if</span> ($isRelative) {
    <span class="keywordflow">if</span> (abs($lv) &lt;= $zeroLevel) {$tol = $zeroLevelTol}
                           <span class="keywordflow">else</span> {$tol *= abs($lv)}
      }
      <span class="keywordflow">return</span> $rv &lt;=&gt; $av unless abs($rv - $av) &lt; $tol;
    }
    <span class="keywordflow">return</span> 0;
  }

<span class="preprocessor">  #</span>
<span class="preprocessor"></span><span class="preprocessor">  #  Look through the two lists of values to see if they are equal.</span>
<span class="preprocessor"></span><span class="preprocessor">  #  If not, return the comparison of the first unequal value</span>
<span class="preprocessor"></span><span class="preprocessor">  #    (not good for &lt; and &gt;, but OK for ==).</span>
<span class="preprocessor"></span><span class="preprocessor">  #</span>
<span class="preprocessor"></span>  my $domainError = 0;
  <span class="keywordflow">foreach</span> $i (0..scalar(@{$lvalues})-1) {
    <span class="keywordflow">if</span> (ref($lvalues-&gt;[$i]) eq <span class="stringliteral">&#39;UNDEF&#39;</span> ^ ref($rvalues-&gt;[$i]) eq <span class="stringliteral">&#39;UNDEF&#39;</span>) {$domainError = 1; next}
    $cmp = $lvalues-&gt;[$i] &lt;=&gt; $rvalues-&gt;[$i];
    <span class="keywordflow">return</span> $cmp <span class="keywordflow">if</span> $cmp;
  }
  $l-&gt;{domainMismatch} = $domainError;  # <span class="keywordflow">return</span> <span class="keyword">this</span> value
}
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#add776dc9ad03fee29f2d18415f08544c">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a1d48e13cdb835b39fee3e089f8470e23"></a><!-- doxytag: member="Value::Formula::correct_ans" ref="a1d48e13cdb835b39fee3e089f8470e23" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::correct_ans </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-correct_ans' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-correct_ans-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-correct_ans-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-correct_ans-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in correct_ans: 17</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a1d48e13cdb835b39fee3e089f8470e23">correct_ans</a> {
  my $self = shift;
  <span class="keywordflow">return</span> $self-&gt;SUPER::correct_ans unless $self-&gt;{ans_name};
  my @array = ();
  <span class="keywordflow">if</span> ($self-&gt;{tree}-&gt;type eq <span class="stringliteral">&#39;Matrix&#39;</span>) {
    <span class="keywordflow">foreach</span> my $row (@{$self-&gt;{tree}{coords}}) {
      my @row = ();
      <span class="keywordflow">foreach</span> my $x (@{$row-&gt;coords}) {push(@row,$x-&gt;string)}
      push(@array,[@row]);
    }
  } <span class="keywordflow">else</span> {
    <span class="keywordflow">foreach</span> my $x (@{$self-&gt;{tree}{coords}}) {push(@array,$x-&gt;string)}
    <span class="keywordflow">if</span> ($self-&gt;{tree}{ColumnVector}) {<span class="keywordflow">foreach</span> my $x (@array) {$x = [$x]}}
      <span class="keywordflow">else</span> {@array = [@array]}
  }
  <a class="code" href="classValue.html#ad68f66fffac03a06e502e920e63289ac">Value::VERBATIM</a>($self-&gt;format_matrix([@array],@{$self-&gt;{format_options}},tth_delims=&gt;1));
}
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#add93b80ff80a64824c703ee12d9a3f0e">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a40837d1bbce9d1e315686d345aafa949"></a><!-- doxytag: member="Value::Formula::cos" ref="a40837d1bbce9d1e315686d345aafa949" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::cos </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-cos' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-cos-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-cos-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cos-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in cos: 1</span>
<span class="preprocessor">sub cos  {shift-&gt;call(&#39;cos&#39;,@_)}</span>
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#ac28b62e0212a566542b39f0b867355a3">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a3c7fe918e5c532ff5433e8b1385a6496"></a><!-- doxytag: member="Value::Formula::createAdaptedValues" ref="a3c7fe918e5c532ff5433e8b1385a6496" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::createAdaptedValues </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-createAdaptedValues' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-createAdaptedValues-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-createAdaptedValues-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-createAdaptedValues-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in createAdaptedValues: 23</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a3c7fe918e5c532ff5433e8b1385a6496">createAdaptedValues</a> {
  my $self = shift; my $context = $self-&gt;context;
  my $points = shift || $self-&gt;{test_points} || $self-&gt;createRandomPoints;
  my $showError = shift;
  my @vars   = $context-&gt;variables-&gt;variables;
  my @params = $context-&gt;variables-&gt;parameters;
  my $f = $self-&gt;{f}; $f = $self-&gt;{f} = $self-&gt;perlFunction(undef,[@vars,@params]) unless $f;

  my $values = []; my $v;
  my @adapt = @{$self-&gt;{parameters}};
  <span class="keywordflow">foreach</span> my $p (@{$points}) {
    $v = <a class="code" href="classValue.html#a4cacd8a007b0b8473a1fe33c1bf36a2a">eval</a> {&amp;$f(@{$p},@adapt)};
    <span class="keywordflow">if</span> (!defined($v)) {
      <span class="keywordflow">return</span> unless $showError;
      <a class="code" href="classValue.html#a26f0e9926e446d67e29db24fd4300279">Value::Error</a>(<span class="stringliteral">&quot;Can&#39;t evaluate formula on test point (%s) with parameters (%s)&quot;</span>,
           join(<span class="charliteral">&#39;,&#39;</span>,@{$p}),join(<span class="charliteral">&#39;,&#39;</span>,@adapt));
    }
    $v = <a class="code" href="classValue.html#a43a81d16f2f6aee0019772bf09626569">Value::makeValue</a>($v,<a class="code" href="classcontext.html">context</a>=&gt;$context)-&gt;with(equation=&gt;$self);
    $v-&gt;transferFlags(<span class="stringliteral">&quot;equation&quot;</span>);
    push @{$values}, $v;
  }
  $self-&gt;{test_adapt} = $values;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a782c496f99c0432c7cc9ebac6054676c"></a><!-- doxytag: member="Value::Formula::createPointValues" ref="a782c496f99c0432c7cc9ebac6054676c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::createPointValues </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-createPointValues' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-createPointValues-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-createPointValues-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-createPointValues-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in createPointValues: 31</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a782c496f99c0432c7cc9ebac6054676c">createPointValues</a> {
  my $self = shift; my $context = $self-&gt;context;
  my $points = shift || $self-&gt;{test_points} || $self-&gt;createRandomPoints;
  my $showError = shift; my $cacheResults = shift;
  my @vars   = $context-&gt;variables-&gt;variables;
  my @params = $context-&gt;variables-&gt;parameters;
  my @zeros  = (0) x scalar(@params);
  my $f = $self-&gt;{f}; $f = $self-&gt;{f} = $self-&gt;perlFunction(undef,[@vars,@params]) unless $f;
  my $checkUndef = scalar(@params) == 0 &amp;&amp; (shift || $self-&gt;getFlag(<span class="stringliteral">&#39;checkUndefinedPoints&#39;</span>,0));

  my $values = []; my $v;
  <span class="keywordflow">foreach</span> my $p (@{$points}) {
    $v = <a class="code" href="classValue.html#a4cacd8a007b0b8473a1fe33c1bf36a2a">eval</a> {&amp;$f(@{$p},@zeros)};
    <span class="keywordflow">if</span> (!defined($v) &amp;&amp; !$checkUndef) {
      <span class="keywordflow">return</span> unless $showError;
      <a class="code" href="classValue.html#a26f0e9926e446d67e29db24fd4300279">Value::Error</a>(<span class="stringliteral">&quot;Can&#39;t evaluate formula on test point (%s)&quot;</span>,join(<span class="charliteral">&#39;,&#39;</span>,@{$p}));
    }
    <span class="keywordflow">if</span> (defined($v)) {
      $v = <a class="code" href="classValue.html#a43a81d16f2f6aee0019772bf09626569">Value::makeValue</a>($v,<a class="code" href="classcontext.html">context</a>=&gt;$context)-&gt;with(equation=&gt;$self);
      $v-&gt;transferFlags(<span class="stringliteral">&quot;equation&quot;</span>);
      push @{$values}, $v;
    } <span class="keywordflow">else</span> {
      push @{$values}, $UNDEF;
    }
  }
  <span class="keywordflow">if</span> ($cacheResults) {
    $self-&gt;{test_points} = $points;
    $self-&gt;{test_values} = $values;
  }
  <span class="keywordflow">return</span> $values;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a0daa75220958da8a376647cc4c845444"></a><!-- doxytag: member="Value::Formula::createRandomPoints" ref="a0daa75220958da8a376647cc4c845444" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::createRandomPoints </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-createRandomPoints' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-createRandomPoints-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-createRandomPoints-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-createRandomPoints-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in createRandomPoints: 61</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a0daa75220958da8a376647cc4c845444">createRandomPoints</a> {
  my $self = shift; my $context = $self-&gt;context;
  my ($num_points,$include,$noErrors) = @_; my $cacheResults = !defined($num_points);
  $num_points = int($self-&gt;getFlag(<span class="stringliteral">&#39;num_points&#39;</span>,5)) unless defined($num_points);
  $num_points = 1 <span class="keywordflow">if</span> $num_points &lt; 1;

  my @vars   = $context-&gt;variables-&gt;variables;
  my @params = $context-&gt;variables-&gt;parameters;
  my @limits = $self-&gt;getVariableLimits(@vars);
  my @<a class="code" href="classValue.html#a16763b861978f887b15437d55bcac05a">make</a>   = $self-&gt;getVariableTypes(@vars);
  my @zeros  = (0) x scalar(@params);
  my $f = $self-&gt;{f}; $f = $self-&gt;{f} = $self-&gt;perlFunction(undef,[@vars,@params]) unless $f;
  my $seedRandom = $context-&gt;flag(<span class="stringliteral">&#39;random_seed&#39;</span>)? <span class="stringliteral">&#39;PGseedRandom&#39;</span> : <span class="stringliteral">&#39;seedRandom&#39;</span>;
  my $getRandom  = $context-&gt;flag(<span class="stringliteral">&#39;random_seed&#39;</span>)? <span class="stringliteral">&#39;PGgetRandom&#39;</span>  : <span class="stringliteral">&#39;getRandom&#39;</span>;
  my $checkUndef = scalar(@params) == 0 &amp;&amp; $self-&gt;getFlag(<span class="stringliteral">&#39;checkUndefinedPoints&#39;</span>,0);
  my $max_undef  = $self-&gt;getFlag(<span class="stringliteral">&#39;max_undefined&#39;</span>,$num_points);

  $self-&gt;$seedRandom;
  my $points = []; my $values = []; my $num_undef = 0;
  <span class="keywordflow">if</span> ($include) {
    push(@{$points},@{$include});
    push(@{$values},@{$self-&gt;createPointValues($include,1,$cacheResults,$self-&gt;{checkundefinedPoints})});
  }
  my (@P,@p,$v,$i); my $k = 0;
  <span class="keywordflow">while</span> (scalar(@{$points}) &lt; $num_points+$num_undef &amp;&amp; $k &lt; 10) {
    @P = (); $i = 0;
    <span class="keywordflow">foreach</span> my $limit (@limits) {
      @p = (); <span class="keywordflow">foreach</span> my $I (@{$limit})
        {push @p, $context-&gt;Package(<span class="stringliteral">&quot;Real&quot;</span>)-&gt;make($context,$self-&gt;$getRandom(@{$I}))}
      push @P, $make[$i++]-&gt;make($context,@p);
    }
    $v = <a class="code" href="classValue.html#a4cacd8a007b0b8473a1fe33c1bf36a2a">eval</a> {&amp;$f(@P,@zeros)};
    <span class="keywordflow">if</span> (!defined($v)) {
      <span class="keywordflow">if</span> ($checkUndef &amp;&amp; $num_undef &lt; $max_undef) {
    push @{$points}, [@P];
    push @{$values}, $UNDEF;
    $num_undef++;
      }
      $k++;
    } <span class="keywordflow">else</span> {
      $v = <a class="code" href="classValue.html#a43a81d16f2f6aee0019772bf09626569">Value::makeValue</a>($v,<a class="code" href="classcontext.html">context</a>=&gt;$context)-&gt;with(equation=&gt;$self);
      $v-&gt;transferFlags(<span class="stringliteral">&quot;equation&quot;</span>);
      push @{$points}, [@P];
      push @{$values}, $v;
      $k = 0; # reset count when we find a point
    }
  }

  <span class="keywordflow">if</span> ($k) {
    my $error = <span class="stringliteral">&quot;Can&#39;t generate enough valid points for comparison&quot;</span>;
    $error .= <span class="stringliteral">&#39;:&lt;div style=&quot;margin-left:1em&quot;&gt;&#39;</span>.($context-&gt;{error}{message} || $@).<span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>
      <span class="keywordflow">if</span> ($self-&gt;getFlag(<span class="stringliteral">&#39;showTestPointErrors&#39;</span>));
    $error =~ s! (in \S+ )?at line \d+.*&lt;/<a class="code" href="classValue_1_1Formula.html#a6b2c96803734860260cf859342563813">div</a>&gt;!&lt;/<a class="code" href="classValue_1_1Formula.html#a6b2c96803734860260cf859342563813">div</a>&gt;!s;
    <a class="code" href="classValue.html#a26f0e9926e446d67e29db24fd4300279">Value::Error</a>($error) unless $noErrors;
    return ($points,$values,1);
  }

  return ($points,$values) unless $cacheResults;
  $self-&gt;{test_values} = $values;
  $self-&gt;{test_points} = $points;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aaa70385b10f3871350a9b3ac37982605"></a><!-- doxytag: member="Value::Formula::cross" ref="aaa70385b10f3871350a9b3ac37982605" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::cross </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-cross' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-cross-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-cross-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cross-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in cross: 1</span>
<span class="preprocessor">sub cross {bop(&#39;&gt;&lt;&#39;,@_)}</span>
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a8125ab83d47203c43c5668a6af09247c">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a6b2c96803734860260cf859342563813"></a><!-- doxytag: member="Value::Formula::div" ref="a6b2c96803734860260cf859342563813" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::div </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-div' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-div-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-div-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-div-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in div: 1</span>
<span class="preprocessor">sub div   {bop(&#39;/&#39;,@_)}</span>
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#afc311fcf8a6ad9fd85da565488e342c6">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a49caff2a47a81523e1ba632c4abafc89"></a><!-- doxytag: member="Value::Formula::exp" ref="a49caff2a47a81523e1ba632c4abafc89" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::exp </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-exp' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-exp-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-exp-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-exp-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in exp: 1</span>
<span class="preprocessor">sub exp  {shift-&gt;call(&#39;exp&#39;,@_)}</span>
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a4ba311997f5a6159a7072f109e065f77">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a248a84ba73469f6413f1c3f7fd5c25b9"></a><!-- doxytag: member="Value::Formula::getRandom" ref="a248a84ba73469f6413f1c3f7fd5c25b9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::getRandom </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getRandom' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-getRandom-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getRandom-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getRandom-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in getRandom: 5</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a248a84ba73469f6413f1c3f7fd5c25b9">getRandom</a> {
  my $self = shift;
  my ($m,$M,$n) = @_; $n = 1 unless $n;
  <span class="keywordflow">return</span> $m + $n*int(rand()*(<span class="keywordtype">int</span>(($M-$m)/$n)+1));
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a999f7dea39b2bd2faa1301597a86bebd"></a><!-- doxytag: member="Value::Formula::getTypicalValue" ref="a999f7dea39b2bd2faa1301597a86bebd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::getTypicalValue </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getTypicalValue' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-getTypicalValue-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getTypicalValue-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getTypicalValue-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in getTypicalValue: 7</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a999f7dea39b2bd2faa1301597a86bebd">getTypicalValue</a> {
  my $self = shift; my $f = shift; my $noError = shift;
  <span class="keywordflow">return</span> $f-&gt;{test_values}[0] <span class="keywordflow">if</span> $f-&gt;{test_values};
  my $points = $f-&gt;{test_points} || $self-&gt;{test_points};
  <span class="keywordflow">return</span> ($f-&gt;createPointValues($points)||[])-&gt;[0] <span class="keywordflow">if</span> $points;
  <span class="keywordflow">return</span> ((($f-&gt;createRandomPoints(1,undef,$noError))[1])||[])-&gt;[0];
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aab8c16ce2f3f056d33f64c64822b46fc"></a><!-- doxytag: member="Value::Formula::getVariableLimits" ref="aab8c16ce2f3f056d33f64c64822b46fc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::getVariableLimits </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getVariableLimits' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-getVariableLimits-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getVariableLimits-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getVariableLimits-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in getVariableLimits: 25</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#aab8c16ce2f3f056d33f64c64822b46fc">getVariableLimits</a> {
  my $self = shift;
  my $userlimits = $self-&gt;{limits};
  <span class="keywordflow">if</span> (defined($userlimits)) {
    $userlimits = [[[-$userlimits,$userlimits]]] unless ref($userlimits) eq &#39;ARRAY&#39;;
    $userlimits = [$userlimits] unless ref($userlimits-&gt;[0]) eq &#39;ARRAY&#39;;
    $userlimits = [$userlimits] if scalar(@_) == 1 &amp;&amp; ref($userlimits-&gt;[0][0]) ne &#39;ARRAY&#39;;
    foreach my $I (@{$userlimits}) {$I = [$I] unless ref($I-&gt;[0]) eq &#39;ARRAY&#39;};
  }
  $userlimits = [] unless $userlimits; my @limits;
  my $default;  $default = $userlimits-&gt;[0][0] if defined($userlimits-&gt;[0]);
  $default = $default || $self-&gt;<a class="code" href="classValue.html#a9c7a06349ca07e14289051c79e950a22">getFlag</a>(&#39;limits&#39;,[-2,2]);
  my $granularity = $self-&gt;<a class="code" href="classValue.html#a9c7a06349ca07e14289051c79e950a22">getFlag</a>(&#39;granularity&#39;,1000);
  my $resolution = $self-&gt;<a class="code" href="classValue.html#a9c7a06349ca07e14289051c79e950a22">getFlag</a>(&#39;resolution&#39;);
  my $i = 0;
  foreach my $x (@_) {
    my $def = $self-&gt;{<a class="code" href="classcontext.html">context</a>}{variables}{$x};
    my $limit = $userlimits-&gt;[$i++] || $def-&gt;{limits} || [];
    $limit = [$limit] <span class="keywordflow">if</span> defined($limit-&gt;[0]) &amp;&amp; ref($limit-&gt;[0]) ne &#39;ARRAY&#39;;
    push(@{$limit},$limit-&gt;[0] || $default) <span class="keywordflow">while</span> (scalar(@{$limit}) &lt; $def-&gt;{type}{<a class="code" href="classValue_1_1Formula.html#ab573ef294b2929bd2b313dd951ceb4e5">length</a>});
    pop(@{$limit}) <span class="keywordflow">while</span> (scalar(@{$limit}) &gt; $def-&gt;{type}{<a class="code" href="classValue_1_1Formula.html#ab573ef294b2929bd2b313dd951ceb4e5">length</a>});
    push @limits, $self-&gt;addGranularity($limit,$def,$granularity,$resolution);
  }
  <span class="keywordflow">return</span> @limits;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ac97172abc087f2ef96e85efb0b8af602"></a><!-- doxytag: member="Value::Formula::getVariableTypes" ref="ac97172abc087f2ef96e85efb0b8af602" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::getVariableTypes </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getVariableTypes' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-getVariableTypes-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getVariableTypes-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getVariableTypes-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in getVariableTypes: 13</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#ac97172abc087f2ef96e85efb0b8af602">getVariableTypes</a> {
  my $self = shift;
  my @make;
  <span class="keywordflow">foreach</span> my $x (@_) {
    my $type = $self-&gt;{<a class="code" href="classcontext.html">context</a>}{variables}{$x}{type};
    <span class="keywordflow">if</span> ($type-&gt;{name} eq <span class="stringliteral">&#39;Number&#39;</span>) {
      push @make,($type-&gt;{<a class="code" href="classValue_1_1Formula.html#ab573ef294b2929bd2b313dd951ceb4e5">length</a>} == 1)? <span class="stringliteral">&#39;Value::Formula::number&#39;</span>: $self-&gt;Package(<span class="stringliteral">&quot;Complex&quot;</span>);
    } <span class="keywordflow">else</span> {
      push @make, $self-&gt;Package($type-&gt;{name});
    }
  }
  <span class="keywordflow">return</span> @make;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ab1c5850cf84b6b8b4a7d8da086174b4b"></a><!-- doxytag: member="Value::Formula::inherit" ref="ab1c5850cf84b6b8b4a7d8da086174b4b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::inherit </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-inherit' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-inherit-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-inherit-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-inherit-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in inherit: 7</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#ab1c5850cf84b6b8b4a7d8da086174b4b">inherit</a> {
  my $self = shift; my $tree = $self-&gt;{tree};
  $self = $self-&gt;SUPER::inherit(@_);
  $self-&gt;{tree} = $tree-&gt;copy($self);
  $self-&gt;{variables} = $tree-&gt;getVariables;
  <span class="keywordflow">return</span> $self;
}
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#aff445df4701a142cb42688a056a1e63b">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a948af72e75519634898c6e06ae537a20"></a><!-- doxytag: member="Value::Formula::isConstant" ref="a948af72e75519634898c6e06ae537a20" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::isConstant </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-isConstant' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-isConstant-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-isConstant-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-isConstant-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in isConstant: 4</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a948af72e75519634898c6e06ae537a20">isConstant</a> {
  my @vars = (%{shift-&gt;{variables}});
  <span class="keywordflow">return</span> scalar(@vars) == 0;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a6d5f4cfb9b962e8ac095f63dfdf0026a"></a><!-- doxytag: member="Value::Formula::isOne" ref="a6d5f4cfb9b962e8ac095f63dfdf0026a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::isOne </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-isOne' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-isOne-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-isOne-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-isOne-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in isOne: 1</span>
<span class="preprocessor">sub isOne {(shift)-&gt;{tree}{isOne}}</span>
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a7d70f1cec15db92c616816a5d8ef0116">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a3a68ca5dd5962a4680db6014b07a5e74"></a><!-- doxytag: member="Value::Formula::isSetOfReals" ref="a3a68ca5dd5962a4680db6014b07a5e74" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::isSetOfReals </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-isSetOfReals' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-isSetOfReals-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-isSetOfReals-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-isSetOfReals-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in isSetOfReals: 1</span>
<span class="preprocessor">sub isSetOfReals {(shift)-&gt;{tree}-&gt;isSetOfReals}</span>
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#ae5412db5a7bc2b436105c966c7265b0f">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a2ae5a833f1540e74fb8a25adb1dca4b0"></a><!-- doxytag: member="Value::Formula::isZero" ref="a2ae5a833f1540e74fb8a25adb1dca4b0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::isZero </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-isZero' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-isZero-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-isZero-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-isZero-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in isZero: 1</span>
<span class="preprocessor">sub isZero {(shift)-&gt;{tree}{isZero}}</span>
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a1d881ebc431f6a1b8a6173fedf8aaffb">Value</a>.</p>

</div>
</div>
<a class="anchor" id="ab573ef294b2929bd2b313dd951ceb4e5"></a><!-- doxytag: member="Value::Formula::length" ref="ab573ef294b2929bd2b313dd951ceb4e5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::length </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-length' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-length-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-length-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-length-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in length: 1</span>
<span class="preprocessor">sub length {(shift)-&gt;{tree}-&gt;typeRef-&gt;{length}}</span>
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a7fde416ffe26e2de110c024983756318">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a0aa571e6647b124b9a05350698415e62"></a><!-- doxytag: member="Value::Formula::log" ref="a0aa571e6647b124b9a05350698415e62" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::log </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-log' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-log-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-log-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-log-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in log: 1</span>
<span class="preprocessor">sub log  {shift-&gt;call(&#39;log&#39;,@_)}</span>
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a87f44bd8749ace2b7cbe428aa286eac6">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a21502104ef1112cab127f527a6a78008"></a><!-- doxytag: member="Value::Formula::mult" ref="a21502104ef1112cab127f527a6a78008" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::mult </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-mult' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-mult-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-mult-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-mult-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in mult: 1</span>
<span class="preprocessor">sub mult  {bop(&#39;*&#39;,@_)}</span>
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a1a82783f6145c5b0500d2348bf4bcf54">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a10556b8f292dacc879252e3d7e9b1dd6"></a><!-- doxytag: member="Value::Formula::named_ans_array" ref="a10556b8f292dacc879252e3d7e9b1dd6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::named_ans_array </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-named_ans_array' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-named_ans_array-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-named_ans_array-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-named_ans_array-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in named_ans_array: 5</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a10556b8f292dacc879252e3d7e9b1dd6">named_ans_array</a> {
  my $self = shift;
  <span class="keywordflow">return</span> $self-&gt;SUPER::named_ans_array(@_) unless $self-&gt;array_OK;
  $self-&gt;ANS_MATRIX(0,@_);
}
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#ab2aa126517889ac5671b5dec06897c6f">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a90b6ec7ebfe183551459f88b8600fa3d"></a><!-- doxytag: member="Value::Formula::named_ans_array_extension" ref="a90b6ec7ebfe183551459f88b8600fa3d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::named_ans_array_extension </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-named_ans_array_extension' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-named_ans_array_extension-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-named_ans_array_extension-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-named_ans_array_extension-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in named_ans_array_extension: 5</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a90b6ec7ebfe183551459f88b8600fa3d">named_ans_array_extension</a> {
  my $self = shift;
  <span class="keywordflow">return</span> $self-&gt;SUPER::named_ans_array_extension(@_) unless $self-&gt;array_OK;
  $self-&gt;ANS_MATRIX(1,@_);
}
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a638644f8a9f28e16c425a015a9437696">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a2588d7175f9e38522386f63cd5790747"></a><!-- doxytag: member="Value::Formula::neg" ref="a2588d7175f9e38522386f63cd5790747" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::neg </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-neg' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-neg-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-neg-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-neg-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in neg: 7</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a2588d7175f9e38522386f63cd5790747">neg</a> {
  my $self = shift;
  my $formula = $self-&gt;blank($self-&gt;context);
  $formula-&gt;{variables} = $self-&gt;{variables};
  $formula-&gt;{tree} = $formula-&gt;Item(<span class="stringliteral">&quot;UOP&quot;</span>)-&gt;new($formula,<span class="stringliteral">&#39;u-&#39;</span>,$self-&gt;{tree}-&gt;copy($formula));
  <span class="keywordflow">return</span> $formula;
}
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a56e0f6740e40ac7ce17222de6eee0b62">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a0cbd46d988b40d9f4e2fda8359d9b198"></a><!-- doxytag: member="Value::Formula::new" ref="a0cbd46d988b40d9f4e2fda8359d9b198" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::new </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-new' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-new-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-new-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-new-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in new: 6</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <span class="keyword">new</span> {
  my $self = shift;
  my $f = $self-&gt;SUPER::new(@_);
  <span class="keywordflow">foreach</span> my $id (<span class="stringliteral">&#39;open&#39;</span>,<span class="stringliteral">&#39;close&#39;</span>) {$f-&gt;{$id} = $f-&gt;{tree}{$id}}
  <span class="keywordflow">return</span> $f;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ab09428fcf57bd3b90d79c5bc49ee0e38"></a><!-- doxytag: member="Value::Formula::noinherit" ref="ab09428fcf57bd3b90d79c5bc49ee0e38" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::noinherit </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-noinherit' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-noinherit-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-noinherit-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-noinherit-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in noinherit: 5</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#ab09428fcf57bd3b90d79c5bc49ee0e38">noinherit</a> {
  my $self = shift;
  ($self-&gt;SUPER::noinherit(@_),<span class="stringliteral">&quot;test_values&quot;</span>,<span class="stringliteral">&quot;test_adapt&quot;</span>,<span class="stringliteral">&quot;tree&quot;</span>,<span class="stringliteral">&quot;string&quot;</span>,<span class="stringliteral">&quot;variables&quot;</span>,
    <span class="stringliteral">&quot;f&quot;</span>,<span class="stringliteral">&quot;stack&quot;</span>,<span class="stringliteral">&quot;ref&quot;</span>,<span class="stringliteral">&quot;tokens&quot;</span>,<span class="stringliteral">&quot;values&quot;</span>,<span class="stringliteral">&quot;space&quot;</span>,<span class="stringliteral">&quot;domainMismatch&quot;</span>);
}
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#ab04fec289ccd9537e65cdd18a703ab4a">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a934df1d61f2ceba7c4d46d0aaf33c6bf"></a><!-- doxytag: member="Value::Formula::number::make" ref="a934df1d61f2ceba7c4d46d0aaf33c6bf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::number::make </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac4800aa3f124751d6cf69c8b4a016cc2"></a><!-- doxytag: member="Value::Formula::pdot" ref="ac4800aa3f124751d6cf69c8b4a016cc2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::pdot </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-pdot' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-pdot-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-pdot-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-pdot-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in pdot: 1</span>
<span class="preprocessor">sub pdot {&#39;(&#39;.(shift-&gt;stringify).&#39;)&#39;}</span>
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#aabcd7b36e4fb000a2ef5f917b15bdbe3">Value</a>.</p>

</div>
</div>
<a class="anchor" id="af11e3717dfba73aba10192371c4882b9"></a><!-- doxytag: member="Value::Formula::power" ref="af11e3717dfba73aba10192371c4882b9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::power </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-power' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-power-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-power-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-power-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in power: 1</span>
<span class="preprocessor">sub power {bop(&#39;**&#39;,@_)}</span>
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a09aa9e77e2f18161d8b1c63e83518b71">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a0d225f56d868048490d25b76f0e0cd77"></a><!-- doxytag: member="Value::Formula::seedRandom" ref="a0d225f56d868048490d25b76f0e0cd77" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::seedRandom </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-seedRandom' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-seedRandom-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-seedRandom-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-seedRandom-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in seedRandom: 1</span>
<span class="preprocessor">sub seedRandom {srand}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a2cc92506cbe638e2bb810578fea98456"></a><!-- doxytag: member="Value::Formula::sin" ref="a2cc92506cbe638e2bb810578fea98456" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::sin </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-sin' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-sin-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-sin-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-sin-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in sin: 1</span>
<span class="preprocessor">sub sin  {shift-&gt;call(&#39;sin&#39;,@_)}</span>
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a9ea02503d68f510fad17bdee11c9a27a">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a6042cc71865b13bd78395643b1e4b70b"></a><!-- doxytag: member="Value::Formula::sqrt" ref="a6042cc71865b13bd78395643b1e4b70b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::sqrt </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-sqrt' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-sqrt-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-sqrt-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-sqrt-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in sqrt: 1</span>
<span class="preprocessor">sub sqrt {shift-&gt;call(&#39;sqrt&#39;,@_)}</span>
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a01eee66ba67f290dbb39c656f8b0d226">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a4e61cdac51320fd85ad3f2bc556fe150"></a><!-- doxytag: member="Value::Formula::sub" ref="a4e61cdac51320fd85ad3f2bc556fe150" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::sub </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-sub' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-sub-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-sub-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-sub-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in sub: 1</span>
<span class="preprocessor">sub sub   {bop(&#39;-&#39;,@_)}</span>
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a39a759e158fb6b2e1403676331abb04a">Value</a>.</p>

</div>
</div>
<a class="anchor" id="aecb256cf2d582d936cac45c59a86ddaf"></a><!-- doxytag: member="Value::Formula::transferFlags" ref="aecb256cf2d582d936cac45c59a86ddaf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::transferFlags </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-transferFlags' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-transferFlags-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-transferFlags-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-transferFlags-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in transferFlags: 1</span>
<span class="preprocessor">sub transferFlags {}</span>
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a79996874bbbc13385428e106c981fcc0">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a474e3f798ae31cf5a6ac05870ff3fbcd"></a><!-- doxytag: member="Value::Formula::twiddle" ref="a474e3f798ae31cf5a6ac05870ff3fbcd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::twiddle </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-twiddle' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-twiddle-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-twiddle-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-twiddle-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in twiddle: 1</span>
<span class="preprocessor">sub twiddle {shift-&gt;call(&#39;conj&#39;,@_)}</span>
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a42f1490e1b4ecb5df238ff4f6b00fdb7">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a20310c2233e0bd25cc376ff887bbe8e3"></a><!-- doxytag: member="Value::Formula::typeMatch" ref="a20310c2233e0bd25cc376ff887bbe8e3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::typeMatch </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-typeMatch' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-typeMatch-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-typeMatch-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-typeMatch-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in typeMatch: 9</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a20310c2233e0bd25cc376ff887bbe8e3">typeMatch</a> {
  my $self = shift; my $other = shift; my $ans = shift;
  <span class="keywordflow">return</span> 1 <span class="keywordflow">if</span> $self-&gt;type eq $other-&gt;type;
  my $typeMatch = $self-&gt;getTypicalValue($self);
  $other = $self-&gt;getTypicalValue($other,1) <span class="keywordflow">if</span> <a class="code" href="classValue.html#afa346ffc3c989970326e02766a63523a">Value::isFormula</a>($other);
  <span class="keywordflow">return</span> 1 unless defined($other); # <a class="code" href="classValue.html#ac6a46c769f3b329b3c96311a2a3f33a7">can</a><span class="stringliteral">&#39;t really tell, so don&#39;</span>t report type mismatch
  <span class="keywordflow">return</span> 1 <span class="keywordflow">if</span> $typeMatch-&gt;classMatch(<span class="stringliteral">&#39;String&#39;</span>) &amp;&amp; <a class="code" href="classValue.html#afa346ffc3c989970326e02766a63523a">Value::isFormula</a>($ans-&gt;{<a class="code" href="classValue_1_1Formula.html#a20310c2233e0bd25cc376ff887bbe8e3">typeMatch</a>});  # avoid infinite loop
  $typeMatch-&gt;typeMatch($other,$ans);
}
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#aadc217f2f357272b69763e40dbcb29f4">Value</a>.</p>

</div>
</div>
<a class="anchor" id="ac4a8c1f03996ef4e4705fafeeeba4233"></a><!-- doxytag: member="Value::Formula::typeRef" ref="ac4a8c1f03996ef4e4705fafeeeba4233" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::typeRef </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-typeRef' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-typeRef-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-typeRef-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-typeRef-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in typeRef: 1</span>
<span class="preprocessor">sub typeRef {(shift)-&gt;{tree}-&gt;typeRef}</span>
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a7d7e5205b6260e28e0facd7b9d88827b">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a2674656ae704a8e2898dc8c4ceadeb53"></a><!-- doxytag: member="Value::Formula::usesOneOf" ref="a2674656ae704a8e2898dc8c4ceadeb53" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::usesOneOf </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-usesOneOf' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-usesOneOf-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-usesOneOf-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-usesOneOf-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in usesOneOf: 5</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a2674656ae704a8e2898dc8c4ceadeb53">usesOneOf</a> {
  my $self = shift;
  <span class="keywordflow">foreach</span> my $x (@_) {<span class="keywordflow">return</span> 1 <span class="keywordflow">if</span> $self-&gt;{variables}{$x}}
  <span class="keywordflow">return</span> 0;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a1b0840ad589211bb26baacd9dea82248"></a><!-- doxytag: member="Value::Formula::value" ref="a1b0840ad589211bb26baacd9dea82248" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::value </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-value' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-value-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-value-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-value-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in value: 18</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a1b0840ad589211bb26baacd9dea82248">value</a> {
  my $self = shift;
  <span class="keywordflow">return</span> $self unless defined $self-&gt;{tree}{coords};
  my $context = $self-&gt;context;
  my @array = ();
  <span class="keywordflow">if</span> ($self-&gt;{tree}-&gt;type eq <span class="stringliteral">&#39;Matrix&#39;</span>) {
    <span class="keywordflow">foreach</span> my $row (@{$self-&gt;{tree}-&gt;coords}) {
      my @row = ();
      <span class="keywordflow">foreach</span> my $x (@{$row-&gt;coords}) {push(@row,$context-&gt;Package(<span class="stringliteral">&quot;Formula&quot;</span>)-&gt;new($context,$x))}
      push(@array,[@row]);
    }
  } <span class="keywordflow">else</span> {
    <span class="keywordflow">foreach</span> my $x (@{$self-&gt;{tree}-&gt;coords}) {
      push(@array,$context-&gt;Package(<span class="stringliteral">&quot;Formula&quot;</span>)-&gt;new($context,$x));
    }
  }
  <span class="keywordflow">return</span> @array;
}
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a9c2ed65a400149f0cdf95c0a6d9841dc">Value</a>.</p>

</div>
</div>
<a class="anchor" id="a75fa9a9698d9fc2fbccd3f2051a83459"></a><!-- doxytag: member="Value::Formula::with" ref="a75fa9a9698d9fc2fbccd3f2051a83459" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Value::Formula::with </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-with' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-with-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-with-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-with-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in with: 7</span>
<span class="preprocessor"></span><a class="code" href="classValue_1_1Formula.html#a4e61cdac51320fd85ad3f2bc556fe150">sub</a> <a class="code" href="classValue_1_1Formula.html#a75fa9a9698d9fc2fbccd3f2051a83459">with</a> {
  my $self = shift; my %<a class="code" href="classValue.html#a4f138b81332f2e328347ed608a05946c">hash</a> = @_;
  $self = $self-&gt;SUPER::with(@_);
  $self-&gt;{tree} = $self-&gt;{tree}-&gt;copy($self); # make a <span class="keyword">new</span> <a class="code" href="classValue.html#ab09397df751e9a48958d50be44138b77">copy</a> pointing to the <span class="keyword">new</span> equation.
  <span class="keywordflow">foreach</span> my $id (keys(%<a class="code" href="classValue.html#a4f138b81332f2e328347ed608a05946c">hash</a>)) {$self-&gt;{tree}{$id} = $hash{$id}}
  <span class="keywordflow">return</span> $self;
}
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classValue.html#a8461d29fa930598d75f03152b3cba50d">Value</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="AnswerChecker_8pm_source.html">AnswerChecker.pm</a></li>
<li><a class="el" href="Formula_8pm_source.html">Formula.pm</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Jun 8 22:55:03 2012 for PG by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
