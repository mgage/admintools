<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PG: context::Fraction Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespacecontext.html">context</a>::<a class="el" href="classcontext_1_1Fraction.html">Fraction</a>
  </div>
</div>
<div class="contents">
<h1>context::Fraction Class Reference</h1><!-- doxytag: class="context::Fraction" --><!-- doxytag: inherits="context" --><div class="dynheader">
Inheritance diagram for context::Fraction:</div>
<div class="dynsection">
<div class="center"><img src="classcontext_1_1Fraction__inherit__graph.png" border="0" usemap="#context_1_1Fraction_inherit__map" alt="Inheritance graph"/></div>
<map name="context_1_1Fraction_inherit__map" id="context_1_1Fraction_inherit__map">
<area shape="rect" href="classcontext.html" title="context" alt="" coords="33,5,97,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for context::Fraction:</div>
<div class="dynsection">
<div class="center"><img src="classcontext_1_1Fraction__coll__graph.png" border="0" usemap="#context_1_1Fraction_coll__map" alt="Collaboration graph"/></div>
<map name="context_1_1Fraction_coll__map" id="context_1_1Fraction_coll__map">
<area shape="rect" href="classcontext.html" title="context" alt="" coords="33,5,97,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classcontext_1_1Fraction-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Avaliable Methods</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp9be22fb8347fa3884856571d2a5f020b"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">private method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#ae43c055adf18ea52439777a24ff54a52">_eval</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">private method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a3f30afb1f21ea2ad68a4e9ec31d8d5fb">_check</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a67ff068612dcea027f4674e4eb11b867">compare</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#ae0f9dc301a51f2b5bc3005cd18d33b9d">atan2</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a7236590e95902c6632ea942de1faf184">sqrt</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a11f07e0dcf7163b3d57e9cfa08e36fed">lcm</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#ac71a0366fac4e7e315bb15975fd8843f">cmp_defaults</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#ae642a8cb681acb09add664e8bfef8fdd">string</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a6c0023bb519512e753f2955f2481aada">isZero</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a40bb9b84d4fca9a242e9f1b91660a8fd">cmp_class</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a646a1dff158af6bff9f4970c92efbce6">typeRef</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#aec327c89bdbaf8886cfdd64992c7bcb5">formula</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#ae01bf567d151cdda94e23d4df2003563">power</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a06674ab88e612e868659f671b295b850">isOne</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a98241bd1c1dfbbe82eb16a33aa61e6aa">isNeg</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#ad7a37ca7c656a70f346cbc393aac521f">new</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a6ccf29ee459d0894f78c050e0102488d">Init</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#ad114d8156f06a1da2f3dccbe186803a4">neg</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a3d4b36d38b5855dcaa61d49b50e73845">exp</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a43ef260239cd1fbc11320557616ed5e8">toFraction</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a6ef6856188a2eacacfd260e420dd6591">typeMatch</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a1ad6364e60f9c7f6e8f4711d41373e12">gcd</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#ae5560ca66fd2882809702903692fcabd">promote</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#af05a195340a34ad37cd9429edeea127d">isInteger</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a80e851ae90b534e95df6f3c66a305456">abs</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a2514b74f70d6fa2d754a7ed1d329c099">getFlagWithAlias</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a8589a636be6f269f2f5dfc220c804610">isReduced</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a4d4a2eecbc62121b2c8f82f15934cfd7">sin</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a2fbc8f4874a100fb860cfb6f76884ef6">mult</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a033a710a76904c1c3deebb44df720d0e">class</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#afcd9d2d3d4702c7d1105da81d0b49554">transferFlags</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#aaae0305d8cfd767cd850136370f43a96">div</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a301b8bf3938c98b839743ee4b59dca94">add</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a03c12a50e6f7563a61e46ed20968ac35">cmp_postprocess</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#ad518a75a46324318ef49f871cd347d49">TeX</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a0868b64cb1478adb30e4f41aab839a16">cos</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a2524057ce7e12c3b50925e46dce377f6">log</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a661f99bf61b653e4aa5b3b6daa48e07a">cmp_contextFlags</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a6d3fed61144055fedac17c6ac196b918">reduce</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#ab0a6414e00ed88c2a683e9561de9bab1">eval</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a35b349e9127ae5154b724c3a2e4d776f">make</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#aeec1b88f5afa67795023da6edc9a1188">length</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontext_1_1Fraction.html#a848b6f43402221e743b9b42ee1b2c2f0">pdot</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="contextFraction_8pl_source.html#l00217">217</a> of file <a class="el" href="contextFraction_8pl_source.html">contextFraction.pl</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a3f30afb1f21ea2ad68a4e9ec31d8d5fb"></a><!-- doxytag: member="context::Fraction::_check" ref="a3f30afb1f21ea2ad68a4e9ec31d8d5fb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">private method context::Fraction::_check </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-_check' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-_check-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_check-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_check-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in _check: 67</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a3f30afb1f21ea2ad68a4e9ec31d8d5fb">_check</a> {
  my $self = shift;
  $self-&gt;SUPER::_check;
  <span class="keywordflow">return</span> unless $self-&gt;context-&gt;flag(<span class="stringliteral">&quot;strictFractions&quot;</span>);
  $self-&gt;Error(<span class="stringliteral">&quot;The numerator of a fraction must be an integer&quot;</span>)
    unless $self-&gt;{lop}-&gt;class =~ /INTEGER|MINUS/;
  $self-&gt;Error(<span class="stringliteral">&quot;The denominator of a fraction must be a (non-negative) integer&quot;</span>)
    unless $self-&gt;{rop}-&gt;class eq <span class="stringliteral">&#39;INTEGER&#39;</span>;
  $self-&gt;Error(<span class="stringliteral">&quot;The numerator must be less than the denominator in a proper fraction&quot;</span>)
    <span class="keywordflow">if</span> $self-&gt;context-&gt;flag(<span class="stringliteral">&quot;requireProperFractions&quot;</span>) &amp;&amp; <a class="code" href="classcontext_1_1Fraction.html#a80e851ae90b534e95df6f3c66a305456">CORE::abs</a>($self-&gt;{lop}-&gt;eval) &gt;= CORE::abs($self-&gt;{rop}-&gt;eval);
}

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Reduce the fraction, if it is one, otherwise do the usual reduce</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a3f30afb1f21ea2ad68a4e9ec31d8d5fb">_check</a> {
  my $self = shift;
  $self-&gt;SUPER::_check;
  my $isFraction = 0;
  my $allowMixedNumbers = $self-&gt;context-&gt;flag(<span class="stringliteral">&quot;allowProperFractions&quot;</span>);
  $allowMixedNumbers = $self-&gt;context-&gt;flag(<span class="stringliteral">&quot;allowMixedNumbers&quot;</span>)
    unless defined($allowMixedNumbers) &amp;&amp; $allowMixedNumbers ne <span class="stringliteral">&quot;&quot;</span>;
  <span class="keywordflow">if</span> ($allowMixedNumbers) {
    $isFraction = ($self-&gt;{lop}-&gt;class =~ /INTEGER|MINUS/ &amp;&amp; !$self-&gt;{lop}{hadParens} &amp;&amp;
                   $self-&gt;{rop}-&gt;class eq <span class="stringliteral">&#39;FRACTION&#39;</span> &amp;&amp; !$self-&gt;{rop}{hadParens} &amp;&amp;
                   $self-&gt;{rop}-&gt;eval &gt;= 0);
  }
  <span class="keywordflow">if</span> ($isFraction) {
    $self-&gt;Error(<span class="stringliteral">&quot;Mixed numbers are not allowed; you must use a pure fraction&quot;</span>)
      <span class="keywordflow">if</span> ($self-&gt;context-&gt;flag(<span class="stringliteral">&quot;requirePureFractions&quot;</span>));
    $self-&gt;{isFraction} = 1; $self-&gt;{bop} = <span class="stringliteral">&quot;  &quot;</span>;
    $self-&gt;{def} = $self-&gt;context-&gt;{operators}{$self-&gt;{bop}};
    <span class="keywordflow">if</span> ($self-&gt;{lop}-&gt;class eq <span class="stringliteral">&#39;MINUS&#39;</span>) {
<span class="preprocessor">      #</span>
<span class="preprocessor"></span><span class="preprocessor">      #  Hack to replace BOP with unary negation of BOP.</span>
<span class="preprocessor"></span><span class="preprocessor">      #  (When check() is changed to accept a return value,</span>
<span class="preprocessor"></span><span class="preprocessor">      #   this will not be necessary.)</span>
<span class="preprocessor"></span><span class="preprocessor">      #</span>
<span class="preprocessor"></span>      my $copy = bless {%$self}, ref($self); $copy-&gt;{lop} = $copy-&gt;{lop}{op};
      my $neg = $self-&gt;Item(<span class="stringliteral">&quot;UOP&quot;</span>)-&gt;new($self-&gt;{equation},<span class="stringliteral">&quot;u-&quot;</span>,$copy);
      map {<span class="keyword">delete</span> $self-&gt;{$_}} (keys %$self);
      map {$self-&gt;{$_} = $neg-&gt;{$_}} (keys %$neg);
      bless $self, ref($neg);
    }
  } <span class="keywordflow">else</span> {
    $self-&gt;Error(<span class="stringliteral">&quot;Can&#39;t use implied multiplication in this context&quot;</span>,$self-&gt;{bop})
      <span class="keywordflow">if</span> $self-&gt;context-&gt;flag(<span class="stringliteral">&quot;strictMultiplication&quot;</span>);
    bless $self, $ISA[0];
  }
}

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Indicate if the value is a fraction or not</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a3f30afb1f21ea2ad68a4e9ec31d8d5fb">_check</a> {
  my $self = shift;
  $self-&gt;SUPER::_check;
  $self-&gt;{hadParens} = 1 <span class="keywordflow">if</span> $self-&gt;{op}{hadParens};
  <span class="keywordflow">return</span> unless $self-&gt;context-&gt;flag(<span class="stringliteral">&quot;strictMinus&quot;</span>);
  my $uop = $self-&gt;{def}{<span class="keywordtype">string</span>} || $self-&gt;{uop};
  $self-&gt;Error(<span class="stringliteral">&quot;You can only use &#39;%s&#39; with (non-negative) numbers&quot;</span>,$uop)
    unless $self-&gt;{op}-&gt;class =~ /Number|INTEGER|FRACTION/;
}

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  class is MINUS if it is a negative number</span>
<span class="preprocessor">#</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ae43c055adf18ea52439777a24ff54a52"></a><!-- doxytag: member="context::Fraction::_eval" ref="ae43c055adf18ea52439777a24ff54a52" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">private method context::Fraction::_eval </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-_eval' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-_eval-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_eval-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_eval-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in _eval: 23</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#ae43c055adf18ea52439777a24ff54a52">_eval</a> {
  my $self = shift; my $context = $self-&gt;{equation}{<a class="code" href="classcontext.html">context</a>};
  <span class="keywordflow">return</span> $_[0]/$_[1] <span class="keywordflow">if</span> <a class="code" href="classValue.html#a43e6b7aa1e386a5a9056190d0ac3cbb3">Value::isValue</a>($_[0]) || <a class="code" href="classValue.html#a43e6b7aa1e386a5a9056190d0ac3cbb3">Value::isValue</a>($_[1]);
  my $n = $context-&gt;Package(<span class="stringliteral">&quot;Fraction&quot;</span>)-&gt;make($context,@_);
  $n-&gt;{isHorizontal} = 1 <span class="keywordflow">if</span> $self-&gt;{def}{noFrac};
  <span class="keywordflow">return</span> $n;
}

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  When strictFraction is in effect, only allow division</span>
<span class="preprocessor"></span><span class="preprocessor">#  with integers and negative integers</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#ae43c055adf18ea52439777a24ff54a52">_eval</a> {
  my ($self,$a,$b)= @_;
  <span class="keywordflow">return</span> ($a &gt;= 0 ? $a + $b : $a - $b);
}

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  If the implied multiplication represents a proper fraction with a</span>
<span class="preprocessor"></span><span class="preprocessor">#  preceeding integer, then switch to the proper fraction operator</span>
<span class="preprocessor"></span><span class="preprocessor">#  (for proper handling of string() and TeX() calls), otherwise,</span>
<span class="preprocessor"></span><span class="preprocessor">#  convert the object to a standard multiplication.</span>
<span class="preprocessor">#</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a80e851ae90b534e95df6f3c66a305456"></a><!-- doxytag: member="context::Fraction::abs" ref="a80e851ae90b534e95df6f3c66a305456" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::abs </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-abs' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-abs-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-abs-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-abs-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in abs: 1</span>
<span class="preprocessor">sub abs  {my $self = shift; $self-&gt;make(CORE::abs($self-&gt;{data}[0]),CORE::abs($self-&gt;{data}[1]))}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a301b8bf3938c98b839743ee4b59dca94"></a><!-- doxytag: member="context::Fraction::add" ref="a301b8bf3938c98b839743ee4b59dca94" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::add </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-add' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-add-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-add-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-add-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in add: 7</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a301b8bf3938c98b839743ee4b59dca94">add</a> {
  my ($self,$l,$r,$other) = <a class="code" href="classValue.html#a3d59dfdd1b3de5574c3745ca282d76b5">Value::checkOpOrderWithPromote</a>(@_);
  my (($a,$b),($c,$d)) = ($l-&gt;value,$r-&gt;value);
  my $M = <a class="code" href="classcontext_1_1Fraction.html#a11f07e0dcf7163b3d57e9cfa08e36fed">context::Fraction::lcm</a>($b,$d);
  <span class="keywordflow">return</span> $self-&gt;inherit($other)-&gt;make($a*($M/$b)+$c*($M/$d),$M);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ae0f9dc301a51f2b5bc3005cd18d33b9d"></a><!-- doxytag: member="context::Fraction::atan2" ref="ae0f9dc301a51f2b5bc3005cd18d33b9d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::atan2 </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-atan2' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-atan2-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-atan2-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-atan2-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in atan2: 10</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#ae0f9dc301a51f2b5bc3005cd18d33b9d">atan2</a> {
  my ($self,$l,$r,$other) = <a class="code" href="classValue.html#a3d59dfdd1b3de5574c3745ca282d76b5">Value::checkOpOrderWithPromote</a>(@_);
  <span class="keywordflow">return</span> $self-&gt;inherit($other)-&gt;make(CORE::atan2($l-&gt;eval,$r-&gt;eval));
}

<span class="preprocessor">##################################################</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Utility</span>
<span class="preprocessor">#</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a033a710a76904c1c3deebb44df720d0e"></a><!-- doxytag: member="context::Fraction::class" ref="a033a710a76904c1c3deebb44df720d0e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::class </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-class' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-class-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-class-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-class-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in class: 42</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <span class="keyword">class </span>{
  my $self = shift;
  <span class="keywordflow">return</span> <span class="stringliteral">&quot;FRACTION&quot;</span> <span class="keywordflow">if</span> $self-&gt;{lop}-&gt;class =~ /INTEGER|MINUS/ &amp;&amp;
                       $self-&gt;{rop}-&gt;class eq <span class="stringliteral">&#39;INTEGER&#39;</span>;
  <span class="keywordflow">return</span> $self-&gt;SUPER::class;
}

<span class="preprocessor">###########################################################################</span>
<span class="preprocessor"></span>
<span class="keyword">package </span>context::Fraction::BOP::multiply;
our @ISA = (<span class="stringliteral">&#39;Parser::BOP::multiply&#39;</span>);

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  For proper fractions, add the integer to the fraction</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <span class="keyword">class </span>{
  my $self = shift;
  <span class="keywordflow">return</span> <span class="stringliteral">&quot;FRACTION&quot;</span> <span class="keywordflow">if</span> $self-&gt;{isFraction};
  <span class="keywordflow">return</span> $self-&gt;SUPER::class;
}

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Reduce the fraction</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <span class="keyword">class </span>{
  my $self = shift;
  <span class="keywordflow">return</span> <span class="stringliteral">&quot;MINUS&quot;</span> <span class="keywordflow">if</span> $self-&gt;{op}-&gt;class =~ /Number|INTEGER/;
  $self-&gt;SUPER::class;
}

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  make isNeg properly handle the modified class</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <span class="keyword">class </span>{
  my $self = shift;
  <span class="keywordflow">return</span> <span class="stringliteral">&quot;FRACTION&quot;</span> <span class="keywordflow">if</span> $self-&gt;{value}-&gt;classMatch(<span class="stringliteral">&#39;Fraction&#39;</span>);
  <span class="keywordflow">return</span> $self-&gt;SUPER::class;
}

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Handle reductions of negative fractions</span>
<span class="preprocessor">#</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a40bb9b84d4fca9a242e9f1b91660a8fd"></a><!-- doxytag: member="context::Fraction::cmp_class" ref="a40bb9b84d4fca9a242e9f1b91660a8fd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::cmp_class </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-cmp_class' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-cmp_class-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-cmp_class-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cmp_class-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in cmp_class: 2</span>
<span class="preprocessor">sub cmp_class {&quot;a fraction of integers&quot;}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a661f99bf61b653e4aa5b3b6daa48e07a"></a><!-- doxytag: member="context::Fraction::cmp_contextFlags" ref="a661f99bf61b653e4aa5b3b6daa48e07a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::cmp_contextFlags </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-cmp_contextFlags' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-cmp_contextFlags-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-cmp_contextFlags-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cmp_contextFlags-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in cmp_contextFlags: 8</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a661f99bf61b653e4aa5b3b6daa48e07a">cmp_contextFlags</a> {
  my $self = shift; my $ans = shift;
  <span class="keywordflow">return</span> (
    $self-&gt;SUPER::cmp_contextFlags($ans),
    reduceFractions =&gt; !$ans-&gt;{studentsMustReduceFractions},
  );
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ac71a0366fac4e7e315bb15975fd8843f"></a><!-- doxytag: member="context::Fraction::cmp_defaults" ref="ac71a0366fac4e7e315bb15975fd8843f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::cmp_defaults </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-cmp_defaults' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-cmp_defaults-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-cmp_defaults-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cmp_defaults-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in cmp_defaults: 8</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#ac71a0366fac4e7e315bb15975fd8843f">cmp_defaults</a> {(
  shift-&gt;SUPER::cmp_defaults(@_),
  ignoreInfinity =&gt; 1,
  studentsMustReduceFractions =&gt; 0,
  showFractionReduceWarnings =&gt; 1,
  requireFraction =&gt; 0,
)}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a03c12a50e6f7563a61e46ed20968ac35"></a><!-- doxytag: member="context::Fraction::cmp_postprocess" ref="a03c12a50e6f7563a61e46ed20968ac35" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::cmp_postprocess </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-cmp_postprocess' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-cmp_postprocess-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-cmp_postprocess-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cmp_postprocess-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in cmp_postprocess: 14</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a03c12a50e6f7563a61e46ed20968ac35">cmp_postprocess</a> {
  my $self = shift; my $ans = shift;
  my $student = $ans-&gt;{student_value};
  <span class="keywordflow">return</span> <span class="keywordflow">if</span> $ans-&gt;{isPreview} ||
            !$ans-&gt;{studentsMustReduceFractions} ||
        !<a class="code" href="classValue.html#a3518cd4f61c793378c1a59f4ddc67226">Value::classMatch</a>($student,<span class="stringliteral">&#39;Fraction&#39;</span>) ||
        $student-&gt;isReduced;
  $ans-&gt;score(0);
  $self-&gt;cmp_Error($ans,<span class="stringliteral">&quot;Your fraction is not reduced&quot;</span>) <span class="keywordflow">if</span> $ans-&gt;{showFractionReduceWarnings};
}

<span class="preprocessor">###########################################################################</span>
<span class="preprocessor"></span>
1;
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a67ff068612dcea027f4674e4eb11b867"></a><!-- doxytag: member="context::Fraction::compare" ref="a67ff068612dcea027f4674e4eb11b867" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::compare </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-compare' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-compare-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-compare-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-compare-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in compare: 10</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a67ff068612dcea027f4674e4eb11b867">compare</a> {
  my ($self,$l,$r) = <a class="code" href="classValue.html#a3d59dfdd1b3de5574c3745ca282d76b5">Value::checkOpOrderWithPromote</a>(@_);
  <span class="keywordflow">return</span> $l-&gt;eval &lt;=&gt; $r-&gt;eval;
}

<span class="preprocessor">##################################################</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#   Numeric functions</span>
<span class="preprocessor">#</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a0868b64cb1478adb30e4f41aab839a16"></a><!-- doxytag: member="context::Fraction::cos" ref="a0868b64cb1478adb30e4f41aab839a16" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::cos </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-cos' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-cos-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-cos-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cos-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in cos: 2</span>
<span class="preprocessor">sub cos {my $self = shift; $self-&gt;make(CORE::cos($self-&gt;eval))}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aaae0305d8cfd767cd850136370f43a96"></a><!-- doxytag: member="context::Fraction::div" ref="aaae0305d8cfd767cd850136370f43a96" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::div </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-div' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-div-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-div-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-div-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in div: 7</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#aaae0305d8cfd767cd850136370f43a96">div</a> {
  my ($self,$l,$r,$other) = <a class="code" href="classValue.html#a3d59dfdd1b3de5574c3745ca282d76b5">Value::checkOpOrderWithPromote</a>(@_);
  my (($a,$b),($c,$d)) = ($l-&gt;value,$r-&gt;value);
  <a class="code" href="classValue.html#a26f0e9926e446d67e29db24fd4300279">Value::Error</a>(<span class="stringliteral">&quot;Division by zero&quot;</span>) if $c == 0;
  return $self-&gt;inherit($other)-&gt;make($a*$d,$b*$c);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ab0a6414e00ed88c2a683e9561de9bab1"></a><!-- doxytag: member="context::Fraction::eval" ref="ab0a6414e00ed88c2a683e9561de9bab1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::eval </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-eval' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-eval-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-eval-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-eval-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in eval: 9</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#ab0a6414e00ed88c2a683e9561de9bab1">eval</a> {
  my $self = shift;
  my ($a,$b) = $self-&gt;value;
  <span class="keywordflow">return</span> $a/$b;
}

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Parts are not Value objects, so don&#39;t transfer</span>
<span class="preprocessor">#</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a3d4b36d38b5855dcaa61d49b50e73845"></a><!-- doxytag: member="context::Fraction::exp" ref="a3d4b36d38b5855dcaa61d49b50e73845" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::exp </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-exp' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-exp-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-exp-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-exp-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in exp: 1</span>
<span class="preprocessor">sub exp  {my $self = shift; $self-&gt;make(CORE::exp($self-&gt;eval))}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aec327c89bdbaf8886cfdd64992c7bcb5"></a><!-- doxytag: member="context::Fraction::formula" ref="aec327c89bdbaf8886cfdd64992c7bcb5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::formula </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-formula' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-formula-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-formula-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-formula-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in formula: 11</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#aec327c89bdbaf8886cfdd64992c7bcb5">formula</a> {
  my $self = shift; my $value = shift;
  my $formula = $self-&gt;Package(<span class="stringliteral">&quot;Formula&quot;</span>)-&gt;blank($self-&gt;context);
  my ($l,$r) = <a class="code" href="classValue.html#ab6aa11298bc3cfb02debd81334d076ad">Value::toFormula</a>($formula,@{$value});
  $formula-&gt;{tree} = $formula-&gt;Item(<span class="stringliteral">&quot;BOP&quot;</span>)-&gt;new($formula,<span class="charliteral">&#39;/&#39;</span>,$l,$r);
  <span class="keywordflow">return</span> $formula;
}

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Return the real number type</span>
<span class="preprocessor">#</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a1ad6364e60f9c7f6e8f4711d41373e12"></a><!-- doxytag: member="context::Fraction::gcd" ref="a1ad6364e60f9c7f6e8f4711d41373e12" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::gcd </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-gcd' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-gcd-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-gcd-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-gcd-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in gcd: 15</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> gcd {
  my $a = <a class="code" href="classcontext_1_1Fraction.html#a80e851ae90b534e95df6f3c66a305456">abs</a>(shift); my $b = <a class="code" href="classcontext_1_1Fraction.html#a80e851ae90b534e95df6f3c66a305456">abs</a>(shift);
  ($a,$b) = ($b,$a) <span class="keywordflow">if</span> $a &lt; $b;
  <span class="keywordflow">return</span> $a <span class="keywordflow">if</span> $b == 0;
  my $r = $a % $b;
  <span class="keywordflow">while</span> ($r != 0) {
    ($a,$b) = ($b,$r);
    $r = $a % $b;
  }
  <span class="keywordflow">return</span> $b;
}

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Least Common Multiple</span>
<span class="preprocessor">#</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a2514b74f70d6fa2d754a7ed1d329c099"></a><!-- doxytag: member="context::Fraction::getFlagWithAlias" ref="a2514b74f70d6fa2d754a7ed1d329c099" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::getFlagWithAlias </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getFlagWithAlias' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-getFlagWithAlias-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getFlagWithAlias-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getFlagWithAlias-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in getFlagWithAlias: 11</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a2514b74f70d6fa2d754a7ed1d329c099">getFlagWithAlias</a> {
  my $self = shift; my $flag = shift; my $alias = shift;
  <span class="keywordflow">return</span> $self-&gt;getFlag($alias,$self-&gt;getFlag($flag));
}


<span class="preprocessor">##################################################</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Binary operations</span>
<span class="preprocessor">#</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a6ccf29ee459d0894f78c050e0102488d"></a><!-- doxytag: member="context::Fraction::Init" ref="a6ccf29ee459d0894f78c050e0102488d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::Init </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-Init' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-Init-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-Init-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-Init-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in Init: 60</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a6ccf29ee459d0894f78c050e0102488d">Init</a> {
  my $context = $main::context{<a class="code" href="classFraction.html">Fraction</a>} = <a class="code" href="classParser_1_1Context.html">Parser::Context</a>-&gt;getCopy(<span class="stringliteral">&quot;Numeric&quot;</span>);
  $context-&gt;{name} = <span class="stringliteral">&quot;Fraction&quot;</span>;
  $context-&gt;{pattern}{signedNumber} = <span class="stringliteral">&#39;(?:&#39;</span>.$context-&gt;{pattern}{signedNumber}.<span class="stringliteral">&#39;|-?\d+/-?\d+)&#39;</span>;
  $context-&gt;operators-&gt;set(
     <span class="stringliteral">&quot;/&quot;</span>  =&gt; {<span class="keyword">class </span>=&gt; &quot;context::Fraction::BOP::divide&quot;},
     &quot;<span class="comment">//&quot; =&gt; {class =&gt; &quot;context::Fraction::BOP::divide&quot;},</span>
     &quot;/ &quot; =&gt; {<span class="keyword">class </span>=&gt; &quot;context::Fraction::BOP::divide&quot;},
     &quot; /&quot; =&gt; {<span class="keyword">class </span>=&gt; &quot;context::Fraction::BOP::divide&quot;},
     &quot;u-&quot; =&gt; {<span class="keyword">class </span>=&gt; &quot;context::Fraction::UOP::minus&quot;},
     &quot; &quot;  =&gt; {precedence =&gt; 2.8, <span class="keywordtype">string</span> =&gt; <span class="stringliteral">&#39; *&#39;</span>},
     <span class="stringliteral">&quot; *&quot;</span> =&gt; {<span class="keyword">class </span>=&gt; &quot;context::Fraction::BOP::multiply&quot;, precedence =&gt; 2.8},
<span class="preprocessor">     #  precedence is lower to get proper parens in string() and TeX() calls</span>
<span class="preprocessor"></span>     <span class="stringliteral">&quot;  &quot;</span> =&gt; {precedence =&gt; 2.7, associativity =&gt; <span class="stringliteral">&#39;left&#39;</span>, type =&gt; <span class="stringliteral">&#39;bin&#39;</span>, <span class="keywordtype">string</span> =&gt; <span class="charliteral">&#39; &#39;</span>,
              <span class="keyword">class </span>=&gt; &#39;context::Fraction::BOP::multiply&#39;, TeX =&gt; [<span class="charliteral">&#39; &#39;</span>,<span class="charliteral">&#39; &#39;</span>], hidden =&gt; 1},
  );
  $context-&gt;flags-&gt;set(
    reduceFractions =&gt; 1,
    strictFractions =&gt; 0, strictMinus =&gt; 0, strictMultiplication =&gt; 0,
    allowMixedNumbers =&gt; 0,  # also <span class="keyword">set</span> reduceConstants =&gt; 0 <span class="keywordflow">if</span> you change <span class="keyword">this</span>
    requireProperFractions =&gt; 0,
    requirePureFractions =&gt; 0,
    showMixedNumbers =&gt; 0,
  );
  $context-&gt;reduction-&gt;set(<span class="stringliteral">&#39;a/b&#39;</span> =&gt; 1,<span class="stringliteral">&#39;a b/c&#39;</span> =&gt; 1, <span class="stringliteral">&#39;0 a/b&#39;</span> =&gt; 1);
  $context-&gt;{value}{<a class="code" href="classFraction.html">Fraction</a>} = <span class="stringliteral">&quot;context::Fraction::Fraction&quot;</span>;
  $context-&gt;{value}{Real} = <span class="stringliteral">&quot;context::Fraction::Real&quot;</span>;
  $context-&gt;{<a class="code" href="classparser.html">parser</a>}{<a class="code" href="classValue.html">Value</a>} = <span class="stringliteral">&quot;context::Fraction::Value&quot;</span>;
  $context-&gt;{<a class="code" href="classparser.html">parser</a>}{Number} = <span class="stringliteral">&quot;Parser::Legacy::LimitedNumeric::Number&quot;</span>;

  $context = $main::context{<span class="stringliteral">&#39;Fraction-NoDecimals&#39;</span>} = $context-&gt;copy;
  $context-&gt;{name} = <span class="stringliteral">&quot;Fraction-NoDecimals&quot;</span>;
  <a class="code" href="classParser_1_1Number.html#a3a4feb2a2386828c8a874f8cdbf33d45">Parser::Number::NoDecimals</a>($context);
  $context-&gt;{error}{msg}{<span class="stringliteral">&quot;You are not allowed to type decimal numbers in this problem&quot;</span>} =
    <span class="stringliteral">&quot;You are only allowed to enter fractions, not decimal numbers&quot;</span>;

  $context = $main::context{LimitedFraction} = $context-&gt;copy;
  $context-&gt;{name} = <span class="stringliteral">&quot;LimitedFraction&quot;</span>;
  $context-&gt;operators-&gt;undefine(
     <span class="charliteral">&#39;+&#39;</span>, <span class="charliteral">&#39;-&#39;</span>, <span class="charliteral">&#39;*&#39;</span>, <span class="stringliteral">&#39;* &#39;</span>, <span class="charliteral">&#39;^&#39;</span>, <span class="stringliteral">&#39;**&#39;</span>,
     <span class="charliteral">&#39;U&#39;</span>, <span class="charliteral">&#39;.&#39;</span>, <span class="stringliteral">&#39;&gt;&lt;&#39;</span>, <span class="stringliteral">&#39;u+&#39;</span>, <span class="charliteral">&#39;!&#39;</span>, <span class="charliteral">&#39;_&#39;</span>, <span class="charliteral">&#39;,&#39;</span>,
  );
  $context-&gt;parens-&gt;undefine(<span class="charliteral">&#39;|&#39;</span>,<span class="charliteral">&#39;{&#39;</span>,<span class="charliteral">&#39;[&#39;</span>);
  $context-&gt;functions-&gt;disable(<span class="stringliteral">&#39;All&#39;</span>);
  $context-&gt;flags-&gt;set(
    strictFractions =&gt; 1, strictMinus =&gt; 1, strictMultiplication =&gt; 1,
    allowMixedNumbers =&gt; 1, reduceConstants =&gt; 0,
    showMixedNumbers =&gt; 1,
  );
  $context-&gt;{cmpDefaults}{<a class="code" href="classFraction.html">Fraction</a>} = {studentsMustReduceFractions =&gt; 1};

  $context = $main::context{LimitedProperFraction} = $context-&gt;copy;
  $context-&gt;flags-&gt;set(requireProperFractions =&gt; 1);

  main::PG_restricted_eval(<span class="stringliteral">&#39;sub Fraction {Value-&gt;Package(&quot;Fraction()&quot;)-&gt;new(@_)};&#39;</span>);
}

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Convert a real to a reduced fraction approximation</span>
<span class="preprocessor">#</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="af05a195340a34ad37cd9429edeea127d"></a><!-- doxytag: member="context::Fraction::isInteger" ref="af05a195340a34ad37cd9429edeea127d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::isInteger </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-isInteger' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-isInteger-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-isInteger-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-isInteger-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in isInteger: 9</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#af05a195340a34ad37cd9429edeea127d">isInteger</a> {
  my $n = shift;
  $n = $n-&gt;value <span class="keywordflow">if</span> <a class="code" href="classValue.html#a5dc063f052a2338b5dac72016bf024b1">Value::isReal</a>($n);
  <span class="keywordflow">return</span> $n =~ m/^-?\d+$/;
};

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Get a flag that has been renamed</span>
<span class="preprocessor">#</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a98241bd1c1dfbbe82eb16a33aa61e6aa"></a><!-- doxytag: member="context::Fraction::isNeg" ref="a98241bd1c1dfbbe82eb16a33aa61e6aa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::isNeg </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-isNeg' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-isNeg-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-isNeg-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-isNeg-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in isNeg: 14</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a98241bd1c1dfbbe82eb16a33aa61e6aa">isNeg</a> {
  my $self = shift;
  <span class="keywordflow">return</span> ($self-&gt;class =~ /<a class="code" href="classParser_1_1Legacy_1_1LimitedComplex_1_1UOP.html">UOP</a>|MINUS/ &amp;&amp; $self-&gt;{uop} eq <span class="stringliteral">&#39;u-&#39;</span> &amp;&amp; !$self-&gt;{op}-&gt;{isInfinite});

}

<span class="preprocessor">###########################################################################</span>
<span class="preprocessor"></span>
<span class="keyword">package </span>context::Fraction::Value;
our @ISA = (<span class="stringliteral">&#39;Parser::Value&#39;</span>);

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Indicate if the Value object is a fraction or not</span>
<span class="preprocessor">#</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a06674ab88e612e868659f671b295b850"></a><!-- doxytag: member="context::Fraction::isOne" ref="a06674ab88e612e868659f671b295b850" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::isOne </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-isOne' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-isOne-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-isOne-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-isOne-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in isOne: 5</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a06674ab88e612e868659f671b295b850">isOne</a> {(shift)-&gt;<a class="code" href="classcontext_1_1Fraction.html#ab0a6414e00ed88c2a683e9561de9bab1">eval</a> == 1}

#
#  Return the real value
#
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a8589a636be6f269f2f5dfc220c804610"></a><!-- doxytag: member="context::Fraction::isReduced" ref="a8589a636be6f269f2f5dfc220c804610" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::isReduced </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-isReduced' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-isReduced-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-isReduced-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-isReduced-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in isReduced: 11</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> isReduced {
  my $self = shift;
  my (($a,$b),($c,$d)) = ($self-&gt;value,$self-&gt;reduce-&gt;value);
  <span class="keywordflow">return</span> $a == $c &amp;&amp; $b == $d;
}

<span class="preprocessor">##################################################</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Formatting</span>
<span class="preprocessor">#</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a6c0023bb519512e753f2955f2481aada"></a><!-- doxytag: member="context::Fraction::isZero" ref="a6c0023bb519512e753f2955f2481aada" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::isZero </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-isZero' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-isZero-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-isZero-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-isZero-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in isZero: 1</span>
<span class="preprocessor">sub isZero {(shift)-&gt;{data}[0] == 0}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a11f07e0dcf7163b3d57e9cfa08e36fed"></a><!-- doxytag: member="context::Fraction::lcm" ref="a11f07e0dcf7163b3d57e9cfa08e36fed" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::lcm </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-lcm' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-lcm-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-lcm-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-lcm-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in lcm: 9</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a11f07e0dcf7163b3d57e9cfa08e36fed">lcm</a> {
  my ($a,$b) = @_;
  <span class="keywordflow">return</span> ($a/<a class="code" href="classcontext_1_1Fraction.html#a1ad6364e60f9c7f6e8f4711d41373e12">gcd</a>($a,$b))*$b;
}


<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Reduced fraction</span>
<span class="preprocessor">#</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aeec1b88f5afa67795023da6edc9a1188"></a><!-- doxytag: member="context::Fraction::length" ref="aeec1b88f5afa67795023da6edc9a1188" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::length </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-length' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-length-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-length-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-length-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in length: 2</span>
<span class="preprocessor">sub length {2}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a2524057ce7e12c3b50925e46dce377f6"></a><!-- doxytag: member="context::Fraction::log" ref="a2524057ce7e12c3b50925e46dce377f6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::log </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-log' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-log-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-log-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-log-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in log: 1</span>
<span class="preprocessor">sub log  {my $self = shift; $self-&gt;make(CORE::log($self-&gt;eval))}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a35b349e9127ae5154b724c3a2e4d776f"></a><!-- doxytag: member="context::Fraction::make" ref="a35b349e9127ae5154b724c3a2e4d776f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::make </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-make' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-make-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-make-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-make-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in make: 32</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> make {
  my $self = shift; my $context = (<a class="code" href="classValue.html#a2d6d7d0072c75611908bf0a79080e8df">Value::isContext</a>($_[0]) ? shift : $self-&gt;context);
  my $x = shift;
  $x = $context-&gt;Package(<span class="stringliteral">&quot;Formula&quot;</span>)-&gt;new($context,$x)-&gt;eval <span class="keywordflow">if</span> ref($x) eq &quot;&quot; &amp;&amp; $x =~ m!/!;
  $x = $x-&gt;<a class="code" href="classcontext_1_1Fraction.html#ab0a6414e00ed88c2a683e9561de9bab1">eval</a> if scalar(@_) == 0 &amp;&amp; <a class="code" href="classValue.html">Value</a>::classMatch($x,&#39;<a class="code" href="classFraction.html">Fraction</a>&#39;);
  $self-&gt;SUPER::make($context,$x,@_);
}

<span class="preprocessor">###########################################################################</span>
<span class="preprocessor"></span><span class="preprocessor">###########################################################################</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Implements the MathObject for fractions</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span>
<span class="keyword">package </span>context::Fraction::Fraction;
our @ISA = (<span class="stringliteral">&#39;Value&#39;</span>);

<a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> make {
  my $self = shift; my $class = ref($self) || $self;
  my $context = (<a class="code" href="classValue.html#a2d6d7d0072c75611908bf0a79080e8df">Value::isContext</a>($_[0]) ? shift : $self-&gt;context);
  push(@_,0) if scalar(@_) == 0; push(@_,1) if scalar(@_) == 1;
  my ($a,$b) = @_; ($a,$b) = (-$a,-$b) if $b &lt; 0;
  return $context-&gt;Package(&quot;Real&quot;)-&gt;make($context,$a/$b) unless <a class="code" href="classcontext_1_1Fraction.html#af05a195340a34ad37cd9429edeea127d">isInteger</a>($a) &amp;&amp; <a class="code" href="classcontext_1_1Fraction.html#af05a195340a34ad37cd9429edeea127d">isInteger</a>($b);
  ($a,$b) = <a class="code" href="classcontext.html">context</a>::Fraction::<a class="code" href="classcontext_1_1Fraction.html#a6d3fed61144055fedac17c6ac196b918">reduce</a>($a,$b) if $context-&gt;flag(&quot;reduceFractions&quot;);
  bless {data =&gt; [$a,$b], <a class="code" href="classcontext.html">context</a> =&gt; $context}, $class;
}

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Promote to a fraction, allowing reals to be $x/1 even when</span>
<span class="preprocessor"></span><span class="preprocessor">#  not an integer (later $self-&gt;make() will produce a Real in</span>
<span class="preprocessor"></span><span class="preprocessor">#  that case)</span>
<span class="preprocessor">#</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a2fbc8f4874a100fb860cfb6f76884ef6"></a><!-- doxytag: member="context::Fraction::mult" ref="a2fbc8f4874a100fb860cfb6f76884ef6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::mult </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-mult' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-mult-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-mult-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-mult-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in mult: 6</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a2fbc8f4874a100fb860cfb6f76884ef6">mult</a> {
  my ($self,$l,$r,$other) = <a class="code" href="classValue.html#a3d59dfdd1b3de5574c3745ca282d76b5">Value::checkOpOrderWithPromote</a>(@_);
  my (($a,$b),($c,$d)) = ($l-&gt;value,$r-&gt;value);
  <span class="keywordflow">return</span> $self-&gt;inherit($other)-&gt;make($a*$c,$b*$d);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ad114d8156f06a1da2f3dccbe186803a4"></a><!-- doxytag: member="context::Fraction::neg" ref="ad114d8156f06a1da2f3dccbe186803a4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::neg </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-neg' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-neg-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-neg-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-neg-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in neg: 1</span>
<span class="preprocessor">sub neg  {my $self = shift; $self-&gt;make(-($self-&gt;{data}[0]),$self-&gt;{data}[1])}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ad7a37ca7c656a70f346cbc393aac521f"></a><!-- doxytag: member="context::Fraction::new" ref="ad7a37ca7c656a70f346cbc393aac521f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::new </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-new' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-new-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-new-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-new-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in new: 37</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <span class="keyword">new</span> {
  my $self = shift; my $context = (<a class="code" href="classValue.html#a2d6d7d0072c75611908bf0a79080e8df">Value::isContext</a>($_[0]) ? shift : $self-&gt;context);
  my $x = shift;
  $x = $context-&gt;Package(<span class="stringliteral">&quot;Formula&quot;</span>)-&gt;new($context,$x)-&gt;eval <span class="keywordflow">if</span> ref($x) eq &quot;&quot; &amp;&amp; $x =~ m!/!;
  $x = $x-&gt;<a class="code" href="classcontext_1_1Fraction.html#ab0a6414e00ed88c2a683e9561de9bab1">eval</a> if scalar(@_) == 0 &amp;&amp; <a class="code" href="classValue.html">Value</a>::classMatch($x,&#39;Fraction&#39;);
  $self-&gt;SUPER::<a class="code" href="classcontext_1_1Fraction.html#ad7a37ca7c656a70f346cbc393aac521f">new</a>($context,$x,@_);
}

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Since the signed number pattern now include fractions, we need to make sure</span>
<span class="preprocessor"></span><span class="preprocessor">#  we handle them when a real is made and it looks like a fraction</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <span class="keyword">new</span> {
  my $self = shift; my $class = ref($self) || $self;
  my $context = (<a class="code" href="classValue.html#a2d6d7d0072c75611908bf0a79080e8df">Value::isContext</a>($_[0]) ? shift : $self-&gt;context);
  my $x = shift; $x = [$x,@_] <span class="keywordflow">if</span> scalar(@_) &gt; 0;
  <span class="keywordflow">return</span> $x-&gt;inContext($context) <span class="keywordflow">if</span> <a class="code" href="classValue.html#a3518cd4f61c793378c1a59f4ddc67226">Value::classMatch</a>($x,<span class="stringliteral">&#39;Fraction&#39;</span>);
  $x = [$x] unless ref($x) eq &#39;ARRAY&#39;; $x-&gt;[1] = 1 if scalar(@{$x}) == 1;
  <a class="code" href="classValue.html#a26f0e9926e446d67e29db24fd4300279">Value::Error</a>(<span class="stringliteral">&quot;Can&#39;t convert ARRAY of length %d to %s&quot;</span>,scalar(@{$x}),<a class="code" href="classValue.html#a829339083cd1066f3262960939a2d818">Value::showClass</a>($self))
    unless (scalar(@{$x}) == 2);
  $x-&gt;[0] = <a class="code" href="classValue.html#a43a81d16f2f6aee0019772bf09626569">Value::makeValue</a>($x-&gt;[0],<a class="code" href="classcontext.html">context</a>=&gt;$context);
  $x-&gt;[1] = <a class="code" href="classValue.html#a43a81d16f2f6aee0019772bf09626569">Value::makeValue</a>($x-&gt;[1],<a class="code" href="classcontext.html">context</a>=&gt;$context);
  <span class="keywordflow">return</span> $x-&gt;[0] <span class="keywordflow">if</span> <a class="code" href="classValue.html#a3518cd4f61c793378c1a59f4ddc67226">Value::classMatch</a>($x-&gt;[0],<span class="stringliteral">&#39;Fraction&#39;</span>) &amp;&amp; scalar(@_) == 0;
  $x = <a class="code" href="classcontext_1_1Fraction.html#a43ef260239cd1fbc11320557616ed5e8">context::Fraction::toFraction</a>($context,$x-&gt;[0]-&gt;value) <span class="keywordflow">if</span> <a class="code" href="classValue.html#a5dc063f052a2338b5dac72016bf024b1">Value::isReal</a>($x-&gt;[0]) &amp;&amp; scalar(@_) == 0;
  <span class="keywordflow">return</span> $self-&gt;formula($x) <span class="keywordflow">if</span> <a class="code" href="classValue.html#afa346ffc3c989970326e02766a63523a">Value::isFormula</a>($x-&gt;[0]) || <a class="code" href="classValue.html#afa346ffc3c989970326e02766a63523a">Value::isFormula</a>($x-&gt;[1]);
  <a class="code" href="classValue.html#a26f0e9926e446d67e29db24fd4300279">Value::Error</a>(<span class="stringliteral">&quot;Fraction numerators must be integers&quot;</span>) unless isInteger($x-&gt;[0]);
  <a class="code" href="classValue.html">Value</a>::Error(&quot;Fraction denominators must be integers&quot;) unless isInteger($x-&gt;[1]);
  my ($a,$b) = ($x-&gt;[0]-&gt;value,$x-&gt;[1]-&gt;value); ($a,$b) = (-$a,-$b) if $b &lt; 0;
  <a class="code" href="classValue.html">Value</a>::Error(&quot;Denominator can&#39;t be zero&quot;) if $b == 0;
  ($a,$b) = <a class="code" href="classcontext.html">context</a>::Fraction::reduce($a,$b) if $context-&gt;flag(&quot;reduceFractions&quot;);
  bless {data =&gt; [$a,$b], <a class="code" href="classcontext.html">context</a> =&gt; $context}, $class;
}

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Produce a real if one of the terms is not an integer</span>
<span class="preprocessor"></span><span class="preprocessor">#  otherwise produce a fraction.</span>
<span class="preprocessor">#</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a848b6f43402221e743b9b42ee1b2c2f0"></a><!-- doxytag: member="context::Fraction::pdot" ref="a848b6f43402221e743b9b42ee1b2c2f0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::pdot </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-pdot' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-pdot-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-pdot-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-pdot-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in pdot: 11</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a848b6f43402221e743b9b42ee1b2c2f0">pdot</a> {
  my $self = shift; my $n = $self-&gt;string;
  $n = <span class="charliteral">&#39;(&#39;</span>.$n.<span class="charliteral">&#39;)&#39;</span> <span class="keywordflow">if</span> $n =~ m![^0-9]!;  #  <a class="code" href="classcontext_1_1Fraction.html#a301b8bf3938c98b839743ee4b59dca94">add</a> parens <span class="keywordflow">if</span> not just a number
  <span class="keywordflow">return</span> $n;
}

<span class="preprocessor">###########################################################################</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Answer Checker</span>
<span class="preprocessor">#</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ae01bf567d151cdda94e23d4df2003563"></a><!-- doxytag: member="context::Fraction::power" ref="ae01bf567d151cdda94e23d4df2003563" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::power </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-power' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-power-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-power-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-power-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in power: 14</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#ae01bf567d151cdda94e23d4df2003563">power</a> {
  my ($self,$l,$r,$other) = <a class="code" href="classValue.html#a3d59dfdd1b3de5574c3745ca282d76b5">Value::checkOpOrderWithPromote</a>(@_);
  my (($a,$b),($c,$d)) = ($l-&gt;value,$r-&gt;reduce-&gt;value);
  ($a,$b,$c) = ($b,$a,-$c) <span class="keywordflow">if</span> $c &lt; 0;
  my ($x,$y) = ($c == 1 ? ($a,$b) : ($a**$c,$b**$c));
  <span class="keywordflow">if</span> ($d != 1) {
    <span class="keywordflow">if</span> ($x &lt; 0 &amp;&amp; $d % 2 == 1) {$x = -(-$x)**(1/$d)} <span class="keywordflow">else</span> {$x = $x**(1/$d)};
    <span class="keywordflow">if</span> ($y &lt; 0 &amp;&amp; $d % 2 == 1) {$y = -(-$y)**(1/$d)} <span class="keywordflow">else</span> {$y = $y**(1/$d)};
  }
  <span class="keywordflow">return</span> $self-&gt;inherit($other)-&gt;make($x,$y) unless $x eq <span class="stringliteral">&#39;nan&#39;</span> || $y eq <span class="stringliteral">&#39;nan&#39;</span>;
  <a class="code" href="classValue.html#a26f0e9926e446d67e29db24fd4300279">Value::Error</a>(<span class="stringliteral">&quot;Can&#39;t raise a negative number to a non-integer power&quot;</span>) if $a*$b &lt; 0;
  <a class="code" href="classValue.html">Value</a>::Error(&quot;Result of exponention is not a number&quot;);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ae5560ca66fd2882809702903692fcabd"></a><!-- doxytag: member="context::Fraction::promote" ref="ae5560ca66fd2882809702903692fcabd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::promote </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-promote' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-promote-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-promote-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-promote-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in promote: 16</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#ae5560ca66fd2882809702903692fcabd">promote</a> {
  my $self = shift; my $class = ref($self) || $self;
  my $context = (<a class="code" href="classValue.html#a2d6d7d0072c75611908bf0a79080e8df">Value::isContext</a>($_[0]) ? shift : $self-&gt;context);
  my $x = (scalar(@_) ? shift : $self);
  <span class="keywordflow">if</span> (scalar(@_) == 0) {
    <span class="keywordflow">return</span> $x-&gt;inContext($context) <span class="keywordflow">if</span> ref($x) eq $class;
    return (bless {data =&gt; [$x-&gt;value,1], <a class="code" href="classcontext.html">context</a> =&gt; $context}, $class) <span class="keywordflow">if</span> <a class="code" href="classValue.html#a5dc063f052a2338b5dac72016bf024b1">Value::isReal</a>($x);
    <span class="keywordflow">return</span> (bless {data =&gt; [$x,1], <a class="code" href="classcontext.html">context</a> =&gt; $context}, $class) <span class="keywordflow">if</span> <a class="code" href="classValue.html#a6e27e345d159fc9e3fcc8d2ac6b56dee">Value::matchNumber</a>($x);
  }
  <span class="keywordflow">return</span> $self-&gt;new($context,$x,@_);
}


<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Create a new formula from the number</span>
<span class="preprocessor">#</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a6d3fed61144055fedac17c6ac196b918"></a><!-- doxytag: member="context::Fraction::reduce" ref="a6d3fed61144055fedac17c6ac196b918" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::reduce </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-reduce' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-reduce-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-reduce-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-reduce-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in reduce: 85</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a6d3fed61144055fedac17c6ac196b918">reduce</a> {
  my $a = shift; my $b = shift;
  ($a,$b) = (-$a,-$b) <span class="keywordflow">if</span> $b &lt; 0;
  my $gcd = <a class="code" href="classcontext_1_1Fraction.html#a1ad6364e60f9c7f6e8f4711d41373e12">gcd</a>($a,$b);
  <span class="keywordflow">return</span> ($a/$gcd,$b/$gcd);
}

<span class="preprocessor">###########################################################################</span>
<span class="preprocessor"></span>
<span class="keyword">package </span>context::Fraction::BOP::divide;
our @ISA = (<span class="stringliteral">&#39;Parser::BOP::divide&#39;</span>);

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Create a Fraction or Real from the given data</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a6d3fed61144055fedac17c6ac196b918">reduce</a> {
  my $self = shift;
  <span class="keywordflow">return</span> $self-&gt;SUPER::reduce unless $self-&gt;class eq <span class="stringliteral">&#39;FRACTION&#39;</span>;
  my $reduce = $self-&gt;{equation}{<a class="code" href="classcontext.html">context</a>}{reduction};
  <span class="keywordflow">return</span> $self-&gt;{lop} <span class="keywordflow">if</span> $self-&gt;{rop}{<a class="code" href="classcontext_1_1Fraction.html#a06674ab88e612e868659f671b295b850">isOne</a>} &amp;&amp; $reduce-&gt;{<span class="stringliteral">&#39;x/1&#39;</span>};
  $self-&gt;Error(<span class="stringliteral">&quot;Division by zero&quot;</span>), <span class="keywordflow">return</span> $self <span class="keywordflow">if</span> $self-&gt;{rop}{<a class="code" href="classcontext_1_1Fraction.html#a6c0023bb519512e753f2955f2481aada">isZero</a>};
  <span class="keywordflow">return</span> $self-&gt;{lop} <span class="keywordflow">if</span> $self-&gt;{lop}{<a class="code" href="classcontext_1_1Fraction.html#a6c0023bb519512e753f2955f2481aada">isZero</a>} &amp;&amp; $reduce-&gt;{<span class="stringliteral">&#39;0/x&#39;</span>};
  <span class="keywordflow">if</span> ($reduce-&gt;{<span class="stringliteral">&#39;a/b&#39;</span>}) {
    my ($a,$b) = <a class="code" href="classcontext_1_1Fraction.html#a6d3fed61144055fedac17c6ac196b918">context::Fraction::reduce</a>($self-&gt;{lop}-&gt;eval,$self-&gt;{rop}-&gt;eval);
    <span class="keywordflow">if</span> ($self-&gt;{lop}-&gt;class eq <span class="stringliteral">&#39;INTEGER&#39;</span>) {$self-&gt;{lop}{value} = $a} <span class="keywordflow">else</span> {$self-&gt;{lop}{op}{value} = -$a}
    $self-&gt;{rop}{value} = $b;
  }
  <span class="keywordflow">return</span> $self;
}

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Display minus signs outside the fraction</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a6d3fed61144055fedac17c6ac196b918">reduce</a> {
  my $self = shift;
  my $reduce = $self-&gt;{equation}{<a class="code" href="classcontext.html">context</a>}{reduction};
  my ($a,($b,$c)) = (<a class="code" href="classcontext_1_1Fraction.html#a80e851ae90b534e95df6f3c66a305456">CORE::abs</a>($self-&gt;{lop}-&gt;eval),$self-&gt;{rop}-&gt;eval-&gt;value);
  <span class="keywordflow">if</span> ($reduce-&gt;{<span class="stringliteral">&#39;a b/c&#39;</span>}) {
    ($b,$c) = <a class="code" href="classcontext_1_1Fraction.html#a6d3fed61144055fedac17c6ac196b918">context::Fraction::reduce</a>($b,$c) <span class="keywordflow">if</span> $reduce-&gt;{<span class="stringliteral">&#39;a/b&#39;</span>};
    $a += int($b/$c); $b = $b % $c;
    $self-&gt;{lop}{value} = $a;
    $self-&gt;{rop}{lop}{value} = $b;
    $self-&gt;{rop}{rop}{value} = $c;
    <span class="keywordflow">return</span> $self-&gt;{lop} <span class="keywordflow">if</span> $b == 0 || $c == 1;
  }
  <span class="keywordflow">return</span> $self-&gt;{rop} <span class="keywordflow">if</span> $a == 0 &amp;&amp; $reduce-&gt;{<span class="stringliteral">&#39;0 a/b&#39;</span>};
  <span class="keywordflow">return</span> $self;
}

<span class="preprocessor">###########################################################################</span>
<span class="preprocessor"></span>
<span class="keyword">package </span>context::Fraction::UOP::minus;
our @ISA = (<span class="stringliteral">&#39;Parser::UOP::minus&#39;</span>);

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  For strict fractions, only allow minus on certain operands</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a6d3fed61144055fedac17c6ac196b918">reduce</a> {
  my $self = shift;
  my $reduce = $self-&gt;context-&gt;{reduction};
  <span class="keywordflow">if</span> ($self-&gt;{value}-&gt;class eq <span class="stringliteral">&#39;Fraction&#39;</span>) {
    $self-&gt;{value} = $self-&gt;{value}-&gt;reduce;
    <span class="keywordflow">if</span> ($reduce-&gt;{<span class="stringliteral">&#39;-n&#39;</span>} &amp;&amp; $self-&gt;{value}{data}[0] &lt; 0) {
      $self-&gt;{value}{data}[0] = -$self-&gt;{value}{data}[0];
      <span class="keywordflow">return</span> <a class="code" href="classParser_1_1UOP.html#a55798431fdea859a2c7443867bd90c02">Parser::UOP::Neg</a>($self);
    }
    <span class="keywordflow">return</span> $self;
  }
  <span class="keywordflow">return</span> $self-&gt;SUPER::reduce;
}

<span class="preprocessor">###########################################################################</span>
<span class="preprocessor"></span>
<span class="keyword">package </span>context::Fraction::Real;
our @ISA = (<span class="stringliteral">&#39;Value::Real&#39;</span>);

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Allow Real to convert Fractions to Reals</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a6d3fed61144055fedac17c6ac196b918">reduce</a> {
  my $self = shift;
  my ($a,$b) = <a class="code" href="classcontext_1_1Fraction.html#a6d3fed61144055fedac17c6ac196b918">context::Fraction::reduce</a>($self-&gt;value);
  <span class="keywordflow">return</span> $self-&gt;make($a,$b);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a4d4a2eecbc62121b2c8f82f15934cfd7"></a><!-- doxytag: member="context::Fraction::sin" ref="a4d4a2eecbc62121b2c8f82f15934cfd7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::sin </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-sin' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-sin-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-sin-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-sin-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in sin: 1</span>
<span class="preprocessor">sub sin {my $self = shift; $self-&gt;make(CORE::sin($self-&gt;eval))}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a7236590e95902c6632ea942de1faf184"></a><!-- doxytag: member="context::Fraction::sqrt" ref="a7236590e95902c6632ea942de1faf184" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::sqrt </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-sqrt' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-sqrt-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-sqrt-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-sqrt-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in sqrt: 7</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> sqrt {my $self = shift; $self-&gt;make(CORE::sqrt($self-&gt;{data}[0]),CORE::sqrt($self-&gt;{data}[1]))}

<span class="preprocessor">##################################################</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#   Trig functions</span>
<span class="preprocessor">#</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ae642a8cb681acb09add664e8bfef8fdd"></a><!-- doxytag: member="context::Fraction::string" ref="ae642a8cb681acb09add664e8bfef8fdd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::string </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-string' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-string-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-string-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-string-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in string: 11</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <span class="keywordtype">string</span> {
  my $self = shift; my $equation = shift; my $prec = shift;
  my ($a,$b) = @{$self-&gt;{data}}; my $n = <span class="stringliteral">&quot;&quot;</span>;
  <span class="keywordflow">return</span> $a <span class="keywordflow">if</span> $b == 1;
  <span class="keywordflow">if</span> ($self-&gt;getFlagWithAlias(<span class="stringliteral">&quot;showMixedNumbers&quot;</span>,<span class="stringliteral">&quot;showProperFractions&quot;</span>) &amp;&amp; <a class="code" href="classcontext_1_1Fraction.html#a80e851ae90b534e95df6f3c66a305456">CORE::abs</a>($a) &gt; $b)
    {$n = int($a/$b); $a = <a class="code" href="classcontext_1_1Fraction.html#a80e851ae90b534e95df6f3c66a305456">CORE::abs</a>($a) % $b; $n .= <span class="stringliteral">&quot; &quot;</span> unless $a == 0}
  $n .= <span class="stringliteral">&quot;$a/$b&quot;</span> unless $a == 0 &amp;&amp; $n ne <span class="stringliteral">&#39;&#39;</span>;
  $n = <span class="stringliteral">&quot;($n)&quot;</span> <span class="keywordflow">if</span> defined $prec &amp;&amp; $prec &gt;= 1;
  <span class="keywordflow">return</span> $n;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a9966027789f7827dd45ac242f82e7b59"></a><!-- doxytag: member="context::Fraction::sub" ref="a9966027789f7827dd45ac242f82e7b59" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::sub </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-sub' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-sub-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-sub-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-sub-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in sub: 7</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> {
  my ($self,$l,$r,$other) = <a class="code" href="classValue.html#a3d59dfdd1b3de5574c3745ca282d76b5">Value::checkOpOrderWithPromote</a>(@_);
  my (($a,$b),($c,$d)) = ($l-&gt;value,$r-&gt;value);
  my $M = <a class="code" href="classcontext_1_1Fraction.html#a11f07e0dcf7163b3d57e9cfa08e36fed">context::Fraction::lcm</a>($b,$d);
  <span class="keywordflow">return</span> $self-&gt;inherit($other)-&gt;make($a*($M/$b)-$c*($M/$d),$M);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ad518a75a46324318ef49f871cd347d49"></a><!-- doxytag: member="context::Fraction::TeX" ref="ad518a75a46324318ef49f871cd347d49" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::TeX </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-TeX' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-TeX-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-TeX-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-TeX-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in TeX: 31</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> TeX {
  my $self = shift; my $bop = $self-&gt;{def};
  <span class="keywordflow">return</span> $self-&gt;SUPER::TeX(@_) <span class="keywordflow">if</span> $self-&gt;class ne <span class="stringliteral">&#39;FRACTION&#39;</span> || $bop-&gt;{noFrac};
  my ($precedence,$showparens,$position,$outerRight) = @_;
  $showparens = <span class="stringliteral">&#39;&#39;</span> unless defined($showparens);
  my $addparens =
      defined($precedence) &amp;&amp;
      ($showparens eq <span class="stringliteral">&#39;all&#39;</span> || ($precedence &gt; $bop-&gt;{precedence} &amp;&amp; $showparens ne <span class="stringliteral">&#39;nofractions&#39;</span>) ||
      ($precedence == $bop-&gt;{precedence} &amp;&amp; ($bop-&gt;{associativity} eq <span class="stringliteral">&#39;right&#39;</span> || $showparens eq <span class="stringliteral">&#39;same&#39;</span>)));

  my $TeX = $self-&gt;eval-&gt;TeX;
  $TeX = <span class="stringliteral">&#39;\left(&#39;</span>.$TeX.<span class="stringliteral">&#39;\right)&#39;</span> <span class="keywordflow">if</span> ($addparens);
  <span class="keywordflow">return</span> $TeX;
}

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Indicate if the value is a fraction or not</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> TeX {
  my $self = shift; my $equation = shift; my $prec = shift;
  my ($a,$b) = @{$self-&gt;{data}}; my $n = <span class="stringliteral">&quot;&quot;</span>;
  <span class="keywordflow">return</span> $a <span class="keywordflow">if</span> $b == 1;
  <span class="keywordflow">if</span> ($self-&gt;getFlagWithAlias(<span class="stringliteral">&quot;showMixedNumbers&quot;</span>,<span class="stringliteral">&quot;showProperFractions&quot;</span>) &amp;&amp; <a class="code" href="classcontext_1_1Fraction.html#a80e851ae90b534e95df6f3c66a305456">CORE::abs</a>($a) &gt; $b)
    {$n = int($a/$b); $a = <a class="code" href="classcontext_1_1Fraction.html#a80e851ae90b534e95df6f3c66a305456">CORE::abs</a>($a) % $b; $n .= <span class="stringliteral">&quot; &quot;</span> unless $a == 0}
  my $s = <span class="stringliteral">&quot;&quot;</span>; ($a,$s) = (-$a,<span class="stringliteral">&quot;-&quot;</span>) <span class="keywordflow">if</span> $a &lt; 0;
  $n .= ($self-&gt;{isHorizontal} ? <span class="stringliteral">&quot;$s$a/$b&quot;</span> : <span class="stringliteral">&quot;${s}{\\textstyle\\frac{$a}{$b}}&quot;</span>)
    unless $a == 0 &amp;&amp; $n ne <span class="stringliteral">&#39;&#39;</span>;
  $n = <span class="stringliteral">&quot;\\left($n\\right)&quot;</span> <span class="keywordflow">if</span> defined $prec &amp;&amp; $prec &gt;= 1;
  <span class="keywordflow">return</span> $n;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a43ef260239cd1fbc11320557616ed5e8"></a><!-- doxytag: member="context::Fraction::toFraction" ref="a43ef260239cd1fbc11320557616ed5e8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::toFraction </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-toFraction' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-toFraction-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-toFraction-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-toFraction-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in toFraction: 11</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a43ef260239cd1fbc11320557616ed5e8">toFraction</a> {
  my $context = shift; my $x = shift;
  my $Real = $context-&gt;Package(<span class="stringliteral">&quot;Real&quot;</span>);
  my $d = 1000000;
  my ($a,$b) = <a class="code" href="classcontext_1_1Fraction.html#a6d3fed61144055fedac17c6ac196b918">reduce</a>(<span class="keywordtype">int</span>($x*$d),$d);
  <span class="keywordflow">return</span> [$Real-&gt;make($a),$Real-&gt;make($b)];
}

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Greatest Common Divisor</span>
<span class="preprocessor">#</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="afcd9d2d3d4702c7d1105da81d0b49554"></a><!-- doxytag: member="context::Fraction::transferFlags" ref="afcd9d2d3d4702c7d1105da81d0b49554" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::transferFlags </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-transferFlags' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-transferFlags-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-transferFlags-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-transferFlags-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in transferFlags: 5</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#afcd9d2d3d4702c7d1105da81d0b49554">transferFlags</a> {}

<span class="preprocessor">#</span>
<span class="preprocessor"></span><span class="preprocessor">#  Check if a value is an integer</span>
<span class="preprocessor">#</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a6ef6856188a2eacacfd260e420dd6591"></a><!-- doxytag: member="context::Fraction::typeMatch" ref="a6ef6856188a2eacacfd260e420dd6591" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::typeMatch </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-typeMatch' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-typeMatch-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-typeMatch-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-typeMatch-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in typeMatch: 9</span>
<span class="preprocessor"></span><a class="code" href="classcontext_1_1Fraction.html#a9966027789f7827dd45ac242f82e7b59">sub</a> <a class="code" href="classcontext_1_1Fraction.html#a6ef6856188a2eacacfd260e420dd6591">typeMatch</a> {
  my $self = shift; my $other = shift; my $ans = shift;
  <span class="keywordflow">return</span> 1 unless ref($other);
  <span class="keywordflow">return</span> 0 <span class="keywordflow">if</span> <a class="code" href="classValue.html#afa346ffc3c989970326e02766a63523a">Value::isFormula</a>($other);
  <span class="keywordflow">return</span> 1 <span class="keywordflow">if</span> $other-&gt;type eq <span class="stringliteral">&#39;Infinity&#39;</span> &amp;&amp; $ans-&gt;{ignoreInfinity};
  <span class="keywordflow">return</span> 0 <span class="keywordflow">if</span> $ans-&gt;{requireFraction} &amp;&amp; !$other-&gt;classMatch(<span class="stringliteral">&quot;Fraction&quot;</span>);
  $self-&gt;type eq $other-&gt;type;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a646a1dff158af6bff9f4970c92efbce6"></a><!-- doxytag: member="context::Fraction::typeRef" ref="a646a1dff158af6bff9f4970c92efbce6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method context::Fraction::typeRef </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-typeRef' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-typeRef-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-typeRef-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-typeRef-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in typeRef: 1</span>
<span class="preprocessor">sub typeRef {return $Value::Type{number}}</span>
</pre></div>  
</div>
 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="contextFraction_8pl_source.html">contextFraction.pl</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Jun 8 22:55:04 2012 for PG by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
