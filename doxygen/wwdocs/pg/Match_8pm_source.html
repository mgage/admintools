<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PG: Match.pm Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>Match.pm</h1><a href="Match_8pm.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 <span class="preprocessor">#Construct for matching list.</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="preprocessor">#Inherits from ChoiceList.pm</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span><span class="preprocessor">#VS 6/16/2000</span>
<a name="l00005"></a>00005 <span class="preprocessor"></span>
<a name="l00006"></a>00006 =head1 NAME
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <a class="code" href="classMatch.html">Match</a>.pm -- sub-<span class="keyword">class </span>of <a class="code" href="classChoiceList.html">ChoiceList</a> that <span class="keyword">implements</span> a matching list.
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 All items accessed by $out = $ml -&gt; item( $in );
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 =head1 SYNOPSIS
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <a class="code" href="classMatch.html">Match</a>.pm is intended to be used to create standard matching questions in which the the student is given a list of questions and a list of answers and is asked to match the correct answers to those questions. Some answers may be used more than once while others are not used at all. The order of answers is usually random but some answers can be appended to the end of the list in a set order (i.e. &#39;None of the above&#39;, &#39;All of the above&#39;). Answers are not directly typed in but are given a corresponding letter that is the answer that the system expects. (i.e. &#39;the answer to #1 is A&#39; not &#39;the answer to #1 is the square root of 2&#39;).  Also, students can be given different sets of questions (to avoid students sharing answers) by entering many questions and then using choose with a number less than the total so that each student only receive a sub-set of those questions.
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 =head1 DESCRIPTION
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 =head2 Variables and methods available to <a class="code" href="classMatch.html">Match</a>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 =head3 Variables
<a name="l00021"></a>00021 
<a name="l00022"></a>00022     questions           # array of questions as entered using qa()
<a name="l00023"></a>00023     answers             # array of answers as entered using qa()
<a name="l00024"></a>00024     extras              # array of extras as entered using extra()
<a name="l00025"></a>00025 
<a name="l00026"></a>00026     selected_q          # randomly selected subset of &quot;questions&quot;
<a name="l00027"></a>00027     selected_a          # the answers for the selected questions
<a name="l00028"></a>00028     selected_e          # randomly selected subset of &quot;extras&quot;
<a name="l00029"></a>00029 
<a name="l00030"></a>00030     ans_rule_len        # determines the length of the answer blanks
<a name="l00031"></a>00031 <span class="preprocessor">                        # default is 4</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span>
<a name="l00033"></a>00033     slice               # index used to select specific questions
<a name="l00034"></a>00034     shuffle             # permutation array which can be applied to slice
<a name="l00035"></a>00035 <span class="preprocessor">                        # to shuffle the answers</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span>
<a name="l00037"></a>00037     inverted_shuffle    # the inverse permutation array
<a name="l00038"></a>00038 
<a name="l00039"></a>00039     rf_print_q          # reference to any subroutine which should
<a name="l00040"></a>00040 <span class="preprocessor">                        # take ($self, @questions) as parameters and</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span><span class="preprocessor">                        # output the questions in a formatted string.</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span><span class="preprocessor">                        # If you want to change the way questions are</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span><span class="preprocessor">                        # printed, write your own print method and set</span>
<a name="l00044"></a>00044 <span class="preprocessor"></span><span class="preprocessor">                        # this equal to a reference to to that method</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span><span class="preprocessor">                        # (i.e. $sl-&gt;rf_print_q(~~&amp;printing_routine_q) )</span>
<a name="l00046"></a>00046 <span class="preprocessor"></span>
<a name="l00047"></a>00047     rf_print_a          # reference to any subroutine which should
<a name="l00048"></a>00048 <span class="preprocessor">                        # take ($self, @answers) as parameters and</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span><span class="preprocessor">                        # output the answers in a formatted string.</span>
<a name="l00050"></a>00050 <span class="preprocessor"></span><span class="preprocessor">                        # If you want to change the way answers are</span>
<a name="l00051"></a>00051 <span class="preprocessor"></span><span class="preprocessor">                        # printed, write your own print method and set</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span><span class="preprocessor">                        # this equal to a reference to to that method</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span><span class="preprocessor">                        # (i.e. $sl-&gt;rf_print_a = ~~&amp;printing_routine_a)</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span>
<a name="l00055"></a>00055 =head3 Methods
<a name="l00056"></a>00056 
<a name="l00057"></a>00057     qa( array )         # accepts an array of <a class="code" href="PGstringevaluators_8pl.html#a06b59ff01c251186550d61193ec7f328">strings</a> which can be used
<a name="l00058"></a>00058 <span class="preprocessor">                        # for questions and answers</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span>
<a name="l00060"></a>00060     extra( array )      # accepts an array of <a class="code" href="PGstringevaluators_8pl.html#a06b59ff01c251186550d61193ec7f328">strings</a> which can be used
<a name="l00061"></a>00061 <span class="preprocessor">                        # as extra answers</span>
<a name="l00062"></a>00062 <span class="preprocessor"></span>
<a name="l00063"></a>00063     print_q             # yields a formatted string of question to be
<a name="l00064"></a>00064 <span class="preprocessor">                        # matched with answer blanks</span>
<a name="l00065"></a>00065 <span class="preprocessor"></span>    print_a             # yields a formatted string of answers
<a name="l00066"></a>00066 
<a name="l00067"></a>00067     choose([3, 4], 1)   # chooses questions indexed 3 and 4 and one other
<a name="l00068"></a>00068 <span class="preprocessor">                        # randomly</span>
<a name="l00069"></a>00069 <span class="preprocessor"></span>    choose_extra([3, 4], 1) # choooses extra answers indexed 3 and 4 and one
<a name="l00070"></a>00070 <span class="preprocessor">                        # other</span>
<a name="l00071"></a>00071 <span class="preprocessor"></span>    makeLast( array )   # accepts an array of <a class="code" href="PGstringevaluators_8pl.html#a06b59ff01c251186550d61193ec7f328">strings</a> (like qa) which will
<a name="l00072"></a>00072 <span class="preprocessor">                        # be forced to the end of the list of answers.</span>
<a name="l00073"></a>00073 <span class="preprocessor"></span>
<a name="l00074"></a>00074     ra_correct_ans      # outputs a reference to the array of correct answers
<a name="l00075"></a>00075 
<a name="l00076"></a>00076 =head2 Usage
<a name="l00077"></a>00077 
<a name="l00078"></a>00078 Create a match list using the new_match_list call.
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 =for html
<a name="l00081"></a>00081     &lt;PRE&gt;
<a name="l00082"></a>00082     &lt;I&gt;$ml = new_match_list&lt;/I&gt;&lt;/PRE&gt;
<a name="l00083"></a>00083 
<a name="l00084"></a>00084 Use qa() first to enter questions and answers in alternating pairs.  Note that
<a name="l00085"></a>00085 multiple questions can have the same answer.  Any duplicates will be eliminated.
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 =for html
<a name="l00088"></a>00088     &lt;PRE&gt;
<a name="l00089"></a>00089     &lt;I&gt;$ml-&gt;qa(
<a name="l00090"></a>00090         &#39;\( x^2 \)&#39;,
<a name="l00091"></a>00091         &#39;quadratic&#39;,
<a name="l00092"></a>00092         &#39;\( x^3 \)&#39;,
<a name="l00093"></a>00093         &#39;cubic&#39;,
<a name="l00094"></a>00094         &#39;\( x^3/x \)&#39;,
<a name="l00095"></a>00095         &#39;quadratic&#39;,
<a name="l00096"></a>00096         &#39;\( log(x) \)&#39;,
<a name="l00097"></a>00097         &#39;logarithmic&#39;,
<a name="l00098"></a>00098         &#39;\( 2^x \)&#39;,
<a name="l00099"></a>00099         &#39;None of the above&#39;,
<a name="l00100"></a>00100     );&lt;/I&gt;&lt;/PRE&gt;
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 After you call qa you can use extra() to enter extra &#39;answers&#39;.  Again all
<a name="l00103"></a>00103 duplicates will be eliminated.
<a name="l00104"></a>00104 
<a name="l00105"></a>00105 =for html
<a name="l00106"></a>00106     &lt;PRE&gt;
<a name="l00107"></a>00107     &lt;I&gt;$ml-&gt;extra(
<a name="l00108"></a>00108         &#39;linear&#39;,
<a name="l00109"></a>00109         &#39;quartic&#39;,
<a name="l00110"></a>00110         &#39;really curvy&#39;,
<a name="l00111"></a>00111     );&lt;/I&gt;&lt;/PRE&gt;
<a name="l00112"></a>00112 
<a name="l00113"></a>00113 After calling extra you can use choose to select which questions and/or how many each student sees. This helps give students different sub-sets of the full question set so that students cannot cheat as easily. A list of numbers in brackets indicates which questions every student sees (counting starts with 0) and the final number outside of brackets is how many more questions should be randomly picked for each student. Though it is available, the use of selecting specific extra answers is not recommended for novices as the indexing is complicated (see below).
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 =for html
<a name="l00116"></a>00116     &lt;PRE&gt;
<a name="l00117"></a>00117     &lt;I&gt;$ml-&gt;choose([0], 1);&lt;/I&gt;&lt;/PRE&gt;
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 would show the first question and a random question while
<a name="l00120"></a>00120 
<a name="l00121"></a>00121 =for html
<a name="l00122"></a>00122     &lt;PRE&gt;
<a name="l00123"></a>00123     &lt;I&gt;$ml-&gt;choose(3);&lt;/I&gt;&lt;/PRE&gt;
<a name="l00124"></a>00124 
<a name="l00125"></a>00125 would show 3 random questions (but never call choose more than once).
<a name="l00126"></a>00126 
<a name="l00127"></a>00127 After calling choose, use choose_extra to select which of the extra &#39;answers&#39;
<a name="l00128"></a>00128 will be given to each student.  Note that unused answers are dumped into the
<a name="l00129"></a>00129 list of extra &#39;answers&#39; so the indexing may be difficult to grasp at first.
<a name="l00130"></a>00130 (This can be stopped by doing the following: $ml-&gt;dumpExtra = &quot;&quot;;)
<a name="l00131"></a>00131 
<a name="l00132"></a>00132 =for html
<a name="l00133"></a>00133     &lt;PRE&gt;
<a name="l00134"></a>00134     &lt;I&gt;$ml-&gt;choose_extra([0], 2);&lt;/I&gt;&lt;/PRE&gt;
<a name="l00135"></a>00135 
<a name="l00136"></a>00136 would show 3 extra answers besides the correct one note that these extra
<a name="l00137"></a>00137 answers may consist of answers from the questions that were not used.
<a name="l00138"></a>00138 
<a name="l00139"></a>00139 After calling choose_extra you can use makeLast to add specific answers to the
<a name="l00140"></a>00140 end of the list of answers or to force already existing answers to be moved to
<a name="l00141"></a>00141 the end of the list.  This is usually done for &#39;None of the above&#39;, or &#39;All of
<a name="l00142"></a>00142 the above&#39; type answers.
<a name="l00143"></a>00143 
<a name="l00144"></a>00144 =for html
<a name="l00145"></a>00145     &lt;PRE&gt;
<a name="l00146"></a>00146     &lt;I&gt;$ml-&gt;makeLast(
<a name="l00147"></a>00147         &#39;All of the above&#39;,
<a name="l00148"></a>00148         &#39;None of the above&#39;
<a name="l00149"></a>00149     );&lt;/I&gt;&lt;/PRE&gt;
<a name="l00150"></a>00150 
<a name="l00151"></a>00151 If you want you can change the size of the answer boxes at any time (the default is 4).
<a name="l00152"></a>00152 
<a name="l00153"></a>00153 =for html
<a name="l00154"></a>00154     &lt;PRE&gt;
<a name="l00155"></a>00155     &lt;I&gt;$ml-&gt;ans_rule_len(10);&lt;/I&gt;&lt;/PRE&gt;
<a name="l00156"></a>00156 
<a name="l00157"></a>00157 Now you would start your problem with a BEGIN_TEXT tag and print the questions
<a name="l00158"></a>00158 and answers with the print_q() and print_a() commands. Within the
<a name="l00159"></a><a class="code" href="classMatch.html">00159</a> BEGIN_TEXT/END_TEXT block, all calls to objects must be enclosed in \( \).
<a name="l00160"></a>00160 (The $PAR start a new paragraph by printing a blank line).
<a name="l00161"></a>00161 
<a name="l00162"></a>00162 =for html
<a name="l00163"></a>00163     &lt;PRE&gt;
<a name="l00164"></a>00164     &lt;I&gt;BEGIN_TEXT
<a name="l00165"></a>00165         $PAR
<a name="l00166"></a>00166         \{ $ml-&gt;print_q() \}
<a name="l00167"></a>00167         $PAR
<a name="l00168"></a>00168         \{ $ml-&gt;print_a() \}
<a name="l00169"></a>00169     END_TEXT&lt;/I&gt;&lt;/PRE&gt;
<a name="l00170"></a>00170 
<a name="l00171"></a>00171 Now all that<span class="stringliteral">&#39;s left is sending the students answers to the answer evaluator</span>
<a name="l00172"></a>00172 <span class="stringliteral">along with the correct answers so that the students answers can be checked and</span>
<a name="l00173"></a>00173 <span class="stringliteral">a score can be given.  This is done using ANS, an answer evaluator and the</span>
<a name="l00174"></a>00174 <span class="stringliteral">ra_correct_ans variable.</span>
<a name="l00175"></a>00175 <span class="stringliteral"></span>
<a name="l00176"></a>00176 <span class="stringliteral">=for html</span>
<a name="l00177"></a>00177 <span class="stringliteral">    &lt;PRE&gt;</span>
<a name="l00178"></a>00178 <span class="stringliteral">    &lt;I&gt;ANS(str_cmp($ml-&gt;ra_correct_ans));&lt;/I&gt;&lt;/PRE&gt;</span>
<a name="l00179"></a>00179 <span class="stringliteral"></span>
<a name="l00180"></a>00180 <span class="stringliteral">=cut</span>
<a name="l00181"></a>00181 <span class="stringliteral"></span>
<a name="l00182"></a>00182 <span class="stringliteral">BEGIN {</span>
<a name="l00183"></a>00183 <span class="stringliteral">    be_strict();</span>
<a name="l00184"></a>00184 <span class="stringliteral">}</span>
<a name="l00185"></a>00185 <span class="stringliteral"></span>
<a name="l00186"></a>00186 <span class="stringliteral"></span>
<a name="l00187"></a>00187 <span class="stringliteral">package Match;</span>
<a name="l00188"></a>00188 <span class="stringliteral"></span>
<a name="l00189"></a>00189 <span class="stringliteral">@Match::ISA = qw( ChoiceList );</span>
<a name="l00190"></a>00190 <span class="stringliteral"></span>
<a name="l00191"></a>00191 <span class="stringliteral"># *** Subroutines which overload ChoiceList.pm ***</span>
<a name="l00192"></a>00192 <span class="stringliteral"></span>
<a name="l00193"></a>00193 <span class="stringliteral">#sends letters for comparison instead of actual answers</span>
<a name="l00194"></a>00194 <span class="stringliteral">sub ra_correct_ans {</span>
<a name="l00195"></a>00195 <span class="stringliteral">    my $self = shift;</span>
<a name="l00196"></a>00196 <span class="stringliteral">    my @ans = &amp;ChoiceList::ALPHABET( @{$self-&gt;{inverted_shuffle}} );</span>
<a name="l00197"></a>00197 <span class="stringliteral">    \@ans;</span>
<a name="l00198"></a>00198 <span class="stringliteral">}</span>
<a name="l00199"></a>00199 <span class="stringliteral"></span>
<a name="l00200"></a>00200 <span class="stringliteral">1;</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Jun 8 22:54:55 2012 for PG by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
