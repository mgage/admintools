<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PG: compoundProblem Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>compoundProblem Class Reference</h1><!-- doxytag: class="compoundProblem" -->
<p><a href="classcompoundProblem-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Avaliable Methods</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp9be22fb8347fa3884856571d2a5f020b"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#a228a5deaa98edfdf4e1bb98b83b258d2">getStatus</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#a5b4174523efef5df853ad094c7514f27">scoreRaw</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#a2a0e072625744422b42afdf1d2fbaf4a">grader</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#ae8685b2ce80c042de692326f4ac94758">nextCheckbox</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#a94dffa9604a055db49f502e61391dc6f">resetCheckbox</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#a3f2123d686ed2ea8f0259e41f0c51305">toHex</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#ad7d071afa7fe19c596686cc76b4c8847">nextForced</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#a8de9fc2669a77dfd4ee9bc211f8e3668">encode</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#af9b0c3911e4471e2cd291c68a0000377">quoteHTML</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#a958258dd91a29ad4b3a59a43efdbef9d">fromHex</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#adcef70337062c151dcdb483dffda3b85">decode</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#a5c1b84573f8b6780312015d307fb5cde">reset</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#a467731a6c9db78c1183606ca16071684">useGrader</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#a9c68f6925dbf087551fa0a304d8facca">initAnswers</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#aa413edb91aa0da1ed8ba6f1f6a88c7f9">addAnswers</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#a40dcf569fa30ddb351ba1374fe4074f9">scoreOverall</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#a9f7172254eac20181ff805eb63687853">new</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#a229b4302ac973c39ad724fed2018b4e3">incrementPart</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#a34a5c20205b1323854058ce3b93d9ee3">initPart</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#a648527d2f5a4c771826b54977c00886d">nextButton</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#a0c4ebcc4f9b4f7c773a854317dde98c8">getTotalWeight</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#a4c9d9d1d228f6d1436cd0eaa37edecba">part</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#afa2bd3eb4725657042799699ba5e7d76">score</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#a34d33a1d51d402641463b49447306be0">nextHTML</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcompoundProblem.html#a93cdb7db4bfca7309b99e569f6fd5bcb">checkAnswers</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="compoundProblem_8pl_source.html#l00031">31</a> of file <a class="el" href="compoundProblem_8pl_source.html">compoundProblem.pl</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aa413edb91aa0da1ed8ba6f1f6a88c7f9"></a><!-- doxytag: member="compoundProblem::addAnswers" ref="aa413edb91aa0da1ed8ba6f1f6a88c7f9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::addAnswers </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-addAnswers' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-addAnswers-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-addAnswers-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-addAnswers-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in addAnswers: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classcompoundProblem.html#aa413edb91aa0da1ed8ba6f1f6a88c7f9">addAnswers</a> {
  my $self = shift;
  $self-&gt;{extraAnswers} = [] unless $self-&gt;{extraAnswers};
  push(@{$self-&gt;{extraAnswers}},@_);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a93cdb7db4bfca7309b99e569f6fd5bcb"></a><!-- doxytag: member="compoundProblem::checkAnswers" ref="a93cdb7db4bfca7309b99e569f6fd5bcb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::checkAnswers </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-checkAnswers' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-checkAnswers-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-checkAnswers-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-checkAnswers-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in checkAnswers: 12</span>
<span class="preprocessor"></span>sub <a class="code" href="classcompoundProblem.html#a93cdb7db4bfca7309b99e569f6fd5bcb">checkAnswers</a> {
  my $self = shift;
  <span class="keywordflow">foreach</span> my $id (keys(%{$main::inputs_ref})) {
    <span class="keywordflow">if</span> ($id =~ m/^previous_(.*)$/) {
      <span class="keywordflow">if</span> ($main::inputs_ref-&gt;{$id} ne $main::inputs_ref-&gt;{$1}) {
    $self-&gt;{answersChanged} = 1;
    $self-&gt;{isNew} = 0 <span class="keywordflow">if</span> $self-&gt;{nextNoChange};
    <span class="keywordflow">return</span>;
      }
    }
  }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="adcef70337062c151dcdb483dffda3b85"></a><!-- doxytag: member="compoundProblem::decode" ref="adcef70337062c151dcdb483dffda3b85" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::decode </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-decode' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-decode-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-decode-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-decode-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in decode: 12</span>
<span class="preprocessor"></span>sub <a class="code" href="classcompoundProblem.html#adcef70337062c151dcdb483dffda3b85">decode</a> {
  my $self = shift; my $status = shift || $main::inputs_ref-&gt;{_status};
  <span class="keywordflow">return</span> {%defaultStatus} unless $status;
  my @data = (); <span class="keywordflow">foreach</span> my $hex (split(/(..)/,$status)) {push(@data,<a class="code" href="classcompoundProblem.html#a958258dd91a29ad4b3a59a43efdbef9d">fromHex</a>($hex)) if $hex ne &#39;&#39;}
  @data = split(&#39;\\|&#39;,join(&#39;&#39;,@data)); $status = {%defaultStatus};
  <span class="keywordflow">if</span> (scalar(@data) == 8) {
<span class="preprocessor">    # insert imageName, images_created, new_images_created, if missing</span>
<span class="preprocessor"></span>    splice(@data,2,0,<span class="stringliteral">&quot;&quot;</span>,0); splice(@data,6,0,0);
  }
  <span class="keywordflow">foreach</span> my $id (<a class="code" href="classmain.html#abfd1f69ce77d1737ae37a97b21265f84">main::lex_sort</a>(keys(%defaultStatus))) {$status-&gt;{$id} = shift(@data)}
  <span class="keywordflow">return</span> $status;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a8de9fc2669a77dfd4ee9bc211f8e3668"></a><!-- doxytag: member="compoundProblem::encode" ref="a8de9fc2669a77dfd4ee9bc211f8e3668" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::encode </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-encode' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-encode-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-encode-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-encode-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in encode: 7</span>
<span class="preprocessor"></span>sub <a class="code" href="classcompoundProblem.html#a8de9fc2669a77dfd4ee9bc211f8e3668">encode</a> {
  my $self = shift; my $status = shift || $self-&gt;{status};
  my @data = (); my $data = <span class="stringliteral">&quot;&quot;</span>;
  <span class="keywordflow">foreach</span> my $id (<a class="code" href="classmain.html#abfd1f69ce77d1737ae37a97b21265f84">main::lex_sort</a>(keys(%defaultStatus))) {push(@data,$status-&gt;{$id})}
  <span class="keywordflow">foreach</span> my $c (split(<span class="comment">//,join(&#39;|&#39;,@data))) {$data .= toHex($c)}</span>
  <span class="keywordflow">return</span> $data;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a958258dd91a29ad4b3a59a43efdbef9d"></a><!-- doxytag: member="compoundProblem::fromHex" ref="a958258dd91a29ad4b3a59a43efdbef9d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::fromHex </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-fromHex' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-fromHex-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-fromHex-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-fromHex-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in fromHex: 1</span>
<span class="preprocessor">sub fromHex {main::spf(hex(shift)+10,&quot;%c&quot;)}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a228a5deaa98edfdf4e1bb98b83b258d2"></a><!-- doxytag: member="compoundProblem::getStatus" ref="a228a5deaa98edfdf4e1bb98b83b258d2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::getStatus </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getStatus' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-getStatus-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getStatus-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getStatus-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in getStatus: 12</span>
<span class="preprocessor"></span>sub <a class="code" href="classcompoundProblem.html#a228a5deaa98edfdf4e1bb98b83b258d2">getStatus</a> {
  my $self = shift;
  <a class="code" href="classmain.html#aa743bd0278621896168d9fb7d97a69ff">main::RECORD_FORM_LABEL</a>(<span class="stringliteral">&quot;_next&quot;</span>);
  <a class="code" href="classmain.html#aa743bd0278621896168d9fb7d97a69ff">main::RECORD_FORM_LABEL</a>(<span class="stringliteral">&quot;_status&quot;</span>);
  $self-&gt;{status} = $self-&gt;decode;
  $self-&gt;{isNew} = $main::inputs_ref-&gt;{_next} || ($main::inputs_ref-&gt;{submitAnswers} &amp;&amp;
     $main::inputs_ref-&gt;{submitAnswers} eq ($self-&gt;{nextLabel} || <span class="stringliteral">&quot;Go on to Next Part&quot;</span>));
  <span class="keywordflow">if</span> ($self-&gt;{isNew}) {
    $self-&gt;checkAnswers;
    $self-&gt;incrementPart unless $self-&gt;{nextNoChange} &amp;&amp; $self-&gt;{answersChanged};
  }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a0c4ebcc4f9b4f7c773a854317dde98c8"></a><!-- doxytag: member="compoundProblem::getTotalWeight" ref="a0c4ebcc4f9b4f7c773a854317dde98c8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::getTotalWeight </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getTotalWeight' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-getTotalWeight-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getTotalWeight-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getTotalWeight-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in getTotalWeight: 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classcompoundProblem.html#a0c4ebcc4f9b4f7c773a854317dde98c8">getTotalWeight</a> {
  my $self = shift;
  $self-&gt;{totalWeight} = 0; $self-&gt;{totalAnswers} = 1;
  <span class="keywordflow">foreach</span> my $w (@{$self-&gt;{weights}}) {$self-&gt;{totalWeight} += $w}
  $self-&gt;{totalWeight} = 1 <span class="keywordflow">if</span> $self-&gt;{totalWeight} == 0;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a2a0e072625744422b42afdf1d2fbaf4a"></a><!-- doxytag: member="compoundProblem::grader" ref="a2a0e072625744422b42afdf1d2fbaf4a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::grader </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-grader' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-grader-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-grader-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-grader-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in grader: 85</span>
<span class="preprocessor"></span>sub <a class="code" href="classcompoundProblem.html#a2a0e072625744422b42afdf1d2fbaf4a">grader</a> {
  my $self = $main::PG-&gt;{flags}-&gt;{<a class="code" href="classcompoundProblem.html">compoundProblem</a>};
<span class="preprocessor">  #</span>
<span class="preprocessor"></span><span class="preprocessor">  #  Get the answer names and the weight for the current part.</span>
<span class="preprocessor"></span><span class="preprocessor">  #</span>
<span class="preprocessor"></span>  my @answers = keys(%{$_[0]});
  my $weight = scalar(@answers)/$self-&gt;{totalAnswers};
  $weight = $self-&gt;{weights}[$self-&gt;{status}{<a class="code" href="classcompoundProblem.html#a4c9d9d1d228f6d1436cd0eaa37edecba">part</a>}-1]/$self-&gt;{totalWeight}
    <span class="keywordflow">if</span> $self-&gt;{weights} &amp;&amp; defined($self-&gt;{weights}[$self-&gt;{status}{<a class="code" href="classcompoundProblem.html#a4c9d9d1d228f6d1436cd0eaa37edecba">part</a>}-1]);
  @answers = grep(!/$main::ANSWER_PREFIX/o,@answers) unless $self-&gt;{saveAllAnswers};
  push(@answers,@{$self-&gt;{extraAnswers}}) <span class="keywordflow">if</span> $self-&gt;{extraAnswers};
  my $space = <span class="stringliteral">&#39;&lt;img src=&quot;about:blank&quot; style=&quot;height:1px; width:3em; visibility:hidden&quot; /&gt;&#39;</span>;

<span class="preprocessor">  #</span>
<span class="preprocessor"></span><span class="preprocessor">  #  Call the original grader, but put back the old recorded_score</span>
<span class="preprocessor"></span><span class="preprocessor">  #  (the grader will have updated it based on the score for the PART,</span>
<span class="preprocessor"></span><span class="preprocessor">  #  not the problem as a whole).</span>
<span class="preprocessor"></span><span class="preprocessor">  #</span>
<span class="preprocessor"></span>  my $oldScore = ($_[1])-&gt;{recorded_score};
  my ($result,$state) = &amp;{$self-&gt;{<a class="code" href="classcompoundProblem.html#a2a0e072625744422b42afdf1d2fbaf4a">grader</a>}}(@_);
  $state-&gt;{recorded_score} = $oldScore;

<span class="preprocessor">  #</span>
<span class="preprocessor"></span><span class="preprocessor">  #  Update that state information and encode it.</span>
<span class="preprocessor"></span><span class="preprocessor">  #</span>
<span class="preprocessor"></span>  my $status = $self-&gt;{status};
  $status-&gt;{raw}   = $result-&gt;{<a class="code" href="classcompoundProblem.html#afa2bd3eb4725657042799699ba5e7d76">score</a>};
  $status-&gt;{<a class="code" href="classcompoundProblem.html#afa2bd3eb4725657042799699ba5e7d76">score</a>} = $result-&gt;{<a class="code" href="classcompoundProblem.html#afa2bd3eb4725657042799699ba5e7d76">score</a>}*$weight;
  $status-&gt;{new_ans_rule_count} = $main::ans_rule_count;
  <span class="keywordflow">if</span> (defined(%main::images_created)) {
    $status-&gt;{imageName} = (keys %main::images_created)[0];
    $status-&gt;{new_images_created} = $main::images_created{$status-&gt;{imageName}};
  }
  $status-&gt;{new_answers} = join(<span class="charliteral">&#39;;&#39;</span>,@answers);
  my $data = <a class="code" href="classcompoundProblem.html#af9b0c3911e4471e2cd291c68a0000377">quoteHTML</a>($self-&gt;encode);

<span class="preprocessor">  #</span>
<span class="preprocessor"></span><span class="preprocessor">  #  Update the recorded score</span>
<span class="preprocessor"></span><span class="preprocessor">  #</span>
<span class="preprocessor"></span>  my $newScore = $status-&gt;{total} + $status-&gt;{<a class="code" href="classcompoundProblem.html#afa2bd3eb4725657042799699ba5e7d76">score</a>};
  $state-&gt;{recorded_score} = $newScore <span class="keywordflow">if</span> $newScore &gt; $oldScore;
  $state-&gt;{recorded_score} = 0 <span class="keywordflow">if</span> $self-&gt;{allowReset} &amp;&amp; $main::inputs_ref-&gt;{_reset};

<span class="preprocessor">  #</span>
<span class="preprocessor"></span><span class="preprocessor">  #  Add the compoundProblem message and data</span>
<span class="preprocessor"></span><span class="preprocessor">  #</span>
<span class="preprocessor"></span>  $result-&gt;{type} = <span class="stringliteral">&quot;compoundProblem ($result-&gt;{type})&quot;</span>;
  $result-&gt;{msg} .= <span class="stringliteral">&#39;&lt;/i&gt;&lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; &lt;i&gt;&#39;</span> <span class="keywordflow">if</span> $result-&gt;{msg};
  $result-&gt;{msg} .= <span class="stringliteral">&#39;This problem has more than one part.&#39;</span>
                 .  <span class="stringliteral">&#39;&lt;br/&gt;&#39;</span>.$space.<span class="stringliteral">&#39;&lt;small&gt;Your score for this attempt is for this part only;&lt;/small&gt;&#39;</span>
         .  <span class="stringliteral">&#39;&lt;br/&gt;&#39;</span>.$space.<span class="stringliteral">&#39;&lt;small&gt;your overall score is for all the parts combined.&lt;/small&gt;&#39;</span>
                 .  qq!&lt;input type=<span class="stringliteral">&quot;hidden&quot;</span> name=<span class="stringliteral">&quot;_status&quot;</span> value=<span class="stringliteral">&quot;$data&quot;</span> /&gt;!;

<span class="preprocessor">  #</span>
<span class="preprocessor"></span><span class="preprocessor">  #  Warn if the answers changed when they shouldn&#39;t have</span>
<span class="preprocessor"></span><span class="preprocessor">  #</span>
<span class="preprocessor"></span>  $result-&gt;{msg} .= <span class="stringliteral">&#39;&lt;p&gt;&lt;b&gt;You may not change your answers when going on to the next part!&lt;/b&gt;&#39;</span>
    <span class="keywordflow">if</span> $self-&gt;{nextNoChange} &amp;&amp; $self-&gt;{answersChanged};

<span class="preprocessor">  #</span>
<span class="preprocessor"></span><span class="preprocessor">  #  Include the &quot;next part&quot; checkbox, button, or whatever.</span>
<span class="preprocessor"></span><span class="preprocessor">  #</span>
<span class="preprocessor"></span>  my $par = 1;
  <span class="keywordflow">if</span> ($self-&gt;{parts} &gt; $status-&gt;{<a class="code" href="classcompoundProblem.html#a4c9d9d1d228f6d1436cd0eaa37edecba">part</a>} &amp;&amp; !$main::inputs_ref-&gt;{previewAnswers}) {
    <span class="keywordflow">if</span> (lc($self-&gt;{nextVisible}) eq <span class="stringliteral">&#39;always&#39;</span> ||
       (lc($self-&gt;{nextVisible}) eq <span class="stringliteral">&#39;ifcorrect&#39;</span> &amp;&amp; $result-&gt;{<a class="code" href="classcompoundProblem.html#afa2bd3eb4725657042799699ba5e7d76">score</a>} &gt;= 1)) {
      my $method = <span class="stringliteral">&quot;next&quot;</span>.$self-&gt;{nextStyle}; $par = 0;
      $result-&gt;{msg} .= $self-&gt;$method($self-&gt;{nextLabel},1).<span class="stringliteral">&#39;&lt;br/&gt;&#39;</span>;
    }
  }

<span class="preprocessor">  #</span>
<span class="preprocessor"></span><span class="preprocessor">  #  Add the reset checkbox, if needed</span>
<span class="preprocessor"></span><span class="preprocessor">  #</span>
<span class="preprocessor"></span>  $result-&gt;{msg} .= $self-&gt;resetCheckbox($self-&gt;{resetLabel},$par)
    <span class="keywordflow">if</span> $self-&gt;{allowReset} &amp;&amp; $status-&gt;{<a class="code" href="classcompoundProblem.html#a4c9d9d1d228f6d1436cd0eaa37edecba">part</a>} &gt; 1;

<span class="preprocessor">  #</span>
<span class="preprocessor"></span><span class="preprocessor">  #  Make sure we don&#39;t go on unless the next button really is checked</span>
<span class="preprocessor"></span><span class="preprocessor">  #</span>
<span class="preprocessor"></span>  $result-&gt;{msg} .= <span class="stringliteral">&#39;&lt;input type=&quot;hidden&quot; name=&quot;_next&quot; value=&quot;0&quot; /&gt;&#39;</span>
    unless $self-&gt;{nextInserted};

  <span class="keywordflow">return</span> ($result,$state);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a229b4302ac973c39ad724fed2018b4e3"></a><!-- doxytag: member="compoundProblem::incrementPart" ref="a229b4302ac973c39ad724fed2018b4e3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::incrementPart </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-incrementPart' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-incrementPart-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-incrementPart-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-incrementPart-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in incrementPart: 14</span>
<span class="preprocessor"></span>sub <a class="code" href="classcompoundProblem.html#a229b4302ac973c39ad724fed2018b4e3">incrementPart</a> {
  my $self = shift;
  my $status = $self-&gt;{status};
  <span class="keywordflow">if</span> ($status-&gt;{<a class="code" href="classcompoundProblem.html#a4c9d9d1d228f6d1436cd0eaa37edecba">part</a>} &lt; $self-&gt;{parts}) {
    $status-&gt;{<a class="code" href="classcompoundProblem.html#a4c9d9d1d228f6d1436cd0eaa37edecba">part</a>}++;
    $status-&gt;{answers} .= <span class="charliteral">&#39;;&#39;</span> <span class="keywordflow">if</span> $status-&gt;{answers};
    $status-&gt;{answers} .= $status-&gt;{new_answers};
    $status-&gt;{ans_rule_count} = $status-&gt;{new_ans_rule_count};
    $status-&gt;{images_created} = $status-&gt;{new_images_created};
    $status-&gt;{total} += $status-&gt;{<a class="code" href="classcompoundProblem.html#afa2bd3eb4725657042799699ba5e7d76">score</a>};
    $status-&gt;{<a class="code" href="classcompoundProblem.html#afa2bd3eb4725657042799699ba5e7d76">score</a>} = $status-&gt;{raw} = 0;
    $status-&gt;{new_answers} = <span class="stringliteral">&#39;&#39;</span>;
  }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a9c68f6925dbf087551fa0a304d8facca"></a><!-- doxytag: member="compoundProblem::initAnswers" ref="a9c68f6925dbf087551fa0a304d8facca" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::initAnswers </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-initAnswers' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-initAnswers-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-initAnswers-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-initAnswers-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in initAnswers: 15</span>
<span class="preprocessor"></span>sub <a class="code" href="classcompoundProblem.html#a9c68f6925dbf087551fa0a304d8facca">initAnswers</a> {
  my $self = shift; my $answers = shift;
  <span class="keywordflow">foreach</span> my $id (split(/;/,$answers)) {
    my $value = $main::inputs_ref-&gt;{$id}; $value = <span class="stringliteral">&#39;&#39;</span> unless defined($value);
    <span class="keywordflow">if</span> ($self-&gt;{parserValues}) {
      my $parser = <a class="code" href="classParser.html#a88e52b9304be1766333fa340cc242e7e">Parser::Formula</a>($value);
      $parser = <a class="code" href="classParser.html#a25690085ad4a6d0a78c8dd5ee84c18a5">Parser::Evaluate</a>($parser) if $parser &amp;&amp; $parser-&gt;isConstant;
      $value = $parser if $parser;
    }
    ${<span class="stringliteral">&quot;main::$id&quot;</span>} = $value unless $id =~ m/$main::ANSWER_PREFIX/o;
    $value = quoteHTML($value);
    <a class="code" href="classmain.html#aeada886415242e8daf027a5258797ed0">main::TEXT</a>(qq!&lt;input type=<span class="stringliteral">&quot;hidden&quot;</span> name=<span class="stringliteral">&quot;$id&quot;</span> value=<span class="stringliteral">&quot;$value&quot;</span> /&gt;!);
    <a class="code" href="classmain.html#aa743bd0278621896168d9fb7d97a69ff">main::RECORD_FORM_LABEL</a>($id);
  }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a34a5c20205b1323854058ce3b93d9ee3"></a><!-- doxytag: member="compoundProblem::initPart" ref="a34a5c20205b1323854058ce3b93d9ee3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::initPart </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-initPart' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-initPart-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-initPart-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-initPart-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in initPart: 9</span>
<span class="preprocessor"></span>sub <a class="code" href="classcompoundProblem.html#a34a5c20205b1323854058ce3b93d9ee3">initPart</a> {
  my $self = shift;
  $main::ans_rule_count = $self-&gt;{status}{ans_rule_count};
  $main::images_created{$self-&gt;{status}{imageName}} = $self-&gt;{status}{images_created}
    <span class="keywordflow">if</span> $self-&gt;{status}{imageName};
  <a class="code" href="classmain.html#a9bcb5802e999970d22a45177b9aaf546">main::install_problem_grader</a>(\&amp;<a class="code" href="classcompoundProblem.html#a2a0e072625744422b42afdf1d2fbaf4a">compoundProblem::grader</a>);
  $main::PG-&gt;{flags}-&gt;{<a class="code" href="classcompoundProblem.html">compoundProblem</a>} = $self;
  $self-&gt;initAnswers($self-&gt;{status}{answers});
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a9f7172254eac20181ff805eb63687853"></a><!-- doxytag: member="compoundProblem::new" ref="a9f7172254eac20181ff805eb63687853" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::new </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-new' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-new-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-new-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-new-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in new: 27</span>
<span class="preprocessor"></span>sub <span class="keyword">new</span> {
  my $self = shift; my $class = ref($self) || $self;
  my $cp = bless {
    parts =&gt; 1,
    totalAnswers =&gt; undef,
    weights =&gt; undef,            # array of weights per <a class="code" href="classcompoundProblem.html#a4c9d9d1d228f6d1436cd0eaa37edecba">part</a>
    saveAllAnswers =&gt; 0,         # usually only save named answers
    parserValues =&gt; 0,           # make <a class="code" href="classParser.html">Parser</a> objects from the answers?
    nextVisible =&gt; <span class="stringliteral">&quot;ifCorrect&quot;</span>,  # or <span class="stringliteral">&quot;Always&quot;</span> or <span class="stringliteral">&quot;Never&quot;</span>
    nextStyle   =&gt; <span class="stringliteral">&quot;Checkbox&quot;</span>,   # or <span class="stringliteral">&quot;Button&quot;</span>, <span class="stringliteral">&quot;Forced&quot;</span>, or <span class="stringliteral">&quot;HTML&quot;</span>
    nextLabel   =&gt; undef,        # Checkbox text or button name or HTML
    nextNoChange =&gt; 1,           # <span class="keyword">true</span> <span class="keywordflow">if</span> answer can<span class="stringliteral">&#39;t change for new part</span>
<span class="stringliteral">    allowReset =&gt; 0,             # true to show &quot;back to part 1&quot; button</span>
<span class="stringliteral">    resetLabel =&gt; undef,         # label for reset button</span>
<span class="stringliteral">    grader =&gt; $main::PG-&gt;{flags}-&gt;{PROBLEM_GRADER_TO_USE} || \&amp;main::avg_problem_grader,</span>
<span class="stringliteral">    @_,</span>
<span class="stringliteral">    status =&gt; $defaultStatus,</span>
<span class="stringliteral">  }, $class;</span>
<span class="stringliteral">  die &quot;You must provide either the totalAnswers or weights&quot;</span>
<span class="stringliteral">    unless $cp-&gt;{totalAnswers} || $cp-&gt;{weights};</span>
<span class="stringliteral">  $cp-&gt;getTotalWeight if $cp-&gt;{weights};</span>
<span class="stringliteral">  main::loadMacros(&quot;Parser.pl&quot;) if $cp-&gt;{parserValues};</span>
<span class="stringliteral">  $cp-&gt;reset if $cp-&gt;{allowReset} &amp;&amp; $main::inputs_ref-&gt;{_reset};</span>
<span class="stringliteral">  $cp-&gt;getStatus;</span>
<span class="stringliteral">  $cp-&gt;initPart;</span>
<span class="stringliteral">  return $cp;</span>
<span class="stringliteral">}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a648527d2f5a4c771826b54977c00886d"></a><!-- doxytag: member="compoundProblem::nextButton" ref="a648527d2f5a4c771826b54977c00886d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::nextButton </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-nextButton' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-nextButton-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-nextButton-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-nextButton-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in nextButton: 7</span>
<span class="preprocessor"></span>sub <a class="code" href="classcompoundProblem.html#a648527d2f5a4c771826b54977c00886d">nextButton</a> {
  my $self = shift;
  my $label = <a class="code" href="classcompoundProblem.html#af9b0c3911e4471e2cd291c68a0000377">quoteHTML</a>(shift || <span class="stringliteral">&quot;Go on to Next Part&quot;</span>);
  my $par = shift; $par = ($par ? $main::PAR : <span class="stringliteral">&#39;&#39;</span>);
  $par . qq!&lt;input type=<span class="stringliteral">&quot;submit&quot;</span> name=<span class="stringliteral">&quot;submitAnswers&quot;</span> value=<span class="stringliteral">&quot;$label&quot;</span> !
       .      q!onclick=<span class="stringliteral">&quot;document.getElementById(&#39;_next&#39;).value=1&quot;</span> /&gt;!;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ae8685b2ce80c042de692326f4ac94758"></a><!-- doxytag: member="compoundProblem::nextCheckbox" ref="ae8685b2ce80c042de692326f4ac94758" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::nextCheckbox </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-nextCheckbox' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-nextCheckbox-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-nextCheckbox-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-nextCheckbox-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in nextCheckbox: 7</span>
<span class="preprocessor"></span>sub <a class="code" href="classcompoundProblem.html#ae8685b2ce80c042de692326f4ac94758">nextCheckbox</a> {
  my $self = shift;
  my $label = shift || <span class="stringliteral">&quot; &lt;b&gt;Go on to next part&lt;/b&gt; (when you submit your answers).&quot;</span>;
  my $par = shift; $par = ($par ? $main::PAR : <span class="stringliteral">&#39;&#39;</span>);
  $self-&gt;{nextInserted} = 1;
  qq!$par&lt;input type=<span class="stringliteral">&quot;checkbox&quot;</span> name=<span class="stringliteral">&quot;_next&quot;</span> value=<span class="stringliteral">&quot;next&quot;</span> /&gt;$label!;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ad7d071afa7fe19c596686cc76b4c8847"></a><!-- doxytag: member="compoundProblem::nextForced" ref="ad7d071afa7fe19c596686cc76b4c8847" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::nextForced </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-nextForced' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-nextForced-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-nextForced-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-nextForced-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in nextForced: 7</span>
<span class="preprocessor"></span>sub <a class="code" href="classcompoundProblem.html#ad7d071afa7fe19c596686cc76b4c8847">nextForced</a> {
  my $self = shift;
  my $label = shift || <span class="stringliteral">&quot;&lt;b&gt;Submit your answers again to go on to the next part.&lt;/b&gt;&quot;</span>;
  $label = $main::PAR . $label <span class="keywordflow">if</span> shift;
  $self-&gt;{nextInserted} = 1;
  qq!$label&lt;input type=<span class="stringliteral">&quot;hidden&quot;</span> name=<span class="stringliteral">&quot;_next&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;_next&quot;</span> value=<span class="stringliteral">&quot;Next&quot;</span> /&gt;!;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a34d33a1d51d402641463b49447306be0"></a><!-- doxytag: member="compoundProblem::nextHTML" ref="a34d33a1d51d402641463b49447306be0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::nextHTML </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-nextHTML' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-nextHTML-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-nextHTML-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-nextHTML-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in nextHTML: 1</span>
<span class="preprocessor">sub nextHTML {shift; shift}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a4c9d9d1d228f6d1436cd0eaa37edecba"></a><!-- doxytag: member="compoundProblem::part" ref="a4c9d9d1d228f6d1436cd0eaa37edecba" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::part </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-part' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-part-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-part-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-part-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in part: 18</span>
<span class="preprocessor"></span>sub <a class="code" href="classcompoundProblem.html#a4c9d9d1d228f6d1436cd0eaa37edecba">part</a> {
  my $self = shift; my $status = $self-&gt;{status};
  my $part = shift;
  <span class="keywordflow">return</span> $status-&gt;{<a class="code" href="classcompoundProblem.html#a4c9d9d1d228f6d1436cd0eaa37edecba">part</a>} unless defined $part &amp;&amp; $main::displayMode ne <span class="stringliteral">&#39;TeX&#39;</span>;
  $part = 1 <span class="keywordflow">if</span> $part &lt; 1; $part = $self-&gt;{parts} <span class="keywordflow">if</span> $part &gt; $self-&gt;{parts};
  <span class="keywordflow">if</span> ($part &gt; $status-&gt;{<a class="code" href="classcompoundProblem.html#a4c9d9d1d228f6d1436cd0eaa37edecba">part</a>} &amp;&amp; !$main::inputs_ref-&gt;{_noadvance}) {
    unless ((lc($self-&gt;{nextVisible}) eq <span class="stringliteral">&#39;ifcorrect&#39;</span> &amp;&amp; $status-&gt;{raw} &lt; 1) ||
             lc($self-&gt;{nextVisible}) eq <span class="stringliteral">&#39;never&#39;</span>) {
      $self-&gt;initAnswers($status-&gt;{new_answers});
      $self-&gt;incrementPart; $self-&gt;{isNew} = 1;
    }
  }
  <span class="keywordflow">if</span> ($part != $status-&gt;{<a class="code" href="classcompoundProblem.html#a4c9d9d1d228f6d1436cd0eaa37edecba">part</a>}) {
    <a class="code" href="classmain.html#aeada886415242e8daf027a5258797ed0">main::TEXT</a>(<span class="stringliteral">&#39;&lt;input type=&quot;hidden&quot; name=&quot;_noadvance&quot; value=&quot;1&quot; /&gt;&#39;</span>);
    $self-&gt;{nextVisible} = <span class="stringliteral">&#39;IfCorrect&#39;</span> <span class="keywordflow">if</span> lc($self-&gt;{nextVisible}) eq <span class="stringliteral">&#39;never&#39;</span>;
  }
  <span class="keywordflow">return</span> $status-&gt;{<a class="code" href="classcompoundProblem.html#a4c9d9d1d228f6d1436cd0eaa37edecba">part</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="af9b0c3911e4471e2cd291c68a0000377"></a><!-- doxytag: member="compoundProblem::quoteHTML" ref="af9b0c3911e4471e2cd291c68a0000377" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::quoteHTML </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-quoteHTML' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-quoteHTML-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-quoteHTML-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-quoteHTML-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in quoteHTML: 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classcompoundProblem.html#af9b0c3911e4471e2cd291c68a0000377">quoteHTML</a> {
  my $string = shift;
  $string =~ s/&amp;/\&amp;amp;/g; $string =~ s/<span class="stringliteral">&quot;/\&amp;quot;/g;</span>
<span class="stringliteral">  $string =~ s/&gt;/\&amp;gt;/g;  $string =~ s/&lt;/\&amp;lt;/g;</span>
<span class="stringliteral">  return $string;</span>
<span class="stringliteral">}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a5c1b84573f8b6780312015d307fb5cde"></a><!-- doxytag: member="compoundProblem::reset" ref="a5c1b84573f8b6780312015d307fb5cde" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::reset </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-reset' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-reset-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-reset-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-reset-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in reset: 11</span>
<span class="preprocessor"></span>sub <a class="code" href="classcompoundProblem.html#a5c1b84573f8b6780312015d307fb5cde">reset</a> {
  my $self = shift;
  <span class="keywordflow">if</span> ($main::inputs_ref-&gt;{_status}) {
    my $status = $self-&gt;decode($main::inputs_ref-&gt;{_status});
    <span class="keywordflow">foreach</span> my $id (split(/;/,$status-&gt;{answers})) {<span class="keyword">delete</span> $main::inputs_ref-&gt;{$id}}
    <span class="keywordflow">foreach</span> my $id (1..$status-&gt;{ans_rule_count})
      {<span class="keyword">delete</span> $main::inputs_ref-&gt;{<span class="stringliteral">&quot;${main::QUIZ_PREFIX}${main::ANSWER_PREFIX}$id&quot;</span>}}
  }
  $main::inputs_ref-&gt;{_status} = $self-&gt;encode(\%defaultStatus);
  $main::inputs_ref-&gt;{_next} = 0;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a94dffa9604a055db49f502e61391dc6f"></a><!-- doxytag: member="compoundProblem::resetCheckbox" ref="a94dffa9604a055db49f502e61391dc6f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::resetCheckbox </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-resetCheckbox' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-resetCheckbox-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-resetCheckbox-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-resetCheckbox-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in resetCheckbox: 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classcompoundProblem.html#a94dffa9604a055db49f502e61391dc6f">resetCheckbox</a> {
  my $self = shift;
  my $label = shift || <span class="stringliteral">&quot; &lt;b&gt;Go back to Part 1&lt;/b&gt; (when you submit your answers).&quot;</span>;
  my $par = shift; $par = ($par ? $main::PAR : <span class="stringliteral">&#39;&#39;</span>);
  qq<span class="stringliteral">&#39;$par&lt;input type=&quot;checkbox&quot; name=&quot;_reset&quot; value=&quot;1&quot; /&gt;$label&#39;</span>;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="afa2bd3eb4725657042799699ba5e7d76"></a><!-- doxytag: member="compoundProblem::score" ref="afa2bd3eb4725657042799699ba5e7d76" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::score </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-score' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-score-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-score-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-score-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in score: 1</span>
<span class="preprocessor">sub score {shift-&gt;{status}{score}}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a40dcf569fa30ddb351ba1374fe4074f9"></a><!-- doxytag: member="compoundProblem::scoreOverall" ref="a40dcf569fa30ddb351ba1374fe4074f9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::scoreOverall </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-scoreOverall' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-scoreOverall-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-scoreOverall-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-scoreOverall-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in scoreOverall: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classcompoundProblem.html#a40dcf569fa30ddb351ba1374fe4074f9">scoreOverall</a> {
  my $self = shift;
  <span class="keywordflow">return</span> $self-&gt;{status}{<a class="code" href="classcompoundProblem.html#afa2bd3eb4725657042799699ba5e7d76">score</a>} + $self-&gt;{status}{total};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a5b4174523efef5df853ad094c7514f27"></a><!-- doxytag: member="compoundProblem::scoreRaw" ref="a5b4174523efef5df853ad094c7514f27" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::scoreRaw </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-scoreRaw' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-scoreRaw-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-scoreRaw-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-scoreRaw-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in scoreRaw: 1</span>
<span class="preprocessor">sub scoreRaw {shift-&gt;{status}{raw}}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a3f2123d686ed2ea8f0259e41f0c51305"></a><!-- doxytag: member="compoundProblem::toHex" ref="a3f2123d686ed2ea8f0259e41f0c51305" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::toHex </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-toHex' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-toHex-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-toHex-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-toHex-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in toHex: 1</span>
<span class="preprocessor">sub toHex {main::spf(ord(shift)-10,&quot;%X&quot;)}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a467731a6c9db78c1183606ca16071684"></a><!-- doxytag: member="compoundProblem::useGrader" ref="a467731a6c9db78c1183606ca16071684" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method compoundProblem::useGrader </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-useGrader' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-useGrader-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-useGrader-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-useGrader-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in useGrader: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classcompoundProblem.html#a467731a6c9db78c1183606ca16071684">useGrader</a> {
  my $self = shift;
  $self-&gt;{<a class="code" href="classcompoundProblem.html#a2a0e072625744422b42afdf1d2fbaf4a">grader</a>} = shift;
}
</pre></div>  
</div>
 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="compoundProblem_8pl_source.html">compoundProblem.pl</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Jun 8 22:54:56 2012 for PG by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
