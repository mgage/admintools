<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PG: Discussion Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Discussion Class Reference</h1><!-- doxytag: class="Discussion" -->
<p><a href="classDiscussion-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Avaliable Methods</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp9be22fb8347fa3884856571d2a5f020b"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a8d0371e2e65bee40841885265228f980">imageName</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a23e1a48dda8953d6d3fabb2ea535fd15">Middle</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#adbcfab4d8a3690a021753ce45fa15ad0">setStyles</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#adf5be87aa62a1b4dbff5f7181ec09f17">DeleteEntry</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a096b2bca06e718b9e9e82666b21ac4fd">amAuthor</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a6159e41b1c832c9216f79a6ab56ffe0c">firstEntry</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#aa4d6bdca30f1a6626fb4a76de6bded13">dataFilePath</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a8061fe36f3bed125b82dfadddb1d3d05">Grader</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a4ef3dfaacb44624fcb82e31e5b919640">new</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a5f72e859ec7c525438ac9f9621cbfde9">getEntries</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a5ebd94b0b61cef926c1d507c954baec4">Read</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a7637fd6e363276a315477c8d4028aa6e">isProfessor</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a91c45d427013a702edaa37ef4780d3fa">getNewEntries</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a4b7801c1e676e1709dde6f8bdea48fe2">MakeEntry</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a971b1cbce66df955400123920ea99a31">getURL</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a93b7020383481cac37f760ded1fb2518">getProfessors</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a2616bef436d2e82920e6c79226027127">sortEntries</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#ac8ca5feb0596a1381f811633e0a00415">getStudents</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#aff3aa7e062643b2ac4112458f8e574ae">hardcopyTitle</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#ab77095c28fb25c157458ca6dbbfda4f3">TEXT</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a43cd42c09d34002992e74ea5f54a0124">End</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a9a12555c4328d5c8710850a9d15d8325">ShowStudents</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a15ab5ab67aab906369d54ede92fbe13e">ParseEntryName</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a910ad5949abba09d4ad36628221b092a">ViewAll</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a1ae6476abdbc84e85e79bbcaaa036363">draw</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a13fed651908c24aaff925ee8c96aae2b">Panel</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a20240fed8e732443176a2352814b7336">OptionPanel</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a577aea5d572bda6f7d0e1c96598d9e97">isNew</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a83645d195cc1d495e9fdb76bd3462168">Begin</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#ac27eda5cd48f3f7dbb405a9be7a4c70e">Append</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#ac86392dd19609d6d0315512642350436">getAlreadCount</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#ab5d90b0a20b323b0b80a52ef5127e3bd">EntryPanel</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a261692f128a33119ed1050fd4ba9980c">ShowEntry</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#aac99505db690b97e09829d84dcd9c249">Hardcopy</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a25d29519a4aa60c48a25596d69f253c8">selectedEntry</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a472b9370a3d49f53233137440f660bab">ComposeEntry</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#ab0759a5276ed26f55cc2ab0f67798942">Write</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#aad54276ee7968bdccd540d69525fa02f">getUnreadCount</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscussion.html#a5f824f938f47d5f992d4af2870ba53b6">EditEntry</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="answerDiscussion_8pl_source.html#l00031">31</a> of file <a class="el" href="answerDiscussion_8pl_source.html">answerDiscussion.pl</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a096b2bca06e718b9e9e82666b21ac4fd"></a><!-- doxytag: member="Discussion::amAuthor" ref="a096b2bca06e718b9e9e82666b21ac4fd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::amAuthor </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-amAuthor' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-amAuthor-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-amAuthor-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-amAuthor-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in amAuthor: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a096b2bca06e718b9e9e82666b21ac4fd">amAuthor</a> {
  my $self = shift; my $entry = shift;
  my ($name,$user) = $self-&gt;ParseEntryName($entry);
  <span class="keywordflow">return</span> $user eq $self-&gt;{inputs}{user};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ac27eda5cd48f3f7dbb405a9be7a4c70e"></a><!-- doxytag: member="Discussion::Append" ref="ac27eda5cd48f3f7dbb405a9be7a4c70e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::Append </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-Append' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-Append-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-Append-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-Append-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in Append: 7</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#ac27eda5cd48f3f7dbb405a9be7a4c70e">Append</a> {
  my $self = shift; my $file = shift; my $data = shift;
  <span class="keywordflow">return</span> unless $data;
  my $text = $self-&gt;Read($file);  ## test <span class="keywordflow">for</span> errors other than file does not exist?
  $text = <span class="stringliteral">&quot;&quot;</span> unless defined $text; $text =~ s/^\n+<span class="comment">//;</span>
  $self-&gt;Write($file,$text.$data);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a83645d195cc1d495e9fdb76bd3462168"></a><!-- doxytag: member="Discussion::Begin" ref="a83645d195cc1d495e9fdb76bd3462168" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::Begin </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-Begin' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-Begin-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-Begin-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-Begin-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in Begin: 18</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a83645d195cc1d495e9fdb76bd3462168">Begin</a> {
  my $self = shift;
  $self-&gt;setStyles;
  $self-&gt;Grader;
  $self-&gt;{inputs} = $main::inputs_ref;
  $self-&gt;{action} = $self-&gt;{inputs}{action} || <span class="stringliteral">&#39;&#39;</span>;
  $self-&gt;getEntries;
  $self-&gt;getNewEntries;
  <a class="code" href="classDiscussion.html#ab77095c28fb25c157458ca6dbbfda4f3">TEXT</a>(<span class="stringliteral">&#39;&lt;div id=&quot;discussion&quot;&gt;&#39;</span>);
  <a class="code" href="classDiscussion.html#ab77095c28fb25c157458ca6dbbfda4f3">TEXT</a>(<span class="stringliteral">&quot;&lt;script&gt;&quot;</span>
      .<span class="stringliteral">&quot;  function closePreview () {\n&quot;</span>
      .<span class="stringliteral">&quot;    document.getElementById(&#39;Preview&#39;).parentNode.style.display=&#39;none&#39;;\n&quot;</span>
      .<span class="stringliteral">&quot;    (document.getElementsByName(&#39;preview&#39;))[0].value = 0;\n&quot;</span>
      .<span class="stringliteral">&quot;  }\n&quot;</span>
      .<span class="stringliteral">&quot;&lt;/script&gt;&quot;</span>);
  <a class="code" href="classDiscussion.html#ab77095c28fb25c157458ca6dbbfda4f3">TEXT</a>(<span class="stringliteral">&#39;&lt;p&gt;&lt;table border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; width=&quot;100%&quot;&gt;&#39;</span>.
       <span class="stringliteral">&#39;&lt;tr valign=&quot;top&quot;&gt;&lt;td align=&quot;left&quot; id=&quot;leftPane&quot;&gt;&#39;</span>);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a472b9370a3d49f53233137440f660bab"></a><!-- doxytag: member="Discussion::ComposeEntry" ref="a472b9370a3d49f53233137440f660bab" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::ComposeEntry </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-ComposeEntry' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-ComposeEntry-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-ComposeEntry-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-ComposeEntry-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in ComposeEntry: 48</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a472b9370a3d49f53233137440f660bab">ComposeEntry</a> {
  my $self = shift;

  <span class="keywordflow">return</span> <span class="keywordflow">if</span> $self-&gt;{pastDue};

  my $entry = $self-&gt;{inputs}{entry};
  $self-&gt;Panel(
    <span class="keywordtype">id</span> =&gt; <span class="stringliteral">&#39;Preview&#39;</span>,
    title =&gt; <span class="stringliteral">&#39;&amp;nbsp; Preview: &amp;nbsp; &amp;nbsp;&#39;</span>,
    box =&gt;<span class="stringliteral">&#39;&lt;div class=&quot;close&quot; onclick=&quot;closePreview()&quot;&gt;&lt;/div&gt;&#39;</span>,
    text =&gt; $entry,
  ) <span class="keywordflow">if</span> (defined($entry) &amp;&amp; ($self-&gt;{action} eq <span class="stringliteral">&#39;Preview&#39;</span> || $self-&gt;{inputs}{preview}));

  $entry = <span class="stringliteral">&quot;&quot;</span> unless defined($entry);
  $entry =~ s/&amp;/&amp;amp;/g;
  $entry =~ s/&lt;/&amp;lt;/g;
  $entry =~ s/&gt;/&amp;gt;/g;

  my ($compose,$make) = 
    ($self-&gt;{inputs}{editing} ? (<span class="stringliteral">&quot;Update&quot;</span>,<span class="stringliteral">&quot;Update&quot;</span>) : (<span class="stringliteral">&quot;Compose&quot;</span>,<span class="stringliteral">&quot;Make&quot;</span>));

  $self-&gt;Panel(
    <span class="keywordtype">id</span> =&gt; <span class="stringliteral">&#39;Compose&#39;</span>,
    title =&gt; $compose.<span class="stringliteral">&#39; your message below:&#39;</span>,
    box =&gt; <span class="stringliteral">&#39;&lt;div class=&quot;help&quot;&gt;[&lt;a href=&quot;http://webwork.math.rochester.edu/docs/docs/studentintro.html&quot; target=&quot;WW_help&quot;&gt;Help&lt;/a&gt;]&lt;/div&gt;&#39;</span>,
    html =&gt; 
      <span class="stringliteral">&#39;&lt;table border=&quot;0&quot; cellspacing=&quot;5&quot; cellpadding=&quot;0&quot;&gt;&#39;</span>.
        <span class="stringliteral">&#39;&lt;tr&gt;&lt;td colspan=&quot;3&quot; align=&quot;center&quot;&gt;&#39;</span>.
        <span class="stringliteral">&#39;&lt;textarea name=&quot;entry&quot; id=&quot;entry&quot;&gt;&#39;</span>.$entry.<span class="stringliteral">&#39;&lt;/textarea&gt;&#39;</span>.
        <span class="stringliteral">&#39;&lt;/td&gt;&lt;/tr&gt;&#39;</span>.
        <span class="stringliteral">&#39;&lt;tr&gt;&#39;</span>.
          <span class="stringliteral">&#39;&lt;td width=&quot;33%&quot; align=&quot;center&quot;&gt;&#39;</span>.
            <span class="stringliteral">&#39;&lt;input type=&quot;submit&quot; name=&quot;action&quot; value=&quot;Clear&quot; /&gt;&#39;</span>.
          <span class="stringliteral">&#39;&lt;/td&gt;&#39;</span>.
          <span class="stringliteral">&#39;&lt;td width=&quot;33%&quot; align=&quot;center&quot;&gt;&#39;</span>.
            <span class="stringliteral">&#39;&lt;input type=&quot;submit&quot; name=&quot;action&quot; value=&quot;&#39;</span>.$make.<span class="stringliteral">&#39; Entry&quot; /&gt;&#39;</span>.
          <span class="stringliteral">&#39;&lt;/td&gt;&#39;</span>.
          <span class="stringliteral">&#39;&lt;td width=&quot;33%&quot; align=&quot;center&quot;&gt;&#39;</span>.
            <span class="stringliteral">&#39;&lt;input type=&quot;submit&quot; name=&quot;action&quot; value=&quot;Preview&quot; /&gt;&#39;</span>.
          <span class="stringliteral">&#39;&lt;/td&gt;&#39;</span>.
        <span class="stringliteral">&#39;&lt;/tr&gt;&#39;</span>.
      <span class="stringliteral">&#39;&lt;/table&gt;&#39;</span>
  );
    
  <a class="code" href="classDiscussion.html#ab77095c28fb25c157458ca6dbbfda4f3">TEXT</a>(<span class="stringliteral">&#39;&lt;input type=&quot;hidden&quot; name=&quot;editing&quot; value=&quot;&#39;</span>.$self-&gt;{inputs}{editing}.<span class="stringliteral">&#39;&quot; /&gt;&#39;</span>)
    if $self-&gt;{inputs}{editing};

}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aa4d6bdca30f1a6626fb4a76de6bded13"></a><!-- doxytag: member="Discussion::dataFilePath" ref="aa4d6bdca30f1a6626fb4a76de6bded13" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::dataFilePath </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-dataFilePath' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-dataFilePath-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-dataFilePath-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-dataFilePath-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in dataFilePath: 12</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#aa4d6bdca30f1a6626fb4a76de6bded13">dataFilePath</a> {
  my $self = shift; my $file = shift;
  $file =~ s!\.pg!!;                      # <span class="keyword">remove</span> trailing .pg
  $file =~ s![^-a-zA-Z0-9._+=/]!!g;       # <span class="keyword">remove</span> unusual characters
  $file =~ s!(^|/)\.\.(/\.\.)*(/|$)!$3!g; # <span class="keyword">remove</span> /../ directories
  $file =~ s!<span class="comment">//+!/!g;                     # remove extra //&#39;s</span>
  $file =~ s!^/+!!;                       # <span class="keyword">remove</span> leading /<span class="stringliteral">&#39;s</span>
<span class="stringliteral">  my $dir = &#39;</span>S09Discussion/<span class="stringliteral">&#39;.$main::setNumber.&#39;</span>/<span class="stringliteral">&#39;.$main::probNum;</span>
<span class="stringliteral">  $dir .= &#39;</span>/<span class="stringliteral">&#39;.$self-&gt;{inputs}{effectiveUser} unless $file =~ m!/!;</span>
<span class="stringliteral"> #$dir .= &#39;</span>/S09All<span class="stringliteral">&#39; unless $file =~ m!/!; </span>
<span class="stringliteral">  return $dir.&#39;</span>/<span class="stringliteral">&#39;.$file;                  # add directory name</span>
<span class="stringliteral">}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="adf5be87aa62a1b4dbff5f7181ec09f17"></a><!-- doxytag: member="Discussion::DeleteEntry" ref="adf5be87aa62a1b4dbff5f7181ec09f17" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::DeleteEntry </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-DeleteEntry' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-DeleteEntry-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-DeleteEntry-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-DeleteEntry-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in DeleteEntry: 31</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#adf5be87aa62a1b4dbff5f7181ec09f17">DeleteEntry</a> {
  my $self = shift; my $really = shift;
  <span class="keywordflow">return</span> <span class="keywordflow">if</span> $self-&gt;{pastDue};
  my $entry = $self-&gt;{inputs}{selected};
  <span class="keywordflow">if</span> ($self-&gt;{<a class="code" href="classDiscussion.html#a7637fd6e363276a315477c8d4028aa6e">isProfessor</a>} || ($self-&gt;{allowStudentEdits} &amp;&amp; $self-&gt;amAuthor($entry))) {
    <span class="keywordflow">if</span> ($really) {
      my @entries = @{$self-&gt;{localEntries}};
      <span class="keywordflow">foreach</span> my $i (0..$#entries) {
        <span class="keywordflow">if</span> ($entry eq $entries[$i]) {
      splice @entries, $i, 1;
          my $text = scalar(@entries) ? join(<span class="stringliteral">&quot;\n&quot;</span>,@entries).<span class="stringliteral">&quot;\n&quot;</span> : <span class="stringliteral">&quot;&quot;</span>;
      $self-&gt;Write(<span class="stringliteral">&quot;entries&quot;</span>,$text);
      $self-&gt;Append(<span class="stringliteral">&quot;deleted&quot;</span>,$entry.<span class="stringliteral">&quot;\n&quot;</span>);
      $self-&gt;getEntries;
      <span class="keywordflow">return</span> $entries[$i] <span class="keywordflow">if</span> $entries[$i];
      <span class="keywordflow">return</span> $entries[$i-1];
    }
      }
    } <span class="keywordflow">else</span> {
      $self-&gt;Panel(
        <span class="keywordtype">id</span> =&gt; <span class="stringliteral">&#39;Confirmation&#39;</span>,
        title =&gt; <span class="stringliteral">&#39;Confirmation:&#39;</span>,
        html =&gt; <span class="stringliteral">&#39;Really delete this entry?&#39;</span>,
        footer =&gt; 
          <span class="stringliteral">&#39;&lt;div class=&quot;YesNo&quot;&gt;&#39;</span>.
            <span class="stringliteral">&#39;&lt;input type=&quot;submit&quot; name=&quot;action&quot; value=&quot;No&quot; /&gt; &#39;</span>.
            <span class="stringliteral">&#39;&lt;input type=&quot;submit&quot; name=&quot;action&quot; value=&quot;Yes&quot; /&gt; &#39;</span>.
          <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>
      );
    }
  }
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a1ae6476abdbc84e85e79bbcaaa036363"></a><!-- doxytag: member="Discussion::draw" ref="a1ae6476abdbc84e85e79bbcaaa036363" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::draw </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-draw' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-draw-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-draw-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-draw-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in draw: 1</span>
<span class="preprocessor">sub draw {shift-&gt;{data}}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a5f824f938f47d5f992d4af2870ba53b6"></a><!-- doxytag: member="Discussion::EditEntry" ref="a5f824f938f47d5f992d4af2870ba53b6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::EditEntry </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-EditEntry' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-EditEntry-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-EditEntry-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-EditEntry-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in EditEntry: 14</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a5f824f938f47d5f992d4af2870ba53b6">EditEntry</a> {
  my $self = shift;
  my $entry = $self-&gt;{inputs}{selected};
  <span class="keywordflow">if</span> ($self-&gt;{<a class="code" href="classDiscussion.html#a7637fd6e363276a315477c8d4028aa6e">isProfessor</a>} || ($self-&gt;{allowStudentEdits} &amp;&amp; $self-&gt;amAuthor($entry))) {
    $self-&gt;{inputs}{compose} = 1;
    $self-&gt;{inputs}{editing} = $entry;
    my $text = $self-&gt;Read($entry);
    $text = $self-&gt;{error} <span class="keywordflow">if</span> $self-&gt;{error};
    $self-&gt;{inputs}{entry} = $text;
  } <span class="keywordflow">else</span> {
    $entry = $self-&gt;firstEntry unless $entry;
  }
  <span class="keywordflow">return</span> $entry;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a43cd42c09d34002992e74ea5f54a0124"></a><!-- doxytag: member="Discussion::End" ref="a43cd42c09d34002992e74ea5f54a0124" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::End </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-End' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-End-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-End-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-End-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in End: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a43cd42c09d34002992e74ea5f54a0124">End</a> {
  <a class="code" href="classDiscussion.html#ab77095c28fb25c157458ca6dbbfda4f3">TEXT</a>(<span class="stringliteral">&#39;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#39;</span>);
  <a class="code" href="classDiscussion.html#ab77095c28fb25c157458ca6dbbfda4f3">TEXT</a>(<span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ab5d90b0a20b323b0b80a52ef5127e3bd"></a><!-- doxytag: member="Discussion::EntryPanel" ref="ab5d90b0a20b323b0b80a52ef5127e3bd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::EntryPanel </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-EntryPanel' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-EntryPanel-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-EntryPanel-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-EntryPanel-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in EntryPanel: 57</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#ab5d90b0a20b323b0b80a52ef5127e3bd">EntryPanel</a> {
  my $self = shift;
  my $selected = shift || $self-&gt;{selected} || 0;
  my $url = $self-&gt;getURL(<span class="stringliteral">&#39;effectiveUser&#39;</span>).<span class="stringliteral">&#39;go=&#39;</span>;

  my @rows; my $row; my $si = -1;
  <span class="keywordflow">foreach</span> my $entry (@{$self-&gt;{entries}}) {
    my ($name,$user) = $self-&gt;ParseEntryName($entry);
    my ($new,$NEW) = ($self-&gt;isNew($entry) ? ($self-&gt;{newMark},<span class="stringliteral">&#39; class=&quot;new&quot;&#39;</span>) : (<span class="stringliteral">&quot;&quot;</span>,<span class="stringliteral">&quot;&quot;</span>));
    <span class="keywordflow">if</span> ($si &lt; 0 &amp;&amp; $entry eq $selected) {
      $row = <span class="stringliteral">&#39;&lt;tr&gt;&#39;</span>
           . <span class="stringliteral">&#39;&lt;td align=&quot;right&quot;&gt;&#39;</span>.$self-&gt;{selectMark}.<span class="stringliteral">&#39;&lt;/td&gt;&#39;</span>
       . <span class="stringliteral">&quot;&lt;td$NEW&gt;$name ($user)$new&lt;/td&gt;&quot;</span>
       . <span class="stringliteral">&#39;&lt;/tr&gt;&#39;</span>;
      $si = scalar(@rows);
    } <span class="keywordflow">else</span> {
      $row = <span class="stringliteral">&#39;&lt;tr&gt;&#39;</span>
       . <span class="stringliteral">&#39;&lt;td&gt;&lt;/td&gt;&#39;</span>
       . qq!&lt;td$NEW&gt;&lt;a href=<span class="stringliteral">&quot;$url$entry&quot;</span>&gt;$name&lt;/a&gt; ($user)$new&lt;/td&gt;!
           . <span class="stringliteral">&#39;&lt;/tr&gt;&#39;</span>;
    }
    push(@rows,$row);
  }

  my ($UP,$DOWN,$VIEW,$COMPOSE) = (<span class="stringliteral">&quot;&quot;</span>,<span class="stringliteral">&quot;&quot;</span>,<span class="stringliteral">&quot;&quot;</span>,<span class="stringliteral">&quot;&quot;</span>);
  $UP   = <span class="stringliteral">&quot; disabled&quot;</span> unless $si &gt; 0;
  $DOWN = <span class="stringliteral">&quot; disabled&quot;</span> unless $si &gt;= 0 &amp;&amp; $si &lt; $#rows;
  $VIEW = <span class="stringliteral">&quot; disabled&quot;</span> unless @rows;
  push(@rows,<span class="stringliteral">&#39;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;i&gt;You have not made any entries yet.&lt;/i&gt;&lt;/td&gt;&lt;/tr&gt;&#39;</span>) unless @rows;
  $COMPOSE = &quot; disabled&quot; if $self-&gt;{pastDue};

  my $nextprev = <span class="stringliteral">&quot;&quot;</span>;
  $nextprev .= <span class="stringliteral">&#39;&lt;input type=&quot;hidden&quot; name=&quot;next&quot; value=&quot;&#39;</span>.$self-&gt;{entries}[$si-1].<span class="stringliteral">&#39;&quot; /&gt;&#39;</span> <span class="keywordflow">if</span> $si &gt; 0;
  $nextprev .= <span class="stringliteral">&#39;&lt;input type=&quot;hidden&quot; name=&quot;prev&quot; value=&quot;&#39;</span>.$self-&gt;{entries}[$si+1].<span class="stringliteral">&#39;&quot; /&gt;&#39;</span> <span class="keywordflow">if</span> $si &lt; $#rows &amp;&amp; $si &gt;= 0;

  <a class="code" href="classDiscussion.html#ab77095c28fb25c157458ca6dbbfda4f3">TEXT</a>(<span class="stringliteral">&#39;&lt;input type=&quot;hidden&quot; name=&quot;selected&quot; value=&quot;&#39;</span>.$selected.<span class="stringliteral">&#39;&quot; /&gt;&#39;</span>) if $si &gt;= 0;

  $self-&gt;<a class="code" href="classDiscussion.html#a13fed651908c24aaff925ee8c96aae2b">Panel</a>(
    <span class="keywordtype">id</span> =&gt; &#39;Entries&#39;,
    title =&gt; ($self-&gt;{<a class="code" href="classDiscussion.html#a7637fd6e363276a315477c8d4028aa6e">isProfessor</a>} ? <span class="stringliteral">&#39;Global Entries:&#39;</span> : <span class="stringliteral">&#39;Entries:&#39;</span>),
    html =&gt; 
      <span class="stringliteral">&#39;&lt;table border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;&#39;</span>.
        <span class="stringliteral">&#39;&lt;tr valign=&quot;center&quot;&gt;&lt;td&gt;&#39;</span>.
          <span class="stringliteral">&#39;&lt;input type=&quot;submit&quot; name=&quot;goNext&quot; value=&quot;&#39;</span>.$self-&gt;{upArrow}.<span class="charliteral">&#39;&quot;&#39;</span>.$UP.<span class="stringliteral">&#39; /&gt;&lt;br /&gt;&#39;</span>.
          <span class="stringliteral">&#39;&lt;input type=&quot;submit&quot; name=&quot;goPrev&quot; value=&quot;&#39;</span>.$self-&gt;{downArrow}.<span class="charliteral">&#39;&quot;&#39;</span>.$DOWN.<span class="stringliteral">&#39; /&gt;&#39;</span>.
          $nextprev.
        <span class="stringliteral">&#39;&lt;/td&gt;&lt;td align=&quot;center&quot;&gt;&#39;</span>.
          <span class="stringliteral">&#39;&lt;hr width=&quot;90%&quot; /&gt;&#39;</span>.
          <span class="stringliteral">&#39;&amp;nbsp; &lt;input type=&quot;submit&quot; name=&quot;action&quot; value=&quot;Compose&quot;&#39;</span>.$COMPOSE.<span class="stringliteral">&#39; /&gt; &amp;nbsp; &#39;</span>.
          <span class="stringliteral">&#39;&lt;input type=&quot;submit&quot; name=&quot;action&quot; value=&quot;View All&quot;&#39;</span>.$VIEW.<span class="stringliteral">&#39; /&gt; &amp;nbsp;&#39;</span>.
          <span class="stringliteral">&#39;&lt;hr width=&quot;90%&quot; /&gt;&#39;</span>.
        <span class="stringliteral">&#39;&lt;/td&gt;&lt;/tr&gt;&#39;</span>.
        <span class="stringliteral">&#39;&lt;tr&gt;&lt;td height=&quot;3&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&#39;</span>.
        join(<span class="stringliteral">&#39;&#39;</span>,@rows).
      <span class="stringliteral">&#39;&lt;/table&gt;&#39;</span>
  );
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a6159e41b1c832c9216f79a6ab56ffe0c"></a><!-- doxytag: member="Discussion::firstEntry" ref="a6159e41b1c832c9216f79a6ab56ffe0c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::firstEntry </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-firstEntry' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-firstEntry-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-firstEntry-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-firstEntry-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in firstEntry: 7</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a6159e41b1c832c9216f79a6ab56ffe0c">firstEntry</a> {
  my $self = shift;
  <span class="keywordflow">return</span> unless $self-&gt;{entries} &amp;&amp; scalar(@{$self-&gt;{entries}});
  my @unread = keys %{$self-&gt;{newEntries}};
  <span class="keywordflow">return</span> $self-&gt;{entries}[0] unless scalar(@unread);
  <span class="keywordflow">return</span> (main::PGsort(\&amp;<a class="code" href="classDiscussion.html#a2616bef436d2e82920e6c79226027127">sortEntries</a>,@unread))[-1];
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ac86392dd19609d6d0315512642350436"></a><!-- doxytag: member="Discussion::getAlreadCount" ref="ac86392dd19609d6d0315512642350436" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::getAlreadCount </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getAlreadCount' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-getAlreadCount-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getAlreadCount-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getAlreadCount-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in getAlreadCount: 9</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#ac86392dd19609d6d0315512642350436">getAlreadCount</a> {
  my $self = shift; my $student = shift;
  my $user = $self-&gt;{inputs}{user};
  my $text = $self-&gt;Read(<span class="stringliteral">&quot;$student/entries&quot;</span>);
  <span class="keywordflow">return</span> 0 unless defined $text;
  my %alread;
  <span class="keywordflow">foreach</span> my $entry (split(/\n/,$text)) {$alread{$entry} = 1}
  <span class="keywordflow">return</span> scalar(keys %alread);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a5f72e859ec7c525438ac9f9621cbfde9"></a><!-- doxytag: member="Discussion::getEntries" ref="a5f72e859ec7c525438ac9f9621cbfde9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::getEntries </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getEntries' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-getEntries-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getEntries-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getEntries-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in getEntries: 13</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a5f72e859ec7c525438ac9f9621cbfde9">getEntries</a> {
  my $self = shift; my @entries = ();
  my $text = $self-&gt;Read(<span class="stringliteral">&quot;entries&quot;</span>);
  push(@entries,split(/\n/,$text)) if defined($text);
  $self-&gt;{localEntries} = [main::PGsort(\&amp;<a class="code" href="classDiscussion.html#a2616bef436d2e82920e6c79226027127">sortEntries</a>,@entries)];
  <span class="keywordflow">if</span> ($self-&gt;{isActing} || !$self-&gt;{<a class="code" href="classDiscussion.html#a7637fd6e363276a315477c8d4028aa6e">isProfessor</a>}) {
    <span class="keywordflow">foreach</span> my $prof (@main::ProfessorIds) {
      $text = $self-&gt;Read($prof.<span class="stringliteral">&#39;/entries&#39;</span>);
      push(@entries,split(/\n/,$text)) if defined($text);
    }
  }
  $self-&gt;{entries} = [main::PGsort(\&amp;<a class="code" href="classDiscussion.html#a2616bef436d2e82920e6c79226027127">sortEntries</a>, @entries)];
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a91c45d427013a702edaa37ef4780d3fa"></a><!-- doxytag: member="Discussion::getNewEntries" ref="a91c45d427013a702edaa37ef4780d3fa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::getNewEntries </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getNewEntries' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-getNewEntries-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getNewEntries-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getNewEntries-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in getNewEntries: 11</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a91c45d427013a702edaa37ef4780d3fa">getNewEntries</a> {
  my $self = shift; my $user = $self-&gt;{inputs}{user};
  my @read = (); my %unread; my %alread;
  my $text = $self-&gt;Read(<span class="stringliteral">&quot;read-&quot;</span>.$user);
  push(@read,split(/\n/,$text)) if defined($text);
  foreach my $entry (@{$self-&gt;{entries}}) {$unread{$entry} = 1 unless $entry =~ m/-$user$/o}
  <span class="keywordflow">foreach</span> my $entry (@read) {$alread{$entry} = 1 unless $entry =~ m/-$user$/o}
  <span class="keywordflow">foreach</span> my $entry (@read) {<span class="keyword">delete</span> $unread{$entry}}
  $self-&gt;{newEntries} = \%unread;
  $self-&gt;{oldEntries} = \%alread;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a93b7020383481cac37f760ded1fb2518"></a><!-- doxytag: member="Discussion::getProfessors" ref="a93b7020383481cac37f760ded1fb2518" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::getProfessors </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getProfessors' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-getProfessors-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getProfessors-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getProfessors-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in getProfessors: 11</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a93b7020383481cac37f760ded1fb2518">getProfessors</a> {
  my $self = shift;
  <span class="keywordflow">if</span> (!defined(@main::ProfessorIds)) {
    my $profFile = <a class="code" href="classmain.html#aa06734e89a497fdd530c567b450f28c2">main::findMacroFile</a>($self-&gt;{profFile});
    <span class="keywordflow">return</span> unless $profFile;
    my ($text,$error) = main::PG_restricted_eval(<span class="stringliteral">&quot;read_whole_file(&#39;$profFile&#39;)&quot;</span>);
    <span class="keywordflow">return</span> unless $text;
    main::PG_restricted_eval($$text);
    <span class="keywordflow">return</span> unless defined(@main::ProfessorIds);
  }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ac8ca5feb0596a1381f811633e0a00415"></a><!-- doxytag: member="Discussion::getStudents" ref="ac8ca5feb0596a1381f811633e0a00415" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::getStudents </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getStudents' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-getStudents-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getStudents-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getStudents-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in getStudents: 12</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#ac8ca5feb0596a1381f811633e0a00415">getStudents</a> {
  my $self = shift;
  <span class="keywordflow">if</span> (!defined(@main::StudentIds)) {
    @main::StudentIds = ();
    my $studentFile = <a class="code" href="classmain.html#aa06734e89a497fdd530c567b450f28c2">main::findMacroFile</a>($self-&gt;{studentFile});
    <span class="keywordflow">if</span> (!$studentFile) {warn <span class="stringliteral">&quot;You must provide a &#39;$self-&gt;{studentFile}&#39; file&quot;</span>; <span class="keywordflow">return</span>}
    my ($text,$error) = main::PG_restricted_eval(<span class="stringliteral">&quot;read_whole_file(&#39;$studentFile&#39;)&quot;</span>);
    <span class="keywordflow">if</span> ($error) {warn <span class="stringliteral">&quot;There was an error reading your &#39;$self-&gt;{studentFile}&#39; file:&lt;br /&gt;&quot;</span>.$error; <span class="keywordflow">return</span>}
    ($text,$error) = main::PG_restricted_eval($$text);
    <span class="keywordflow">if</span> ($error) {warn <span class="stringliteral">&quot;There was an error executing your &#39;$self-&gt;{studentFile}&#39; file:&lt;br /&gt;&quot;</span>.$error; <span class="keywordflow">return</span>}
  }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aad54276ee7968bdccd540d69525fa02f"></a><!-- doxytag: member="Discussion::getUnreadCount" ref="aad54276ee7968bdccd540d69525fa02f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::getUnreadCount </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getUnreadCount' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-getUnreadCount-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getUnreadCount-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getUnreadCount-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in getUnreadCount: 11</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#aad54276ee7968bdccd540d69525fa02f">getUnreadCount</a> {
  my $self = shift; my $student = shift;
  my $user = $self-&gt;{inputs}{user};
  my $text = $self-&gt;Read(<span class="stringliteral">&quot;$student/entries&quot;</span>);
  <span class="keywordflow">return</span> 0 unless defined $text;
  my %unread; 
  <span class="keywordflow">foreach</span> my $entry (split(/\n/,$text)) {$unread{$entry} = 1 unless $entry =~ m/-$user$/o}
  $text = $self-&gt;Read(<span class="stringliteral">&quot;$student/read-$user&quot;</span>);
  <span class="keywordflow">if</span> (defined($text)) {<span class="keywordflow">foreach</span> my $entry (split(/\n/,$text)) {<span class="keyword">delete</span> $unread{$entry}}}
  <span class="keywordflow">return</span> scalar(keys %unread);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a971b1cbce66df955400123920ea99a31"></a><!-- doxytag: member="Discussion::getURL" ref="a971b1cbce66df955400123920ea99a31" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::getURL </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getURL' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-getURL-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getURL-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getURL-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in getURL: 8</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a971b1cbce66df955400123920ea99a31">getURL</a> {
  my $self = shift; my $url = <span class="stringliteral">&quot;?&quot;</span>;
  <span class="keywordflow">foreach</span> my $id (<span class="stringliteral">&#39;key&#39;</span>,<span class="stringliteral">&#39;displayMode&#39;</span>,<span class="stringliteral">&#39;user&#39;</span>,@_) {
    $url .= <span class="stringliteral">&quot;$id=$self-&gt;{inputs}{$id}&amp;&quot;</span>
      <span class="keywordflow">if</span> defined $self-&gt;{inputs}{$id} &amp;&amp; $self-&gt;{inputs}{$id} ne <span class="stringliteral">&#39;&#39;</span>;
  }
  <span class="keywordflow">return</span> $url;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a8061fe36f3bed125b82dfadddb1d3d05"></a><!-- doxytag: member="Discussion::Grader" ref="a8061fe36f3bed125b82dfadddb1d3d05" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::Grader </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-Grader' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-Grader-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-Grader-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-Grader-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in Grader: 9</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a8061fe36f3bed125b82dfadddb1d3d05">Grader</a> {
  my $self = shift;
  my $grader = $main::PG_FLAGS{PROBLEM_GRADER_TO_USE} || \&amp;<a class="code" href="classmain.html#ae4a37aefa853d9d70b429a4317ee293b">main::avg_problem_grader</a>;
  <a class="code" href="classmain.html#a9bcb5802e999970d22a45177b9aaf546">main::install_problem_grader</a>(sub {
    my ($result,$state) = &amp;{$grader}(@_);
    $state-&gt;{state_summary_msg} = $self-&gt;{graderSummary};
    <span class="keywordflow">return</span> ($result,$state);
  });
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aac99505db690b97e09829d84dcd9c249"></a><!-- doxytag: member="Discussion::Hardcopy" ref="aac99505db690b97e09829d84dcd9c249" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::Hardcopy </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-Hardcopy' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-Hardcopy-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-Hardcopy-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-Hardcopy-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in Hardcopy: 18</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#aac99505db690b97e09829d84dcd9c249">Hardcopy</a> {
  my $self = shift;
  $self-&gt;{inputs} = $main::inputs_ref;
  $self-&gt;getProfessors;
  $self-&gt;getEntries;
  <span class="keywordflow">for</span> (my $i = scalar(@{$self-&gt;{entries}})-1; $i &gt;= 0; $i--) {
    $entry = $self-&gt;{entries}[$i];
    my ($name,$user) = $self-&gt;ParseEntryName($entry);
    my $text = $self-&gt;Read($entry);
    $text = $self-&gt;{error} <span class="keywordflow">if</span> $self-&gt;{error};
    $text =~ s/(^|\n)==locked==$<span class="comment">//;</span>
    $text = <a class="code" href="classmain.html#a01b7b1d1eb638041ac9c41461cb620d3">main::EV3P</a>({processCommands=&gt;0,processVariables=&gt;0},main::text2PG($text));
    <a class="code" href="classDiscussion.html#ab77095c28fb25c157458ca6dbbfda4f3">TEXT</a>(<span class="stringliteral">&#39;\par\goodbreak\vskip\baselineskip&#39;</span>.
         $self-&gt;hardcopyTitle(<span class="stringliteral">&quot;$name ($user)&quot;</span>).
        <span class="stringliteral">&#39;\nobreak\vskip-.5\parskip\noindent &#39;</span>);
    <a class="code" href="classDiscussion.html#ab77095c28fb25c157458ca6dbbfda4f3">TEXT</a>($text);
  }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aff3aa7e062643b2ac4112458f8e574ae"></a><!-- doxytag: member="Discussion::hardcopyTitle" ref="aff3aa7e062643b2ac4112458f8e574ae" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::hardcopyTitle </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-hardcopyTitle' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-hardcopyTitle-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-hardcopyTitle-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-hardcopyTitle-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in hardcopyTitle: 10</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#aff3aa7e062643b2ac4112458f8e574ae">hardcopyTitle</a> {
  my $self = shift; my $title = shift;
  $title = main::text2PG($title,doubleSlashes=&gt;0);
  <span class="keywordflow">return</span> <span class="stringliteral">&#39;\hbox{\vrule\vbox{&#39;</span>.
           <span class="stringliteral">&#39;\hrule\kern1pt\hrule\kern2pt&#39;</span>.
           <span class="stringliteral">&#39;\hbox to\hsize{&#39;</span>.
             <span class="stringliteral">&#39;\hss\strut{&#39;</span>.$title.<span class="stringliteral">&#39;}\hss&#39;</span>.
           <span class="stringliteral">&#39;}\kern2pt\hrule&#39;</span>.
     <span class="stringliteral">&#39;}\vrule}&#39;</span>;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a8d0371e2e65bee40841885265228f980"></a><!-- doxytag: member="Discussion::imageName" ref="a8d0371e2e65bee40841885265228f980" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::imageName </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-imageName' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-imageName-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-imageName-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-imageName-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in imageName: 1</span>
<span class="preprocessor">sub imageName {shift-&gt;{file}}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a577aea5d572bda6f7d0e1c96598d9e97"></a><!-- doxytag: member="Discussion::isNew" ref="a577aea5d572bda6f7d0e1c96598d9e97" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::isNew </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-isNew' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-isNew-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-isNew-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-isNew-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in isNew: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a577aea5d572bda6f7d0e1c96598d9e97">isNew</a> {
  my $self = shift; my $entry = shift;
  <span class="keywordflow">return</span> $self-&gt;{newEntries}{$entry};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a7637fd6e363276a315477c8d4028aa6e"></a><!-- doxytag: member="Discussion::isProfessor" ref="a7637fd6e363276a315477c8d4028aa6e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::isProfessor </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-isProfessor' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-isProfessor-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-isProfessor-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-isProfessor-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in isProfessor: 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a7637fd6e363276a315477c8d4028aa6e">isProfessor</a> {
  my $self = shift;
  my $user = $main::inputs_ref-&gt;{user};
  <span class="keywordflow">foreach</span> my $prof (@main::ProfessorIds) {<span class="keywordflow">return</span> 1 <span class="keywordflow">if</span> $prof eq $user}
  <span class="keywordflow">return</span> 0;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a4b7801c1e676e1709dde6f8bdea48fe2"></a><!-- doxytag: member="Discussion::MakeEntry" ref="a4b7801c1e676e1709dde6f8bdea48fe2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::MakeEntry </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-MakeEntry' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-MakeEntry-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-MakeEntry-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-MakeEntry-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in MakeEntry: 23</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a4b7801c1e676e1709dde6f8bdea48fe2">MakeEntry</a> {
  my $self = shift;
  <span class="keywordflow">return</span> <span class="keywordflow">if</span> $self-&gt;{pastDue};
  my $text = $self-&gt;{inputs}{entry};
  <span class="keywordflow">if</span> (!defined($text) || $text !~ m/\S/) {
    $self-&gt;Panel(
      <span class="keywordtype">id</span> =&gt; <span class="stringliteral">&#39;Error&#39;</span>,
      title =&gt; <span class="stringliteral">&#39;Error:&#39;</span>,
      html =&gt; <span class="stringliteral">&quot;You can&#39;t save a blank entry!&quot;</span>
    );
    <span class="keyword">delete</span> $self-&gt;{inputs}{entry};
    <span class="keywordflow">return</span> $self-&gt;{inputs}{selected};
  }
  <span class="keyword">delete</span> $self-&gt;{inputs}{compose};
  my $user = $self-&gt;{inputs}{effectiveUser};
  my $name = $self-&gt;{inputs}{editing} || ($user.<span class="charliteral">&#39;/&#39;</span>.time().<span class="charliteral">&#39;-&#39;</span>.($self-&gt;{inputs}{user}||$user));
  $self-&gt;Write($name,$text);
  <span class="keywordflow">if</span> (!$self-&gt;{inputs}{editing}) {
    $self-&gt;Append(<span class="stringliteral">&quot;entries&quot;</span>,$name.<span class="stringliteral">&quot;\n&quot;</span>);
    unshift(@{$self-&gt;{entries}},$name);
  }
  <span class="keywordflow">return</span> $name;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a23e1a48dda8953d6d3fabb2ea535fd15"></a><!-- doxytag: member="Discussion::Middle" ref="a23e1a48dda8953d6d3fabb2ea535fd15" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::Middle </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-Middle' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-Middle-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-Middle-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-Middle-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in Middle: 3</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a23e1a48dda8953d6d3fabb2ea535fd15">Middle</a> {
  <a class="code" href="classDiscussion.html#ab77095c28fb25c157458ca6dbbfda4f3">TEXT</a>(<span class="stringliteral">&#39;&lt;/td&gt;&lt;td id=&quot;rightPane&quot;&gt;&#39;</span>);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a4ef3dfaacb44624fcb82e31e5b919640"></a><!-- doxytag: member="Discussion::new" ref="a4ef3dfaacb44624fcb82e31e5b919640" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::new </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-new' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-new-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-new-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-new-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in new: 12</span>
<span class="preprocessor"></span>sub <span class="keyword">new</span> {
  my $self = shift; my $class = ref($self) || $self;
  my $discussion = bless {%discussion,@_}, $class;
  $main::inputs_ref-&gt;{user} = $main::studentLogin unless defined $main::inputs_ref-&gt;{user};
  $main::inputs_ref-&gt;{effectiveUser} = $main::studentLogin unless defined $main::inputs_ref-&gt;{effectiveUser};
  $discussion-&gt;getProfessors;
  $discussion-&gt;{isActing} = ($main::inputs_ref-&gt;{user} ne $main::inputs_ref-&gt;{effectiveUser});
  $discussion-&gt;{<a class="code" href="classDiscussion.html#a7637fd6e363276a315477c8d4028aa6e">isProfessor</a>} = $discussion-&gt;{isActing} || $discussion-&gt;isProfessor;
  $discussion-&gt;{isSuperProf} = (defined($main::SuperProf) &amp;&amp; $main::SuperProf eq $main::inputs_ref-&gt;{user});
  $discussion-&gt;{pastDue} = (time() &gt; $main::dueDate) &amp;&amp; !$self-&gt;{<a class="code" href="classDiscussion.html#a7637fd6e363276a315477c8d4028aa6e">isProfessor</a>};
  <span class="keywordflow">return</span> $discussion;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a20240fed8e732443176a2352814b7336"></a><!-- doxytag: member="Discussion::OptionPanel" ref="a20240fed8e732443176a2352814b7336" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::OptionPanel </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-OptionPanel' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-OptionPanel-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-OptionPanel-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-OptionPanel-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in OptionPanel: 9</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a20240fed8e732443176a2352814b7336">OptionPanel</a> {
  my $self = shift;
  <span class="keywordflow">return</span> unless ($self-&gt;{<a class="code" href="classDiscussion.html#a7637fd6e363276a315477c8d4028aa6e">isProfessor</a>} &amp;&amp; !$self-&gt;{isActing}) || $self-&gt;{isSuperProf};
  $self-&gt;Panel(
    <span class="keywordtype">id</span> =&gt; <span class="stringliteral">&#39;Options&#39;</span>,
    title =&gt; <span class="stringliteral">&#39;Options:&#39;</span>,
    html =&gt; <span class="stringliteral">&#39;&lt;input type=&quot;submit&quot; name=&quot;action&quot; value=&quot;Show Student Array&quot;&gt;&#39;</span>,
  );
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a13fed651908c24aaff925ee8c96aae2b"></a><!-- doxytag: member="Discussion::Panel" ref="a13fed651908c24aaff925ee8c96aae2b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::Panel </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-Panel' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-Panel-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-Panel-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-Panel-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in Panel: 32</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a13fed651908c24aaff925ee8c96aae2b">Panel</a> {
  my $self = shift;
  my %options = (
    <span class="keyword">class </span>=&gt; &#39;&#39;,
    id =&gt; <span class="stringliteral">&quot;Information&quot;</span>,
    title =&gt; <span class="stringliteral">&quot;Information:&quot;</span>,
    box =&gt; <span class="stringliteral">&#39;&#39;</span>,
    header =&gt; <span class="stringliteral">&#39;&#39;</span>,
    text =&gt; <span class="stringliteral">&#39;&#39;</span>,
    html =&gt; <span class="stringliteral">&#39;&#39;</span>,
    footer =&gt; <span class="stringliteral">&#39;&#39;</span>,
    @_,
  );
  my $preview = <a class="code" href="classmain.html#a01b7b1d1eb638041ac9c41461cb620d3">main::EV3P</a>({processCommands=&gt;0,processVariables=&gt;0},main::text2PG($options{text}));
  <a class="code" href="classDiscussion.html#ab77095c28fb25c157458ca6dbbfda4f3">TEXT</a>(
    ($options{<span class="keyword">class</span>} ? <span class="stringliteral">&#39;&lt;div class=&quot;&#39;</span>.$options{<span class="keyword">class</span>}.<span class="stringliteral">&#39;&quot;&gt;&#39;</span> : <span class="stringliteral">&#39;&lt;div&gt;&#39;</span>).
      <span class="stringliteral">&#39;&lt;div class=&quot;outerFrame&quot; id=&quot;&#39;</span>.$options{<span class="keywordtype">id</span>}.<span class="stringliteral">&#39;&quot;&gt;&#39;</span>.
        $options{box}.
        <span class="stringliteral">&#39;&lt;div class=&quot;heading&quot;&gt;&#39;</span>.$options{title}.<span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>.
        <span class="stringliteral">&#39;&lt;div class=&quot;innerFrame&quot;&gt;&#39;</span>.
          $options{header}.
          $preview.
          $options{html}.
          $options{footer}.
        <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>.
      <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>.
      <span class="stringliteral">&#39;&lt;br clear=&quot;all&quot; /&gt;&#39;</span>.
      <span class="stringliteral">&#39;&lt;input type=&quot;hidden&quot; name=&quot;&#39;</span>.lc($options{<span class="keywordtype">id</span>}).<span class="stringliteral">&#39;&quot; value=&quot;1&quot; /&gt;&#39;</span>.
    <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>
  );
  
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a15ab5ab67aab906369d54ede92fbe13e"></a><!-- doxytag: member="Discussion::ParseEntryName" ref="a15ab5ab67aab906369d54ede92fbe13e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::ParseEntryName </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-ParseEntryName' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-ParseEntryName-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-ParseEntryName-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-ParseEntryName-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in ParseEntryName: 8</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a15ab5ab67aab906369d54ede92fbe13e">ParseEntryName</a> {
  my $self = shift;
  my ($dir,$time,$user) = split(<span class="stringliteral">&#39;[-/]&#39;</span>,shift);
  my ($sec,$min,$hour,$mday,$mon,$year) = localtime($time);
  my $name = <a class="code" href="classmain.html#a1a9a1ce6369dcdbba8c58f88d00460c5">main::spf</a>($year+1900,<span class="stringliteral">&quot;%04d&quot;</span>).<span class="stringliteral">&quot;-&quot;</span>.<a class="code" href="classmain.html#a1a9a1ce6369dcdbba8c58f88d00460c5">main::spf</a>($mon+1,<span class="stringliteral">&quot;%02d&quot;</span>).<span class="stringliteral">&quot;-&quot;</span>.<a class="code" href="classmain.html#a1a9a1ce6369dcdbba8c58f88d00460c5">main::spf</a>($mday+1,<span class="stringliteral">&quot;%02d&quot;</span>).<span class="stringliteral">&quot; &quot;</span>
           . <a class="code" href="classmain.html#a1a9a1ce6369dcdbba8c58f88d00460c5">main::spf</a>($hour,<span class="stringliteral">&quot;%02d&quot;</span>).<span class="stringliteral">&quot;:&quot;</span>.<a class="code" href="classmain.html#a1a9a1ce6369dcdbba8c58f88d00460c5">main::spf</a>($min,<span class="stringliteral">&quot;%02d&quot;</span>);
  <span class="keywordflow">return</span> ($name,$user);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a5ebd94b0b61cef926c1d507c954baec4"></a><!-- doxytag: member="Discussion::Read" ref="a5ebd94b0b61cef926c1d507c954baec4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::Read </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-Read' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-Read-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-Read-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-Read-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in Read: 14</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a5ebd94b0b61cef926c1d507c954baec4">Read</a> {
  my $self = shift; my $filename = shift;
  die <span class="stringliteral">&quot;You must supply a problem file name&quot;</span> unless $filename;
  <span class="keyword">delete</span> $self-&gt;{error};
  $filename = main::surePathToTmpFile(<span class="stringliteral">&#39;gif/&#39;</span>.$self-&gt;dataFilePath($filename).$self-&gt;{extension});
  my ($text,$error) = main::PG_restricted_eval(<span class="stringliteral">&quot;read_whole_file(&#39;$filename&#39;)&quot;</span>);
  <span class="keywordflow">return</span> $$text unless $error;
<span class="preprocessor">  ###  FIXME:  return generic error for students</span>
<span class="preprocessor"></span>  $error =~ s/^.*subroutine:\s*<span class="comment">//s;  # trim extra data inserted by read_whole_file()</span>
  $error =~ s!\s* at .*?<a class="code" href="classWeBWorK.html">WeBWorK</a>/<a class="code" href="classWeBWorK_1_1PG.html">PG</a>/IO.pm line \d+.\s*$!!s;
  $error =~ s!^&lt;BR&gt;!!;
  $self-&gt;{error} = $error;
  <span class="keywordflow">return</span>;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a25d29519a4aa60c48a25596d69f253c8"></a><!-- doxytag: member="Discussion::selectedEntry" ref="a25d29519a4aa60c48a25596d69f253c8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::selectedEntry </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-selectedEntry' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-selectedEntry-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-selectedEntry-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-selectedEntry-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in selectedEntry: 26</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a25d29519a4aa60c48a25596d69f253c8">selectedEntry</a> {
  my $self = shift; my $action = $self-&gt;{action};
  <span class="keywordflow">return</span> <span class="keywordflow">if</span> $action eq <span class="stringliteral">&#39;View All&#39;</span>;
  <span class="keywordflow">if</span> ($action eq <span class="stringliteral">&#39;Clear&#39;</span>) {
    <span class="keyword">delete</span> $self-&gt;{inputs}{entry};
    <span class="keyword">delete</span> $self-&gt;{inputs}{preview};
  }
  <span class="keywordflow">if</span> ($action eq <span class="stringliteral">&#39;Compose&#39;</span> || $action eq <span class="stringliteral">&#39;Respond&#39;</span>) {
    <span class="keyword">delete</span> $self-&gt;{inputs}{entry};
    <span class="keyword">delete</span> $self-&gt;{inputs}{preview};
    <span class="keyword">delete</span> $self-&gt;{inputs}{source};
    <span class="keyword">delete</span> $self-&gt;{inputs}{editing};
    $self-&gt;{inputs}{compose} = 1;
    <span class="keywordflow">return</span> <span class="keywordflow">if</span> $action eq <span class="stringliteral">&#39;Compose&#39;</span>;
  }
  <span class="keywordflow">return</span> $self-&gt;MakeEntry <span class="keywordflow">if</span> $action eq <span class="stringliteral">&#39;Make Entry&#39;</span> || $action eq <span class="stringliteral">&#39;Update Entry&#39;</span>;
  <span class="keywordflow">return</span> $self-&gt;DeleteEntry(0) <span class="keywordflow">if</span> $action eq <span class="stringliteral">&#39;Delete&#39;</span>;
  <span class="keywordflow">return</span> $self-&gt;DeleteEntry(1) <span class="keywordflow">if</span> $action eq <span class="stringliteral">&#39;Yes&#39;</span>;
  <span class="keywordflow">return</span> $self-&gt;EditEntry <span class="keywordflow">if</span> $action eq <span class="stringliteral">&#39;Edit&#39;</span>;
  <span class="keywordflow">return</span> $self-&gt;{inputs}{next} <span class="keywordflow">if</span> $self-&gt;{inputs}{goNext};
  <span class="keywordflow">return</span> $self-&gt;{inputs}{prev} <span class="keywordflow">if</span> $self-&gt;{inputs}{goPrev};
  <span class="keywordflow">return</span> $self-&gt;{inputs}{go} <span class="keywordflow">if</span> $self-&gt;{inputs}{go};
  <span class="keywordflow">return</span> $self-&gt;{inputs}{selected} <span class="keywordflow">if</span> $self-&gt;{inputs}{selected};
  <span class="keywordflow">return</span> <span class="keywordflow">if</span> $action eq <span class="stringliteral">&#39;Clear&#39;</span> || $action eq <span class="stringliteral">&#39;Preview&#39;</span>;
  <span class="keywordflow">return</span> $self-&gt;firstEntry;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="adbcfab4d8a3690a021753ce45fa15ad0"></a><!-- doxytag: member="Discussion::setStyles" ref="adbcfab4d8a3690a021753ce45fa15ad0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::setStyles </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-setStyles' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-setStyles-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-setStyles-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-setStyles-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in setStyles: 8</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#adbcfab4d8a3690a021753ce45fa15ad0">setStyles</a> {
  my $self = shift; my $css;
  <a class="code" href="classDiscussion.html#ab77095c28fb25c157458ca6dbbfda4f3">TEXT</a>(<span class="stringliteral">&#39;&lt;STYLE&gt;.problemHeader {display:none}&lt;/STYLE&gt;&#39;</span>);
  my $cssFile = <a class="code" href="classmain.html#aa06734e89a497fdd530c567b450f28c2">main::findMacroFile</a>($self-&gt;{CSSfile});
<span class="preprocessor">  ### FIXME:  do error checking here</span>
<span class="preprocessor"></span>  $css =  main::read_whole_file($cssFile) if $cssFile;
  <a class="code" href="classDiscussion.html#ab77095c28fb25c157458ca6dbbfda4f3">TEXT</a>(&#39;&lt;style&gt;&#39;.$$css.&#39;&lt;/style&gt;&#39;) if $css;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a261692f128a33119ed1050fd4ba9980c"></a><!-- doxytag: member="Discussion::ShowEntry" ref="a261692f128a33119ed1050fd4ba9980c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::ShowEntry </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-ShowEntry' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-ShowEntry-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-ShowEntry-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-ShowEntry-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in ShowEntry: 53</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a261692f128a33119ed1050fd4ba9980c">ShowEntry</a> {
  my $self = shift; my $entry = shift; my $n = shift || <span class="stringliteral">&quot;&quot;</span>;
  my ($name,$user) = $self-&gt;ParseEntryName($entry);
  my $text = $self-&gt;Read($entry); my $html = <span class="stringliteral">&quot;&quot;</span>;
  my $sourceButton = <span class="stringliteral">&quot;Source&quot;</span>; my $sourceHidden = <span class="stringliteral">&#39;&#39;</span>;
  $text = $self-&gt;{error} <span class="keywordflow">if</span> $self-&gt;{error};
  my $disabled = <span class="stringliteral">&quot;&quot;</span>; $disabled = <span class="stringliteral">&quot; disabled&quot;</span>
     <span class="keywordflow">if</span> (!$self-&gt;{isSuperProf} &amp;&amp; $text =~ s/(^|\n)==locked==$<span class="comment">//) ||</span>
        (!$self-&gt;{<a class="code" href="classDiscussion.html#a7637fd6e363276a315477c8d4028aa6e">isProfessor</a>} &amp;&amp; ($user ne $self-&gt;{inputs}{user} || $self-&gt;{pastDue}));
  <span class="keywordflow">if</span> ($self-&gt;{action} eq <span class="stringliteral">&#39;Source&#39;</span> ||
     ($self-&gt;{action} ne <span class="stringliteral">&#39;Formatted&#39;</span> &amp;&amp; $self-&gt;{inputs}{source})) {
    $html = $text; $text = <span class="stringliteral">&quot;&quot;</span>;
    $html =~ s/&amp;/&amp;amp;/g;
    $html =~ s/&lt;/&amp;lt;/g;
    $html =~ s/&gt;/&amp;gt;/g;
    $html =~ s!\n!&lt;br /&gt;!g;
    $html = <span class="stringliteral">&#39;&lt;code&gt;&#39;</span>.$html.<span class="stringliteral">&#39;&lt;/code&gt;&#39;</span>;
    $sourceButton = <span class="stringliteral">&#39;Formatted&#39;</span>;
    $sourceHidden = <span class="stringliteral">&#39;&lt;input type=&quot;hidden&quot; name=&quot;source&quot; value=&quot;1&quot; /&gt;&#39;</span>;
  }
  my ($LEFT,$RIGHT) = (<span class="stringliteral">&quot;&quot;</span>,<span class="stringliteral">&quot;&quot;</span>);
  $LEFT  = <span class="stringliteral">&quot; disabled&quot;</span> <span class="keywordflow">if</span> $entry eq $self-&gt;{entries}[-1];
  $RIGHT = <span class="stringliteral">&quot; disabled&quot;</span> <span class="keywordflow">if</span> $entry eq $self-&gt;{entries}[0];
  my ($CLASS,$NEW) = ($self-&gt;isNew($entry) ? (<span class="stringliteral">&#39;new&#39;</span>,$self-&gt;{newMark}) : (<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;&#39;</span>));
  $self-&gt;Panel(
    <span class="keyword">class</span> =&gt; $CLASS,
    <span class="keywordtype">id</span> =&gt; <span class="stringliteral">&#39;View&#39;</span>.$n,
    title =&gt; <span class="stringliteral">&quot;$name ($user)$NEW&quot;</span>,
    text =&gt; $text,
    html =&gt; $html,
    header =&gt; ($n ? <span class="stringliteral">&quot;&quot;</span> :
      <span class="stringliteral">&#39;&lt;div class=&quot;view&quot;&gt;&#39;</span>.
        <span class="stringliteral">&#39;&lt;table border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&#39;</span>.
          <span class="stringliteral">&#39;&lt;tr&gt;&lt;td colspan=&quot;3&quot;&gt;&#39;</span>),
    footer =&gt; ($n ? <span class="stringliteral">&quot;&quot;</span> :
      <span class="stringliteral">&#39;&lt;/td&gt;&lt;/tr&gt;&#39;</span>.
          <span class="stringliteral">&#39;&lt;tr&gt;&lt;td colspan=&quot;3&quot;&gt;&lt;hr /&gt;&lt;/td&gt;&lt;/tr&gt;&#39;</span>.
          <span class="stringliteral">&#39;&lt;tr&gt;&lt;td align=&quot;left&quot;&gt;&#39;</span>.
            <span class="stringliteral">&#39;&lt;input type=&quot;submit&quot; name=&quot;action&quot; value=&quot;&#39;</span>.$sourceButton.<span class="stringliteral">&#39;&quot; /&gt;&#39;</span>.
            ($self-&gt;{<a class="code" href="classDiscussion.html#a7637fd6e363276a315477c8d4028aa6e">isProfessor</a>} || $self-&gt;{allowStudentEdits} ? 
              <span class="stringliteral">&#39;&lt;input type=&quot;submit&quot; name=&quot;action&quot; value=&quot;Delete&quot;&#39;</span>.$disabled.<span class="stringliteral">&#39; /&gt;&#39;</span> .
              <span class="stringliteral">&#39;&lt;input type=&quot;submit&quot; name=&quot;action&quot; value=&quot;Edit&quot;&#39;</span>.$disabled.<span class="stringliteral">&#39; /&gt;&#39;</span> : <span class="stringliteral">&quot;&quot;</span>).
          <span class="stringliteral">&#39;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&amp;nbsp;&lt;/td&gt;&lt;td align=&quot;right&quot;&gt;&#39;</span>.
            <span class="stringliteral">&#39;&lt;input type=&quot;submit&quot; name=&quot;action&quot; value=&quot;Respond&quot; /&gt;&#39;</span>.
            <span class="stringliteral">&#39;&lt;input type=&quot;submit&quot; name=&quot;goPrev&quot; value=&quot;&#39;</span>.$self-&gt;{leftArrow}.<span class="charliteral">&#39;&quot;&#39;</span>.$LEFT.<span class="stringliteral">&#39; /&gt;&#39;</span>.
            <span class="stringliteral">&#39;&lt;input type=&quot;submit&quot; name=&quot;goNext&quot; value=&quot;&#39;</span>.$self-&gt;{rightArrow}.<span class="charliteral">&#39;&quot;&#39;</span>.$RIGHT.<span class="stringliteral">&#39; /&gt;&#39;</span>.
          <span class="stringliteral">&#39;&lt;/td&gt;&lt;/tr&gt;&#39;</span>.
        <span class="stringliteral">&#39;&lt;/table&gt;&#39;</span>.$sourceHidden.
      <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>),
  );

  $self-&gt;Append(<span class="stringliteral">&quot;read-&quot;</span>.$self-&gt;{inputs}{user},$entry.<span class="stringliteral">&quot;\n&quot;</span>) <span class="keywordflow">if</span> $self-&gt;isNew($entry);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a9a12555c4328d5c8710850a9d15d8325"></a><!-- doxytag: member="Discussion::ShowStudents" ref="a9a12555c4328d5c8710850a9d15d8325" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::ShowStudents </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-ShowStudents' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-ShowStudents-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-ShowStudents-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-ShowStudents-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in ShowStudents: 33</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a9a12555c4328d5c8710850a9d15d8325">ShowStudents</a> {
  my $self = shift;
  $self-&gt;getStudents;
  my @students = <a class="code" href="PGstringevaluators_8pl.html#afecb0c3af2c82aa9c9f86690091b1566">main::lex_sort</a>(@main::StudentIds);
  my $url = $self-&gt;getURL.<span class="stringliteral">&#39;effectiveUser=&#39;</span>;
  my $n = scalar(@students);
  my $k = int($n/$self-&gt;{columns});
  my $k1 = $n - $k*$self-&gt;{columns};
  my @cols = (); my $m = 0; my $mr = 0;
  <span class="keywordflow">foreach</span> my $i (1..$self-&gt;{columns}) {
    my $one = ($i &lt;= $k1 ? 1 : 0);
    my @col = @students[$m..($m+$k+$one-1)];
    $m += $k+$one;
    <span class="keywordflow">foreach</span> my $student (@col) {
      my $m = $self-&gt;getUnreadCount($student);
      my $mr = $self-&gt;getAlreadCount($student);
      $student = <span class="stringliteral">&#39;&lt;a href=&quot;&#39;</span>.$url.$student.<span class="stringliteral">&#39;&quot;&gt;&#39;</span>.$student.<span class="stringliteral">&#39;&lt;/a&gt;&#39;</span>;
      $student = qq!&lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;new&quot;</span>&gt;$student ($mr)&lt;/span&gt;! <span class="keywordflow">if</span> ($mr &amp;&amp;!$m);
      $student = qq!&lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;red&quot;</span>&gt;$student ($mr)$m&lt;/span&gt;! if ($m &amp;&amp; $mr);
    }
    push(@cols,join(&#39;&lt;br /&gt;&#39;,@col));
  }
  $self-&gt;<a class="code" href="classDiscussion.html#a13fed651908c24aaff925ee8c96aae2b">Panel</a>(
    <span class="keywordtype">id</span> =&gt; &#39;Students&#39;,
    title =&gt; &quot;New Student Messages:&quot;,
    html =&gt;
     &#39;&lt;table border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;&#39;.
       &#39;&lt;tr valign=&quot;top&quot;&gt;&lt;td width=&quot;15&quot;&gt;&lt;/td&gt;&lt;td nowrap&gt;&#39;.
         join(&#39;&lt;/td&gt;&lt;td width=&quot;20&quot;&gt;&lt;/td&gt;&lt;td nowrap&gt;&#39;,@cols).
       &#39;&lt;/td&gt;&lt;td width=&quot;15&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&#39;.
     &#39;&lt;/table&gt;&#39;
  );
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a2616bef436d2e82920e6c79226027127"></a><!-- doxytag: member="Discussion::sortEntries" ref="a2616bef436d2e82920e6c79226027127" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::sortEntries </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-sortEntries' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-sortEntries-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-sortEntries-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-sortEntries-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in sortEntries: 1</span>
<span class="preprocessor">sub sortEntries {(split(&#39;[-/]&#39;,$_[0]))[1] &gt; (split(&#39;[-/]&#39;,$_[1]))[1]}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ab77095c28fb25c157458ca6dbbfda4f3"></a><!-- doxytag: member="Discussion::TEXT" ref="ab77095c28fb25c157458ca6dbbfda4f3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::TEXT </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-TEXT' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-TEXT-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-TEXT-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-TEXT-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in TEXT: 1</span>
<span class="preprocessor">sub TEXT {main::TEXT(@_)}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a910ad5949abba09d4ad36628221b092a"></a><!-- doxytag: member="Discussion::ViewAll" ref="a910ad5949abba09d4ad36628221b092a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::ViewAll </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-ViewAll' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-ViewAll-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-ViewAll-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-ViewAll-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in ViewAll: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#a910ad5949abba09d4ad36628221b092a">ViewAll</a> {
  my $self = shift; my $n = 1;
  <span class="keywordflow">foreach</span> my $entry (@{$self-&gt;{entries}}) {$self-&gt;ShowEntry($entry,$n++)}
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ab0759a5276ed26f55cc2ab0f67798942"></a><!-- doxytag: member="Discussion::Write" ref="ab0759a5276ed26f55cc2ab0f67798942" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Discussion::Write </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-Write' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-Write-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-Write-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-Write-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in Write: 21</span>
<span class="preprocessor"></span>sub <a class="code" href="classDiscussion.html#ab0759a5276ed26f55cc2ab0f67798942">Write</a> {
  my $self = shift; $self-&gt;{file} = shift; $self-&gt;{data} = shift;
  <span class="keywordflow">if</span> ($main::setNumber eq <span class="stringliteral">&#39;Undefined_Set&#39;</span>) {
    <span class="keywordflow">return</span> <span class="keywordflow">if</span> $self-&gt;{undefinedSetWarning};
    $self-&gt;{undefinedSetWarning} = 1;
    $self-&gt;Panel(
      <span class="keywordtype">id</span> =&gt; <span class="stringliteral">&#39;Error&#39;</span>,
      title =&gt; <span class="stringliteral">&#39;Error:&#39;</span>,
      html =&gt; <span class="stringliteral">&quot;You can&#39;t make changes from the Undefined_Set&lt;br /&gt;&quot;</span>
            . <span class="stringliteral">&#39;(i.e., not from the Library Browser or ProblemEditor).&#39;</span>,
    );
    <span class="keywordflow">return</span>;
  }
  die <span class="stringliteral">&quot;You must supply a file name&quot;</span> unless defined $self-&gt;{file};
  $self-&gt;{file} = $self-&gt;dataFilePath($self-&gt;{file});
  $self-&gt;{data} = <span class="stringliteral">&quot;\n&quot;</span> unless defined $self-&gt;{data} &amp;&amp; $self-&gt;{data} ne <span class="stringliteral">&quot;&quot;</span>;
  my $oldRefresh = $main::refreshCachedImages;
  $main::refreshCachedImages = 1;
  <a class="code" href="classmain.html#a987fc9ec14b16fe4f8eabcf00085ab0c">main::insertGraph</a>($self);
  $main::refreshCachedImages = $oldRefresh;
}
</pre></div>  
</div>
 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="answerDiscussion_8pl_source.html">answerDiscussion.pl</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Jun 8 22:54:56 2012 for PG by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
