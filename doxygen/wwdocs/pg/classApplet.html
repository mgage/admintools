<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PG: Applet Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Applet Class Reference</h1><!-- doxytag: class="Applet" -->
<p><a href="classApplet-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Avaliable Methods</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp9be22fb8347fa3884856571d2a5f020b"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#af72bb5847c68215c1070a22c1917fe1b">width</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#a5b5ea6ff5df17d04304424561e6fcbf1">object</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#a9fa0731492a9f1dbaae95592d42caff4">base64_state</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#a71afeff086f76de71a86592d4ae997e5">setConfigAlias</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#af212843e8b3f2180fb69246d2b43c646">answerBoxAlias</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#af360e63a9e0d998ba036a2ee72d7d90a">getConfigAlias</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#aaae1bb25294d334e557b3eaa1274e562">setStateAlias</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#ab3f9f529cce40c97ad237391659fd054">state</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#a1ca853174a4cfbe6b5c56635cfc23168">initialState</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#acb5c7523a370f1eb14d68f871cae8639">submitActionAlias</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#a3421fdb4249b3b4cf3f1365f41fbff43">bgcolor</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#a30fa24d6c28ead9163e77b3f99204b72">appletId</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#a7c387801aee5a65af53bcb1dfdf8681f">base64_config</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#a6cc0a7f15cec94894fac97922dca65db">configuration</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#a3e688ff43beb22c5b993097cf5001d5d">new</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#ae537a0f9bc3510d7014cc7dffbbd4855">configAlias</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#aac579ac3b45b197f6be90b130a7b32b5">code</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#ada9ac264adf2e487a3f791b9712b716d">appletName</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#a53c8d7d8d299de1d8076a3172094da05">archive</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#a84a5b01561c0423bf4ce62cfde58bc3c">insertObject</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#adb3aeee3223d4bca1d78dceaa5c787ca">answerBox</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#a095422c74044344e7cc61a6bb69077c7">height</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#a73c739e9a98a402dfea8063e86130cc1">debugMode</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#a5ec0113824c5404265251b875e798f41">maxInitializationAttempts</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#ab889fb8641f3d3f2ce776e3c53aa4ba4">params</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#a952131357192d2b1ce0f338c03bcd16b">insertHeader</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#ac4f4d217b5d887856afd9ff80f312eda">initializeActionAlias</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#a52f6c615272f9c448df49ad8e5a2f0eb">returnFieldName</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#a85a4480a34931d7910101a6f5af8ce37">config</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#aeb04a88a14ed9f2fbdcb07131a3b4182">submitActionScript</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#a92ce3ebf6d01a768700d8c4b3e6a9e46">codebase</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#a4209345742264673d3e546975b8fa93c">header</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#ac4a9ecfc31fd26d01e127dc53176dbf7">getStateAlias</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApplet.html#a9af421c510f2cdfe35d1da1dfdf09abc">insertAll</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>These functions are automatically defined for use for any javaScript placed in the text of a PG question. </p>
<pre>    getApplet(appletName)     -- finds the applet path in the DOM</pre><pre>    submitAction()            -- calls the submit action of the applets</pre><pre>    initializeWWquestion()    -- calls the initialize action of the applets</pre><pre>    getQE(name)               -- gets an HTML element of the question by name
                                 or by id.  Be sure to keep all names and ids
                                 unique within a given PG question.</pre><pre>    getQuestionElement(name)  -- long form of getQE(name)</pre><pre>    listQuestionElements()    -- for discovering the names of inputs in the 
                                 PG question.  An alert dialog will list all
                                 of the elements.</pre><pre>        Usage: Place this at the END of the question, just before END_DOCUMENT():</pre><pre>                TEXT(qq!&lt;script&gt; listQuestionElements() &lt;/script&gt;!);
                ENDDOCUMENT();
             to obtain a list of all of the HTML elements in the question</pre><pre>    ----------------------------------------------------------------------------</pre><pre>    <a class="el" href="classList.html">List</a> of  accessor methods made available by the <a class="el" href="classFlashApplet.html">FlashApplet</a> class:
        Usage:  $current_value = $applet-&gt;method(new_value or empty)
        These can also be set when creating the class -- for exampe:
             $applet = new <a class="el" href="classFlashApplet.html">FlashApplet</a>( 
                       # can be replaced by $applet =FlashApplet() when using <a class="el" href="AppletObjects_8pl.html">AppletObjects.pl</a>
                       codebase   =&gt; findAppletCodebase("$appletName.swf"),
                       appletName =&gt; $appletName,
                       appletId   =&gt; $appletName,
                       submitActionAlias =&gt; 'checkAnswer',
            );</pre><pre>        appletId     for simplicity and reliability appletId and appletName are always the same
        appletName
        archive      the name of the .jar file containing the applet code
        code         the name of the applet code in the .jar archive
        codebase     a prefix url used to find the archive and the applet itself</pre><pre>        params       an anonymous array containing name/value pairs 
                     to configure the applet [name =&gt;'value, ...]</pre><pre>        width        rectangle alloted in the html page for displaying the applet
        height</pre><pre>		bgcolor      background color of the applet rectangle</pre><pre>        header       stores the text to be added to the header section of the html page
        object       stores the text which places the applet on the html page</pre><pre>        configuration  configuration contains those customizable attributes of the applet which don't 
                     change as it is used.  When stored in hidden answer fields 
                     it is usually stored in base64 encoded format.
        initialState  the state consists of those customizable attributes of the applet which change
                     as the applet is used by the student.  It is stored by the calling .pg question so that 
                     when revisiting the question the applet will be restored to the same state it was 
                     left in when the question was last viewed.</pre><pre>        getStateAlias  (default: getState) alias for command called to read the current state of the applet.
                       The state is passed in plain text xml format with outer tags: &lt;xml&gt;....&lt;/xml&gt;
        setStateAlias  (default: setState) alias for the command called to reset the  state of the applet.
                       The state is passed in plain text in xml format with outer tags: &lt;xml&gt;....&lt;/xml&gt;</pre><pre>        configAlias   (deprecated) -- a synonym for configAlias</pre><pre>        getConfigAlias (default: getConfig) -- retrieves the configuration from the applet.  This is used
                     mainly for debugging.  In principal the configuration remains the same for a given instance
                     of the applet -- i.e. for the homework question for a single student.  The state however
                     will change depending on the interactions between the student and the applet.
        setConfigAlias (default: setConfig ) names the applet command called with the contents of $self-&gt;config
                     to configure the applet.  The parameters are passed to the applet in plain text using &lt;xml&gt;
                     The outer tags must be   &lt;xml&gt; .....   &lt;/xml&gt;</pre><pre>        initializeActionAlias  -- (default: initializeAction) the name of the javaScript subroutine called 
                                  to initialize the applet (some overlap with config/ and setState
        maxInitializationAttempts -- (default: 5) number attempts to test applet to see if it is installed.
                                     If isActive() exists then the WW question waits until the return value is 1 before
                                     calling the applet's confguration commands.
                                     Because some applets have isActive return 0 even when they are ready, 
                                     if isActive() exists but does not return 1 then the applet's configuration commands
                                     are called after maxInitializationAttempts number of times.  If none of the configuration commands
                                     of the applet can be detected then the WW question gives up after maxInitializationAttempts.</pre><pre>        submitActionAlias      -- (default: getXML) applet subroutine called when the submit button of the
                                  .pg question is pressed.
        submitActionScript     -- (default: qq{ getQE('answerBox').value = getApplet("$appletName").getAnswer() },</pre><pre>        answerBoxAlias         -- name of answer box to return answer to: default defaultAnswerBox 
        returnFieldName        -- (deprecated) synonmym for answerBoxAlias</pre><pre>        debugMode              (default: 0) for debugMode==1 the answerBox and the box preserving the applet state 
                               between questions are made visible along with some buttons for manually getting the state of
                               the applet and setting the state of the applet.</pre><pre>                               for debugMode==2, in addition to the answerBox and stateBox there are several alerts 
                               which mark progress through the procedures of calling the applet.  Useful for troubleshooting
                               where in the chain of command a communication failure occurs</pre><pre>   Methods:</pre><pre>        insertHeader          -- inserts text in header section of HTML page 
        insertObject          -- inserts &lt;object&gt;&lt;/object&gt; or &lt;applet&gt;&lt;/applet&gt;  tag in body of the HTML page
        insertAll             -- (defined in <a class="el" href="AppletObjects_8pl.html">AppletObjects.pl</a>) installs applet by inserting both header text and the object text
            Usage:    $applet-&gt;insertAll(
                              includeAnswerBox     =&gt; 0,
                              debugMode            =&gt; 0,
                              reinitialize_button  =&gt;0,
                      );</pre><h4>More details</h4>
<p>There are three different "images" of the applet. The first is the java or flash applet itself. The object that actually does the work. The second is a perl image of the applet -- henceforth the perlApplet -- which is configured in the .pg file and allows a <a class="el" href="classWeBWorK.html">WeBWorK</a> question to communicate with the applet. The third image is a javaScript image of the applet -- henceforth the jsApplet which is a mirror of the perlApplet but is available to the javaScript code setup and executed in the virtual HTML page defined by the .pg file of the <a class="el" href="classWeBWorK.html">WeBWorK</a> question. One can think of the jsApplet as a runtime version of the perlApplet since it can be accessed and modified after the virtual HTML page has been created by the PG rendering process. </p>
<p>The perlApplet is initialized by $newApplet = new flashApplet( appletName=&gt;'myApplet',..... ); The jsApplet is automatically defined in ww_applet_list["myApplet"] by copying the instance variables of $newApplet to a corresponding javaScript object. So $newApplet-&gt;{appletName} corresponds to ww_applet_list["myApplet"].appletName. (This paragraph is not yet fully implemented :-(). </p>
<p>Currently all messages read by the applet are xml text. If some of the code needs to be printed in the HTML header than it is converted to a base64 constant and then converted back to text form when it is read by a javaScript subroutine. </p>
<p>The perlApplet has methods that help place the jsApplet code on the HTML page and create the link to the applet itself. In particular instance variables such as "setStateAlias", "getStateAlias" connect the WW default of "setState" to subroutine name chosen by the applet designer. The aim is to make it easier to connect to applets previously designed to work with javaScript in an HTML page or other systems. </p>
<p>The jsApplet acts as an intermediary for commands directed at the applet. It is not necessary for the minimal operations of configuring the applet and maintaining state from one viewing of the WW question to address the applet directly. The methods such as "setState", "getState", "setConfig" which are part of the jsApplet take care of the book keeping details. It is also possible to make direct calls to the applet from handcrafted javaScript subroutines, but it may be convenient to store these as additional methods in the jsApplet. </p>
<h4>Detecting that the applet is ready</h4>
<p>Timing issues are among the pitfalls awaiting when using flash or java applets in WW questions. It is important that the WW question does not issue any commands to the applet until the applet is fully loaded, including the uploading of any additional configuration information from XML files. This can be tricky since the timing issues usually don't arise when initiating the applet from an HTML page. </p>
<p>The WW API performs the following actions to determine if the applet is loaded: </p>
<pre>	check the ww_applet_list[appletName].isReady flag (1== applet is ready)
	                    -- this caches the readiness information so that it doesn't 
	                       have to be repeated within a given viewing of a WW question
	                       If this is 1 then the applet is ready.
	determine whether the applet's isActive subroutine is defined AND returns 1 when called. 
	                    -- if the return value is 1 the applet is ready, if it is zero or no response then the applet is NOT ready
	                    -- If the applet has an isActive() subroutine -- there is no alias for this --
	                       then it must return 1 as soon as the applet is ready.  Otherwise
	                       the applet will timeout.
	determine whether the applet's setConfig subroutine is defined. 
	                    -- applet.{setConfigAlias}.  
	determine whether the applet's setState subroutine is defined.	
	determine whether the  jsApplets ww_applet_list[appletName].reportsLoaded flag is set to 1
	                    -- this can be set by the applet if it calls the javaScript function 
	                       "applet_loaded(appletName, loaded_status).  The loaded_status is 1 or 0</pre><pre>	Logic for determining applet status: if any one of the above checks succeeds (or returns 1) then the applet is 
	                      consdered to be ready  UNLESS the isActive() exists and the call returns a 0 or no response. In this case 
	                      the applet is assumed to be loading additional data and is not yet ready.</pre><pre>	                      For this reason if the isActive subroutine
	                      is defined in the applet it must return a 1 once the applet is prepared to accept additional commands.
	                      (Since there are some extent flashApplets with non-functioning isActive() subroutines a temporary workaround
	                       assuems that after C&lt;maxInitializationAttempts&gt; -- 5 by default -- the applet is in fact ready but the 
	                       isActive() subroutine is non functioning.  This can give rise to false "readiness" signals if the applet
	                       takes a long time to load auxiliary files.)</pre><p>The applet itself can take measures to insure that the setConfig subroutine is prepared to respond immediately once the applet is loaded. It can include timers that delay execution of the configuring actions until all of the auxiliary files needed by the applet are loaded. </p>
<h4>Instance variables in the javaScript applet ww_applet_list[appletName]</h4>
<pre>       Most of the instance variables in the perl version of the applet are transferred to the javaScript applet</pre><h4>Methods defined for the javaScript applet ww_applet_list[appletName]</h4>
<p>This is not a comprehensive list </p>
<pre>	setConfig         -- transmits the information for configuring the applet</pre><pre>	getConfig         -- retrieves the configuration information -- this is used mainly for debugging and may not be defined in most applets</pre><pre>	setState          -- sets the current state (1) from the appletName_state HTML element if this contains an &lt;xml&gt;...&lt;/xml&gt; string
	                  -- if the value contains &lt;xml&gt;restart_applet&lt;/xml&gt; then set the current state to ww_applet_list[appletName].initialState
	                  -- if the value is a blank string set the current state to ww_applet_list[appletName].initialState</pre><pre>	getState          -- retrieves the current state and stores in the appletName_state HTML element.</pre><h4>Requirements for applets</h4>
<p>The following methods are desirable in an applet that preserves state in a WW question. None of them are required. </p>
<pre>	setState(str)   (default: setXML)  
	                   -- set the current state of the applet from an xml string
	                   -- should be able to accept an empty string or a string of
	                      the form &lt;XML&gt;.....&lt;/XML&gt; without creating errors
	                   -- can be designed to receive other forms of input if it is 
	                      coordinated with the WW question.
	getState()      (default: getXML)
	     	           -- return the current state of the applet in an xml string.
	                   -- an empty string or a string of the form &lt;XML&gt;.....&lt;/XML&gt; 
	                      are the standard responses.
	                   -- can be designed to return other strings if it is 
	                      coordinated with the WW question.
	setConfig(str) (default: setConfig) 
	                   -- If the applet allows configuration this configures the applet
	                      from an xml string
      	               -- should be able to accept an empty string or a string of the 
      	                  form &lt;XML&gt;.....&lt;/XML&gt; without creating errors
	                   -- can be designed to receive other forms of input if it is 
	                      coordinated with the WW question.
    getConfig      (default: getConfig) 
	                   -- This returns a string defining the configuration of the 
	                      applet in an xml string
  	                   -- an empty string or a string of the form &lt;XML&gt;.....&lt;/XML&gt; 
  	                      are the standard responses.
	                   -- can be designed to return other strings if it is 
	                      coordinated with the WW question.
	                   -- this method is used for debugging to ensure that 
	                      the configuration was set as expected.
	getAnswer      (default: getAnswer)
	                   -- Returns a string (usually NOT xml) which is the 
	                      response that the student is effectvely submitting to answer
	                      the WW question.</pre><h4>Initialization sequence</h4>
<p>When the WW question is loaded the </p>
<div class="fragment"><pre class="fragment">initializeWWquestion
</pre></div><p> javaScript subroutine calls each of the applets used in the question asking them to initialize themselves. </p>
<p>The applets initialization method is as follows: </p>
<pre>                       -- wait until the applet is loaded and the applet has loaded all of its auxiliary files.
                       -- set the debugMode in the applet
                       -- call the setConfig  method in the javaScript applet  -- (configuration parameters are "permanent" for the life of the applet
                       -- call the setInitialization method in the javaScript applet -- this often calls the setState method in the applet</pre><p>When the WW question submit button is pressed the form containing the WW question calles the javaScript "submitAction()" which then asks each of the applets on the page to perform its submit action which consists of </p>
<pre>	-- if the applet is to be reinitialized (appletName_state contains &lt;xml&gt;restart_applet&lt;/xml&gt;) then 
	   the HTML elements appletName_state and previous_appletName_state are set to &lt;xml&gt;restart_applet&lt;/xml&gt;
	   to be interpreted by the next setState command
	-- Otherwise getState() from the applet and save it to the  HTML input element appletName_state
	-- Perform the javaScript commands in .submitActionScript (default: '' )
	   a typical submitActionScript looks like getQE(this.answerBox).value = getApplet(appletName).getAnswer()  )</pre><h2><a class="anchor" id="Methods">
Methods</a></h2>
<h3>insertAll</h3>
<pre>	Useage:   TEXT( $applet-&gt;<a class="el" href="classApplet.html#a9af421c510f2cdfe35d1da1dfdf09abc">insertAll()</a> );
	          \{ $applet-&gt;<a class="el" href="classApplet.html#a9af421c510f2cdfe35d1da1dfdf09abc">insertAll()</a> \}     (used within BEGIN_TEXT/END_TEXT blocks)</pre><p>Inserts applet at this point in the HTML code. (In TeX mode a message "Applet" is written.) This method also adds the applets header material into the header portion of the HTML page. It effectively inserts the outputs of both </p>
<div class="fragment"><pre class="fragment">$applet-&amp;gt;<a class="code" href="classApplet.html#a952131357192d2b1ce0f338c03bcd16b">insertHeader</a>
</pre></div><p> and </p>
<div class="fragment"><pre class="fragment">$applet-&amp;gt;<a class="code" href="classApplet.html#a84a5b01561c0423bf4ce62cfde58bc3c">insertObject</a>
</pre></div><p> (defined in <em><a class="el" href="Applet_8pm.html">Applet.pm</a></em> ) in the appropriate places. In addition it creates a hidden answer blank for storing the state of the applet and provides mechanisms for revealing the state while debugging the applet. </p>
<p>Note: This method is defined here rather than in Applet.pl because it requires access to the RECORD_FORM_LABEL subroutine and to the routine accessing the stored values of the answers. These are defined in main::. FIXME -- with the creation of the <a class="el" href="classPGcore.html">PGcore</a> object this can now be rewritten </p>
<h3>Example problem</h3>
<pre>	DOCUMENT();</pre><pre>	# Load whatever macros you need for the problem
	loadMacros("PG.pl",
			   "PGbasicmacros.pl",
			   "PGchoicemacros.pl",
			   "PGanswermacros.pl",
			   "AppletObjects.pl",
			   "MathObjects.pl",
			   "source.pl"
			  );</pre><pre>	## Do NOT show partial correct answers
	$showPartialCorrectAnswers = 0;</pre><pre>	###################################
	# Create  link to applet 
	###################################</pre><pre>	$applet = FlashApplet();
	my $appletName = "ExternalInterface";
	$applet-&gt;codebase(findAppletCodebase("$appletName.swf"));
	$applet-&gt;appletName($appletName);
	$applet-&gt;appletId($appletName);</pre><pre>	# findAppletCodebase looks for the applet in a list
	# of locations specified in global.conf</pre><pre>	###################################
	# Add additional javaScript functions to header section of HTML to 
	# communicate with the "ExternalInterface" applet.
	###################################</pre><pre>	$applet-&gt;header(&lt;&lt;'END_HEADER');
	&lt;script language="javascript" src="https://devel.webwork.rochester.edu:8002/webwork2_files/js/BrowserSniffer.js"&gt;
	&lt;/script&gt;</pre><pre>	&lt;script language="JavaScript"&gt;
		function getBrowser() {
alert("look for sniffer");
		  var sniffer = new BrowserSniffer();
alert("found sniffer" +sniffer);
		  return sniffer;
		}</pre><pre>		function updateStatus(sMessage) {
			  getQE("playbackStatus").value = sMessage;
		}</pre><pre>		function newColor() {</pre><pre>		  getApplet("ExternalInterface").updateColor(Math.round(Math.random() * 0xFFFFFF));
		}</pre><pre>	&lt;/script&gt;
	END_HEADER</pre><pre>	###################################
	# Configure applet
	###################################</pre><pre>	# not used here.  Allows for uploading an xml string for the applet</pre><pre>	###################################
	# write the text for the problem
	###################################</pre><pre>	TEXT(beginproblem());</pre><pre>	BEGIN_TEXT
	\{ $applet-&gt;<a class="el" href="classApplet.html#a9af421c510f2cdfe35d1da1dfdf09abc">insertAll()</a> \}
	  $PAR</pre><pre>	  The Flash object operates above this line.  The box and button below this line are part of 
	  the <a class="el" href="classWeBWorK.html">WeBWorK</a> problem.  They communicate with the Flash object.
	  $HR
	  Status &lt;input type="text" id="playbackStatus" value="started" /&gt;&lt;br /&gt;
	  Color &lt;input type="button" value="new color" name="newColorButton" onClick="newColor()" /&gt;
	   $PAR $HR
	   This flash applet was created by Barbara Kaskosz.</pre><pre>	END_TEXT</pre><pre>	ENDDOCUMENT();</pre> 
<p>Definition at line <a class="el" href="Applet_8pm_source.html#l00328">328</a> of file <a class="el" href="Applet_8pm_source.html">Applet.pm</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="adb3aeee3223d4bca1d78dceaa5c787ca"></a><!-- doxytag: member="Applet::answerBox" ref="adb3aeee3223d4bca1d78dceaa5c787ca" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::answerBox </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-answerBox' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-answerBox-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-answerBox-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-answerBox-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in answerBox: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#adb3aeee3223d4bca1d78dceaa5c787ca">answerBox</a> {
    my $self = shift;
    warn <span class="stringliteral">&quot;use  answerBoxAlias  instead of AnswerBox&quot;</span>;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="af212843e8b3f2180fb69246d2b43c646"></a><!-- doxytag: member="Applet::answerBoxAlias" ref="af212843e8b3f2180fb69246d2b43c646" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::answerBoxAlias </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-answerBoxAlias' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-answerBoxAlias-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-answerBoxAlias-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-answerBoxAlias-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in answerBoxAlias: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#af212843e8b3f2180fb69246d2b43c646">answerBoxAlias</a> {
    my $self = shift;
    $self-&gt;{<a class="code" href="classApplet.html#adb3aeee3223d4bca1d78dceaa5c787ca">answerBox</a>} = shift ||$self-&gt;{<a class="code" href="classApplet.html#adb3aeee3223d4bca1d78dceaa5c787ca">answerBox</a>}; # replace the current contents <span class="keywordflow">if</span> non-empty
    $self-&gt;{<a class="code" href="classApplet.html#adb3aeee3223d4bca1d78dceaa5c787ca">answerBox</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a30fa24d6c28ead9163e77b3f99204b72"></a><!-- doxytag: member="Applet::appletId" ref="a30fa24d6c28ead9163e77b3f99204b72" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::appletId </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-appletId' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-appletId-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-appletId-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-appletId-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in appletId: 3</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#a30fa24d6c28ead9163e77b3f99204b72">appletId</a> {  
    <a class="code" href="classApplet.html#ada9ac264adf2e487a3f791b9712b716d">appletName</a>(@_);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ada9ac264adf2e487a3f791b9712b716d"></a><!-- doxytag: member="Applet::appletName" ref="ada9ac264adf2e487a3f791b9712b716d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::appletName </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-appletName' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-appletName-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-appletName-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-appletName-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in appletName: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#ada9ac264adf2e487a3f791b9712b716d">appletName</a> {
    my $self = shift;
    $self-&gt;{<a class="code" href="classApplet.html#ada9ac264adf2e487a3f791b9712b716d">appletName</a>} = shift ||$self-&gt;{<a class="code" href="classApplet.html#ada9ac264adf2e487a3f791b9712b716d">appletName</a>}; # replace the current <a class="code" href="classApplet.html#ada9ac264adf2e487a3f791b9712b716d">appletName</a> <span class="keywordflow">if</span> non-empty
    $self-&gt;{<a class="code" href="classApplet.html#ada9ac264adf2e487a3f791b9712b716d">appletName</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a53c8d7d8d299de1d8076a3172094da05"></a><!-- doxytag: member="Applet::archive" ref="a53c8d7d8d299de1d8076a3172094da05" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::archive </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-archive' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-archive-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-archive-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-archive-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in archive: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#a53c8d7d8d299de1d8076a3172094da05">archive</a> {
    my $self = shift;
    $self-&gt;{<a class="code" href="classApplet.html#a53c8d7d8d299de1d8076a3172094da05">archive</a>} = shift ||$self-&gt;{<a class="code" href="classApplet.html#a53c8d7d8d299de1d8076a3172094da05">archive</a>}; # replace the current <a class="code" href="classApplet.html#a53c8d7d8d299de1d8076a3172094da05">archive</a> <span class="keywordflow">if</span> non-empty
    $self-&gt;{<a class="code" href="classApplet.html#a53c8d7d8d299de1d8076a3172094da05">archive</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a7c387801aee5a65af53bcb1dfdf8681f"></a><!-- doxytag: member="Applet::base64_config" ref="a7c387801aee5a65af53bcb1dfdf8681f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::base64_config </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-base64_config' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-base64_config-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-base64_config-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-base64_config-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in base64_config: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#a7c387801aee5a65af53bcb1dfdf8681f">base64_config</a> {
    my $self = shift;
    warn <span class="stringliteral">&quot;use $self-&gt;configuration instead of $self-&gt;config.  Internally this string is ascii, not base64 encoded&quot;</span>;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a9fa0731492a9f1dbaae95592d42caff4"></a><!-- doxytag: member="Applet::base64_state" ref="a9fa0731492a9f1dbaae95592d42caff4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::base64_state </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-base64_state' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-base64_state-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-base64_state-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-base64_state-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in base64_state: 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#a9fa0731492a9f1dbaae95592d42caff4">base64_state</a>{
    my $self = shift;
    warn <span class="stringliteral">&quot;use $self-&gt;InitialState instead of $self-&gt;state.  Internally this string is ascii, not base64 encoded&quot;</span>, join(<span class="charliteral">&#39; &#39;</span>, caller());


}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a3421fdb4249b3b4cf3f1365f41fbff43"></a><!-- doxytag: member="Applet::bgcolor" ref="a3421fdb4249b3b4cf3f1365f41fbff43" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::bgcolor </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-bgcolor' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-bgcolor-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-bgcolor-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-bgcolor-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in bgcolor: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#a3421fdb4249b3b4cf3f1365f41fbff43">bgcolor</a> {
    my $self = shift;
    $self-&gt;{<a class="code" href="classApplet.html#a3421fdb4249b3b4cf3f1365f41fbff43">bgcolor</a>} = shift ||$self-&gt;{<a class="code" href="classApplet.html#a3421fdb4249b3b4cf3f1365f41fbff43">bgcolor</a>}; # replace the current background color <span class="keywordflow">if</span> non-empty
    $self-&gt;{<a class="code" href="classApplet.html#a3421fdb4249b3b4cf3f1365f41fbff43">bgcolor</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aac579ac3b45b197f6be90b130a7b32b5"></a><!-- doxytag: member="Applet::code" ref="aac579ac3b45b197f6be90b130a7b32b5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::code </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-code' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-code-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-code-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-code-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in code: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#aac579ac3b45b197f6be90b130a7b32b5">code</a> {
    my $self = shift;
    $self-&gt;{<a class="code" href="classApplet.html#aac579ac3b45b197f6be90b130a7b32b5">code</a>} = shift ||$self-&gt;{<a class="code" href="classApplet.html#aac579ac3b45b197f6be90b130a7b32b5">code</a>}; # replace the current <a class="code" href="classApplet.html#aac579ac3b45b197f6be90b130a7b32b5">code</a> <span class="keywordflow">if</span> non-empty
    $self-&gt;{<a class="code" href="classApplet.html#aac579ac3b45b197f6be90b130a7b32b5">code</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a92ce3ebf6d01a768700d8c4b3e6a9e46"></a><!-- doxytag: member="Applet::codebase" ref="a92ce3ebf6d01a768700d8c4b3e6a9e46" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::codebase </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-codebase' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-codebase-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-codebase-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-codebase-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in codebase: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#a92ce3ebf6d01a768700d8c4b3e6a9e46">codebase</a> {
    my $self = shift;
    $self-&gt;{<a class="code" href="classApplet.html#a92ce3ebf6d01a768700d8c4b3e6a9e46">codebase</a>} = shift ||$self-&gt;{<a class="code" href="classApplet.html#a92ce3ebf6d01a768700d8c4b3e6a9e46">codebase</a>}; # replace the current <a class="code" href="classApplet.html#a92ce3ebf6d01a768700d8c4b3e6a9e46">codebase</a> <span class="keywordflow">if</span> non-empty
    $self-&gt;{<a class="code" href="classApplet.html#a92ce3ebf6d01a768700d8c4b3e6a9e46">codebase</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a85a4480a34931d7910101a6f5af8ce37"></a><!-- doxytag: member="Applet::config" ref="a85a4480a34931d7910101a6f5af8ce37" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::config </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-config' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-config-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-config-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-config-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in config: 8</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#a85a4480a34931d7910101a6f5af8ce37">config</a> {
    my $self = shift;
    my $str = shift;
    warn <span class="stringliteral">&quot;use $self-&gt;configuration instead of $self-&gt;config.  Internally this string is ascii, not base64 encoded&quot;</span>, join(<span class="charliteral">&#39; &#39;</span>, caller());
<span class="preprocessor">#   $self-&gt;{base64_config} =  encode_base64($str)   || $self-&gt;{base64_config}; # replace the current string if non-empty</span>
<span class="preprocessor"></span><span class="preprocessor">#   $self-&gt;{base64_config} =~ s/\n//g;</span>
<span class="preprocessor"></span><span class="preprocessor">#     decode_base64($self-&gt;{base64_config});</span>
<span class="preprocessor">}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ae537a0f9bc3510d7014cc7dffbbd4855"></a><!-- doxytag: member="Applet::configAlias" ref="ae537a0f9bc3510d7014cc7dffbbd4855" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::configAlias </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-configAlias' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-configAlias-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-configAlias-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-configAlias-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in configAlias: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#ae537a0f9bc3510d7014cc7dffbbd4855">configAlias</a> {
    my $self = shift;
    warn <span class="stringliteral">&quot;use setConfigAlias instead of configAlias&quot;</span>;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a6cc0a7f15cec94894fac97922dca65db"></a><!-- doxytag: member="Applet::configuration" ref="a6cc0a7f15cec94894fac97922dca65db" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::configuration </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-configuration' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-configuration-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-configuration-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-configuration-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in configuration: 7</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#a6cc0a7f15cec94894fac97922dca65db">configuration</a> {
    my $self = shift;
    my $str = shift;
    $self-&gt;{<a class="code" href="classApplet.html#a6cc0a7f15cec94894fac97922dca65db">configuration</a>} =  $str   || $self-&gt;{<a class="code" href="classApplet.html#a6cc0a7f15cec94894fac97922dca65db">configuration</a>}; # replace the current <span class="keywordtype">string</span> <span class="keywordflow">if</span> non-empty
    $self-&gt;{<a class="code" href="classApplet.html#a6cc0a7f15cec94894fac97922dca65db">configuration</a>} =~ s/\n<span class="comment">//g;</span>
    $self-&gt;{<a class="code" href="classApplet.html#a6cc0a7f15cec94894fac97922dca65db">configuration</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a73c739e9a98a402dfea8063e86130cc1"></a><!-- doxytag: member="Applet::debugMode" ref="a73c739e9a98a402dfea8063e86130cc1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::debugMode </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-debugMode' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-debugMode-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-debugMode-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-debugMode-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in debugMode: 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#a73c739e9a98a402dfea8063e86130cc1">debugMode</a> {
    my $self = shift;
    my $new_flag = shift;
    $self-&gt;{<a class="code" href="classApplet.html#a73c739e9a98a402dfea8063e86130cc1">debugMode</a>} = $new_flag <span class="keywordflow">if</span> defined($new_flag);
    $self-&gt;{<a class="code" href="classApplet.html#a73c739e9a98a402dfea8063e86130cc1">debugMode</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="af360e63a9e0d998ba036a2ee72d7d90a"></a><!-- doxytag: member="Applet::getConfigAlias" ref="af360e63a9e0d998ba036a2ee72d7d90a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::getConfigAlias </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getConfigAlias' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-getConfigAlias-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getConfigAlias-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getConfigAlias-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in getConfigAlias: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#af360e63a9e0d998ba036a2ee72d7d90a">getConfigAlias</a> {
    my $self = shift;
    $self-&gt;{<a class="code" href="classApplet.html#af360e63a9e0d998ba036a2ee72d7d90a">getConfigAlias</a>} = shift ||$self-&gt;{<a class="code" href="classApplet.html#af360e63a9e0d998ba036a2ee72d7d90a">getConfigAlias</a>}; # replace the current contents <span class="keywordflow">if</span> non-empty
    $self-&gt;{<a class="code" href="classApplet.html#af360e63a9e0d998ba036a2ee72d7d90a">getConfigAlias</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ac4a9ecfc31fd26d01e127dc53176dbf7"></a><!-- doxytag: member="Applet::getStateAlias" ref="ac4a9ecfc31fd26d01e127dc53176dbf7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::getStateAlias </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getStateAlias' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-getStateAlias-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getStateAlias-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getStateAlias-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in getStateAlias: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#ac4a9ecfc31fd26d01e127dc53176dbf7">getStateAlias</a> {
    my $self = shift;
    $self-&gt;{<a class="code" href="classApplet.html#ac4a9ecfc31fd26d01e127dc53176dbf7">getStateAlias</a>} = shift ||$self-&gt;{<a class="code" href="classApplet.html#ac4a9ecfc31fd26d01e127dc53176dbf7">getStateAlias</a>}; # replace the current contents <span class="keywordflow">if</span> non-empty
    $self-&gt;{<a class="code" href="classApplet.html#ac4a9ecfc31fd26d01e127dc53176dbf7">getStateAlias</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a4209345742264673d3e546975b8fa93c"></a><!-- doxytag: member="Applet::header" ref="a4209345742264673d3e546975b8fa93c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::header </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-header' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-header-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-header-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-header-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in header: 9</span>
<span class="preprocessor"></span>sub  <a class="code" href="classApplet.html#a4209345742264673d3e546975b8fa93c">header</a> {
    my $self = shift;
    <span class="keywordflow">if</span> ($_[0] eq <span class="stringliteral">&quot;reset&quot;</span>) {  # $applet-&gt;header(<span class="stringliteral">&#39;reset&#39;</span>);  erases <span class="keywordflow">default</span> <a class="code" href="classApplet.html#a4209345742264673d3e546975b8fa93c">header</a> text.
        $self-&gt;{headerText}=<span class="stringliteral">&#39;&#39;</span>;
    } <span class="keywordflow">else</span> {    
        $self-&gt;{headerText} .= join(<span class="stringliteral">&quot;&quot;</span>,@_);  # $applet-&gt;header(new_text); concatenates new_text to existing <a class="code" href="classApplet.html#a4209345742264673d3e546975b8fa93c">header</a>.
    }
    $self-&gt;{headerText};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a095422c74044344e7cc61a6bb69077c7"></a><!-- doxytag: member="Applet::height" ref="a095422c74044344e7cc61a6bb69077c7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::height </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-height' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-height-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-height-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-height-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in height: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#a095422c74044344e7cc61a6bb69077c7">height</a> {
    my $self = shift;
    $self-&gt;{<a class="code" href="classApplet.html#a095422c74044344e7cc61a6bb69077c7">height</a>} = shift ||$self-&gt;{<a class="code" href="classApplet.html#a095422c74044344e7cc61a6bb69077c7">height</a>}; # replace the current <a class="code" href="classApplet.html#a095422c74044344e7cc61a6bb69077c7">height</a> <span class="keywordflow">if</span> non-empty
    $self-&gt;{<a class="code" href="classApplet.html#a095422c74044344e7cc61a6bb69077c7">height</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ac4f4d217b5d887856afd9ff80f312eda"></a><!-- doxytag: member="Applet::initializeActionAlias" ref="ac4f4d217b5d887856afd9ff80f312eda" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::initializeActionAlias </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-initializeActionAlias' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-initializeActionAlias-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-initializeActionAlias-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-initializeActionAlias-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in initializeActionAlias: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#ac4f4d217b5d887856afd9ff80f312eda">initializeActionAlias</a> {
    my $self = shift;
    $self-&gt;{<a class="code" href="classApplet.html#ac4f4d217b5d887856afd9ff80f312eda">initializeActionAlias</a>} = shift ||$self-&gt;{<a class="code" href="classApplet.html#ac4f4d217b5d887856afd9ff80f312eda">initializeActionAlias</a>}; # replace the current contents <span class="keywordflow">if</span> non-empty
    $self-&gt;{<a class="code" href="classApplet.html#ac4f4d217b5d887856afd9ff80f312eda">initializeActionAlias</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a1ca853174a4cfbe6b5c56635cfc23168"></a><!-- doxytag: member="Applet::initialState" ref="a1ca853174a4cfbe6b5c56635cfc23168" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::initialState </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-initialState' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-initialState-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-initialState-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-initialState-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in initialState: 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#a1ca853174a4cfbe6b5c56635cfc23168">initialState</a> {
    my $self = shift;
    my $str = shift;
    $self-&gt;{<a class="code" href="classApplet.html#a1ca853174a4cfbe6b5c56635cfc23168">initialState</a>} = $str   ||$self-&gt;{<a class="code" href="classApplet.html#a1ca853174a4cfbe6b5c56635cfc23168">initialState</a>}; # replace the current <span class="keywordtype">string</span> <span class="keywordflow">if</span> non-empty
    $self-&gt;{<a class="code" href="classApplet.html#a1ca853174a4cfbe6b5c56635cfc23168">initialState</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a9af421c510f2cdfe35d1da1dfdf09abc"></a><!-- doxytag: member="Applet::insertAll" ref="a9af421c510f2cdfe35d1da1dfdf09abc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::insertAll </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-insertAll' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-insertAll-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-insertAll-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-insertAll-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in insertAll: 203</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#a9af421c510f2cdfe35d1da1dfdf09abc">insertAll</a> {  ## inserts both <a class="code" href="classApplet.html#a4209345742264673d3e546975b8fa93c">header</a> text and <span class="keywordtype">object</span> text
    my $self = shift;
    my %options = @_;
    
    
<span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span><span class="preprocessor">    # determine debug mode</span>
<span class="preprocessor"></span><span class="preprocessor">    # debugMode can be turned on by setting it to 1 in either the applet definition or at insertAll time</span>
<span class="preprocessor"></span><span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span>
    my $debugMode = (defined($options{debug}) and $options{debug}&gt;0) ? $options{debug} : 0;
    my $includeAnswerBox = (defined($options{includeAnswerBox}) and $options{includeAnswerBox}==1) ? 1 : 0;
    $debugMode = $debugMode || $self-&gt;debugMode;
    $self-&gt;debugMode( $debugMode);

    
    my $reset_button = $options{reinitialize_button} || 0;
    warn qq! please change  <span class="stringliteral">&quot;reset_button=&gt;1&quot;</span> to <span class="stringliteral">&quot;reinitialize_button=&gt;1&quot;</span> in the applet-&gt;installAll() command \n! <span class="keywordflow">if</span> defined($options{reset_button});

<span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span><span class="preprocessor">    # Get data to be interpolated into the HTML code defined in this subroutine</span>
<span class="preprocessor"></span><span class="preprocessor">    #</span>
<span class="preprocessor"></span><span class="preprocessor">    # This consists of the name of the applet and the names of the routines </span>
<span class="preprocessor"></span><span class="preprocessor">    # to get and set State of the applet (which is done every time the question page is refreshed</span>
<span class="preprocessor"></span><span class="preprocessor">    # and to get and set Config  which is the initial configuration the applet is placed in </span>
<span class="preprocessor"></span><span class="preprocessor">    # when the question is first viewed.  It is also the state which is returned to when the </span>
<span class="preprocessor"></span><span class="preprocessor">    # reset button is pressed.</span>
<span class="preprocessor"></span><span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span>
<span class="preprocessor">    # prepare html code for storing state </span>
<span class="preprocessor"></span>    my $appletName      = $self-&gt;appletName;
    my $appletStateName = <span class="stringliteral">&quot;${appletName}_state&quot;</span>;   # the name of the hidden <span class="stringliteral">&quot;answer&quot;</span> blank storing <a class="code" href="classApplet.html#ab3f9f529cce40c97ad237391659fd054">state</a> FIXME -- use persistent data instead
    my $getState        = $self-&gt;getStateAlias;    # names of routines <span class="keywordflow">for</span> <span class="keyword">this</span> applet
    my $setState        = $self-&gt;setStateAlias;
    my $getConfig       = $self-&gt;getConfigAlias;
    my $setConfig       = $self-&gt;setConfigAlias;

    my $base64_initialState     = encode_base64($self-&gt;initialState);
    <a class="code" href="classmain.html#aa743bd0278621896168d9fb7d97a69ff">main::RECORD_FORM_LABEL</a>($appletStateName);            #<span class="keyword">this</span> insures that the <a class="code" href="classApplet.html#ab3f9f529cce40c97ad237391659fd054">state</a> will be saved from one invocation to the next
<span class="preprocessor">                                                          # FIXME -- with PGcore the persistant data mechanism can be used instead</span>
<span class="preprocessor"></span>    my $answer_value = <span class="stringliteral">&#39;&#39;</span>;

<span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span><span class="preprocessor">    # implement the sticky answer mechanism for maintaining the applet state when the question page is refreshed</span>
<span class="preprocessor"></span><span class="preprocessor">    # This is important for guest users for whom no permanent record of answers is recorded.</span>
<span class="preprocessor"></span><span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span>    
    <span class="keywordflow">if</span> ( defined( ${$main::inputs_ref}{$appletStateName} ) and ${$main::inputs_ref}{$appletStateName} =~ /\S/ ) {   
        $answer_value = ${$main::inputs_ref}{$appletStateName};
    } elsif ( defined( $main::rh_sticky_answers-&gt;{$appletStateName} )  ) {
        warn <span class="stringliteral">&quot;type of sticky answers is &quot;</span>, ref( $main::rh_sticky_answers-&gt;{$appletStateName} );
        $answer_value = shift( @{ $main::rh_sticky_answers-&gt;{$appletStateName} });
    }
    $answer_value =~ tr/\\$@`<span class="comment">//d;   #`## make sure student answers can not be interpolated by e.g. EV3</span>
    $answer_value =~ s/\s+/ /g;     ## <span class="keyword">remove</span> excessive whitespace from student answer
    
<span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span><span class="preprocessor">    # insert a hidden answer blank to hold the applet&#39;s state </span>
<span class="preprocessor"></span><span class="preprocessor">    # (debug =&gt;1 makes it visible for debugging and provides debugging buttons)</span>
<span class="preprocessor"></span><span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span>

<span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span><span class="preprocessor">    # Regularize the applet&#39;s state -- which could be in either XML format or in XML format encoded by base64</span>
<span class="preprocessor"></span><span class="preprocessor">    # In rare cases it might be simple string -- protect against that by putting xml tags around the state</span>
<span class="preprocessor"></span><span class="preprocessor">    # The result:</span>
<span class="preprocessor"></span><span class="preprocessor">    # $base_64_encoded_answer_value -- a base64 encoded xml string</span>
<span class="preprocessor"></span><span class="preprocessor">    # $decoded_answer_value         -- and xml string</span>
<span class="preprocessor"></span><span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span>        
    my $base_64_encoded_answer_value;
    my $decoded_answer_value;
    <span class="keywordflow">if</span> ( $answer_value =~/&lt;XML|&lt;?xml/i) {
        $base_64_encoded_answer_value = encode_base64($answer_value);
        $decoded_answer_value = $answer_value;
    } <span class="keywordflow">else</span> {
        $decoded_answer_value = decode_base64($answer_value);
        <span class="keywordflow">if</span> ( $decoded_answer_value =~/&lt;XML|&lt;?xml/i) {  # great, we<span class="stringliteral">&#39;ve decoded the answer to obtain an xml string</span>
<span class="stringliteral">            $base_64_encoded_answer_value = $answer_value;</span>
<span class="stringliteral">        } else {    #WTF??  apparently we don&#39;</span>t have XML tags
            $answer_value = <span class="stringliteral">&quot;&lt;xml&gt;$answer_value&lt;/xml&gt;&quot;</span>;
            $base_64_encoded_answer_value = encode_base64($answer_value);
            $decoded_answer_value = $answer_value;
        }
    }   
    $base_64_encoded_answer_value =~ s/\r|\n<span class="comment">//g;    # get rid of line returns</span>

<span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span><span class="preprocessor">    # Construct answer blank for storing state -- in both regular (answer blank hidden) </span>
<span class="preprocessor"></span><span class="preprocessor">    # and debug (answer blank displayed) modes.</span>
<span class="preprocessor"></span><span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span>    
<span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span><span class="preprocessor">    # debug version of the applet state answerBox and controls (all displayed)</span>
<span class="preprocessor"></span><span class="preprocessor">    # stored in </span>
<span class="preprocessor"></span><span class="preprocessor">    # $debug_input_element</span>
<span class="preprocessor"></span><span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span>
<span class="preprocessor">#     my $debug_input_element  = qq!\n&lt;textarea  rows=&quot;4&quot; cols=&quot;80&quot; </span>
<span class="preprocessor"></span><span class="preprocessor">#      name = &quot;$appletStateName&quot; id = &quot;$appletStateName&quot;&gt;$decoded_answer_value&lt;/textarea&gt;&lt;br/&gt;!;</span>
<span class="preprocessor"></span><span class="preprocessor">#  conversion to base64 is now being done in the setState module</span>
<span class="preprocessor"></span><span class="preprocessor">#  when submitting we want everything to be in the base64 mode for safety</span>
<span class="preprocessor"></span>    my $debug_input_element  = qq!\n&lt;textarea  rows=<span class="stringliteral">&quot;4&quot;</span> cols=<span class="stringliteral">&quot;80&quot;</span> 
       name = <span class="stringliteral">&quot;$appletStateName&quot;</span> <span class="keywordtype">id</span> = <span class="stringliteral">&quot;$appletStateName&quot;</span>&gt;$answer_value&lt;/textarea&gt;&lt;br/&gt;!;

    <span class="keywordflow">if</span> ($getState=~/\S/) {   # <span class="keywordflow">if</span> <a class="code" href="classApplet.html#ac4a9ecfc31fd26d01e127dc53176dbf7">getStateAlias</a> is not an empty <span class="keywordtype">string</span>
        $debug_input_element .= qq!
            &lt;input type=<span class="stringliteral">&quot;button&quot;</span>  value=<span class="stringliteral">&quot;$getState&quot;</span> 
                   onClick=<span class="stringliteral">&quot; debugText=&#39;&#39;; </span>
<span class="stringliteral">                             ww_applet_list[&#39;$appletName&#39;].getState() ; </span>
<span class="stringliteral">                            if (debugText) {alert(debugText)};&quot;</span>
            /&gt;!;
    }
    <span class="keywordflow">if</span> ($setState=~/\S/) {   # <span class="keywordflow">if</span> <a class="code" href="classApplet.html#aaae1bb25294d334e557b3eaa1274e562">setStateAlias</a> is not an empty <span class="keywordtype">string</span>
        $debug_input_element .= qq!
            &lt;input type=<span class="stringliteral">&quot;button&quot;</span>  value=<span class="stringliteral">&quot;$setState&quot;</span> 
                   onClick=<span class="stringliteral">&quot;debugText=&#39;&#39;;</span>
<span class="stringliteral">                            ww_applet_list[&#39;$appletName&#39;].setState();</span>
<span class="stringliteral">                            if (debugText) {alert(debugText)};&quot;</span>
            /&gt;!;
    }
    <span class="keywordflow">if</span> ($getConfig=~/\S/) {   # <span class="keywordflow">if</span> <a class="code" href="classApplet.html#af360e63a9e0d998ba036a2ee72d7d90a">getConfigAlias</a> is not an empty <span class="keywordtype">string</span>
        $debug_input_element .= qq!
            &lt;input type=<span class="stringliteral">&quot;button&quot;</span>  value=<span class="stringliteral">&quot;$getConfig&quot;</span> 
                   onClick=<span class="stringliteral">&quot;debugText=&#39;&#39;; </span>
<span class="stringliteral">                            ww_applet_list[&#39;$appletName&#39;].getConfig();</span>
<span class="stringliteral">                            if (debugText) {alert(debugText)};&quot;</span>
            /&gt;!;
    }
    <span class="keywordflow">if</span> ($setConfig=~/\S/) {   # <span class="keywordflow">if</span> <a class="code" href="classApplet.html#a71afeff086f76de71a86592d4ae997e5">setConfigAlias</a> is not an empty <span class="keywordtype">string</span>
        $debug_input_element .= qq!
            &lt;input type=<span class="stringliteral">&quot;button&quot;</span>  value=<span class="stringliteral">&quot;$setConfig&quot;</span> 
                   onClick=<span class="stringliteral">&quot;debugText=&#39;&#39;;</span>
<span class="stringliteral">                            ww_applet_list[&#39;$appletName&#39;].setConfig();</span>
<span class="stringliteral">                            if (debugText) {alert(debugText)};&quot;</span>
            /&gt;!;
    }
    
<span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span><span class="preprocessor">    # Construct answerblank for storing state</span>
<span class="preprocessor"></span><span class="preprocessor">    # using either the debug version (defined above) or the non-debug version</span>
<span class="preprocessor"></span><span class="preprocessor">    # where the state variable is hidden and the definition is very simple</span>
<span class="preprocessor"></span><span class="preprocessor">    # stored in </span>
<span class="preprocessor"></span><span class="preprocessor">    # $state_input_element</span>
<span class="preprocessor"></span><span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span>            
    my $state_input_element = ($debugMode) ? $debug_input_element :
          qq!\n&lt;input type=&quot;hidden&quot; name = &quot;$appletStateName&quot; id = &quot;$appletStateName&quot;  value =&quot;$base_64_encoded_answer_value&quot;&gt;!;
          
<span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span><span class="preprocessor">    # Construct the reset button string (this is blank if the button is not to be displayed</span>
<span class="preprocessor"></span><span class="preprocessor">    # $reset_button_str</span>
<span class="preprocessor"></span><span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span>
    my $reset_button_str = ($reset_button) ?
            qq!&lt;input type=<span class="stringliteral">&#39;submit&#39;</span> name=<span class="stringliteral">&#39;previewAnswers&#39;</span> <span class="keywordtype">id</span> =<span class="stringliteral">&#39;previewAnswers&#39;</span> value=<span class="stringliteral">&#39;return this question to its initial state&#39;</span> 
                 onClick=<span class="stringliteral">&quot;setHTMLAppletStateToRestart(&#39;$appletName&#39;)&quot;</span>&gt;&lt;br/&gt;!
            : <span class="stringliteral">&#39;&#39;</span>  ;

<span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span><span class="preprocessor">    # Combine the state_input_button and the reset button into one string</span>
<span class="preprocessor"></span><span class="preprocessor">    # $state_storage_html_code</span>
<span class="preprocessor"></span><span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span>

    $state_storage_html_code = qq!&lt;input type=<span class="stringliteral">&quot;hidden&quot;</span>  name=<span class="stringliteral">&quot;previous_$appletStateName&quot;</span> <span class="keywordtype">id</span> = <span class="stringliteral">&quot;previous_$appletStateName&quot;</span>  value = <span class="stringliteral">&quot;$base_64_encoded_answer_value&quot;</span>&gt;!              
                              . $state_input_element. $reset_button_str
                             ;
<span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span><span class="preprocessor">    # Construct the answerBox (if it is requested).  This is a default input box for interacting </span>
<span class="preprocessor"></span><span class="preprocessor">    # with the applet.  It is separate from maintaining state but it often contains similar data.</span>
<span class="preprocessor"></span><span class="preprocessor">    # Additional answer boxes or buttons can be defined but they must be explicitly connected to </span>
<span class="preprocessor"></span><span class="preprocessor">    # the applet with additional javaScript commands.</span>
<span class="preprocessor"></span><span class="preprocessor">    # Result: $answerBox_code</span>
<span class="preprocessor"></span><span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span>
    my $answerBox_code =<span class="stringliteral">&#39;&#39;</span>;
    <span class="keywordflow">if</span> ($includeAnswerBox) {
        <span class="keywordflow">if</span> ($debugMode) {
        
            $answerBox_code = $main::BR . <a class="code" href="classmain.html#ab5fc36f1a975bc113e4a6d979e4723cd">main::NAMED_ANS_RULE</a>(<span class="stringliteral">&#39;answerBox&#39;</span>, 50 );
            $answerBox_code .= qq!
                             &lt;br/&gt;&lt;input type=<span class="stringliteral">&quot;button&quot;</span> value=<span class="stringliteral">&quot;get Answer from applet&quot;</span> onClick=<span class="stringliteral">&quot;eval(ww_applet_list[&#39;$appletName&#39;].submitActionScript )&quot;</span>/&gt;
                             &lt;br/&gt;
                            !;
        } <span class="keywordflow">else</span> {
            $answerBox_code = <a class="code" href="classmain.html#ab0a39ae365c9380d06bdfa577d17143c">main::NAMED_HIDDEN_ANS_RULE</a>(<span class="stringliteral">&#39;answerBox&#39;</span>, 50 );
        }
    }
    
<span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span><span class="preprocessor">    # insert header material</span>
<span class="preprocessor"></span><span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span>    <a class="code" href="classmain.html#a283695d1b45b4f06697486088bb7aef9">main::HEADER_TEXT</a>($self-&gt;insertHeader());
<span class="preprocessor">    # update the debug mode for this applet.</span>
<span class="preprocessor"></span>    <a class="code" href="classmain.html#a283695d1b45b4f06697486088bb7aef9">main::HEADER_TEXT</a>(qq!&lt;script language=<span class="stringliteral">&quot;javascript&quot;</span>&gt; ww_applet_list[<span class="stringliteral">&quot;$appletName&quot;</span>].<a class="code" href="classApplet.html#a73c739e9a98a402dfea8063e86130cc1">debugMode</a> = $debugMode;\n&lt;/script&gt;!);
    
<span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span><span class="preprocessor">    # Return HTML or TeX strings to be included in the body of the page</span>
<span class="preprocessor"></span><span class="preprocessor">    ##########################</span>
<span class="preprocessor"></span>        
    <span class="keywordflow">return</span> <a class="code" href="classmain.html#a537c1e0ee13c33a701a18edc3a644bc1">main::MODES</a>(TeX=&gt;<span class="stringliteral">&#39; {\bf  applet } &#39;</span>, HTML=&gt;$self-&gt;insertObject.$main::BR.$state_storage_html_code.$answerBox_code);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a952131357192d2b1ce0f338c03bcd16b"></a><!-- doxytag: member="Applet::insertHeader" ref="a952131357192d2b1ce0f338c03bcd16b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::insertHeader </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-insertHeader' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-insertHeader-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-insertHeader-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-insertHeader-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in insertHeader: 39</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#a952131357192d2b1ce0f338c03bcd16b">insertHeader</a> {
    my $self = shift;

    my $codebase              =  $self-&gt;codebase;
    my $appletId              =  $self-&gt;appletId;
    my $appletName            =  $self-&gt;appletName;
    my $initializeActionAlias =  $self-&gt;initializeActionAlias;
    my $submitActionScript    =  $self-&gt;submitActionScript;
    my $setStateAlias         =  $self-&gt;setStateAlias;
    my $getStateAlias         =  $self-&gt;getStateAlias;

    my $setConfigAlias        =  $self-&gt;setConfigAlias;
    my $getConfigAlias        =  $self-&gt;getConfigAlias;
    my $maxInitializationAttempts = $self-&gt;maxInitializationAttempts;
    my $debugMode             =  ($self-&gt;debugMode) ? <span class="stringliteral">&quot;1&quot;</span>: <span class="stringliteral">&quot;0&quot;</span>;
    my $answerBoxAlias        =  $self-&gt;{<a class="code" href="classApplet.html#af212843e8b3f2180fb69246d2b43c646">answerBoxAlias</a>};
    my $onInit                =  $self-&gt;{onInit};   # function to indicate that applet is loaded (<span class="keywordflow">for</span> geogebra:   ggbOnInit
    my $headerText            =  $self-&gt;header();
    my $selfLoading           =  $self-&gt;{selfLoading};
    
<span class="preprocessor">    #$submitActionScript =~ s/&quot;/\\&quot;/g;    # escape quotes for ActionScript</span>
<span class="preprocessor"></span><span class="preprocessor">                                         # other variables should not have quotes.</span>
<span class="preprocessor"></span>                                         
    $submitActionScript =~ s/\n/ /g;     # replace returns with spaces -- returns in the wrong spot can cause trouble with javaScript
    $submitActionScript =~ s/\r/ /g;     # replace returns with spaces -- returns can cause trouble
    my  $base64_submitActionScript =     encode_base64($submitActionScript);
    my $base64_configuration  =  encode_base64($self-&gt;configuration);
    my $base64_initialState   =  encode_base64($self-&gt;initialState);
 
    $base64_submitActionScript =~s/\n<span class="comment">//g;</span>
    $base64_initialState  =~s/\n<span class="comment">//g;  # base64 encoded xml</span>
    $base64_configuration =~s/\n<span class="comment">//g;  # base64 encoded xml</span>
    
    $headerText =~ s/(\$\w+)/$1/gee;   # interpolate variables p17 of Cookbook
  
    <span class="keywordflow">return</span> $headerText;


}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a84a5b01561c0423bf4ce62cfde58bc3c"></a><!-- doxytag: member="Applet::insertObject" ref="a84a5b01561c0423bf4ce62cfde58bc3c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::insertObject </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-insertObject' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-insertObject-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-insertObject-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-insertObject-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in insertObject: 31</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#a84a5b01561c0423bf4ce62cfde58bc3c">insertObject</a> {
    my $self       = shift;
    my $code       = $self-&gt;{<a class="code" href="classApplet.html#aac579ac3b45b197f6be90b130a7b32b5">code</a>};
    my $codebase   = $self-&gt;{<a class="code" href="classApplet.html#a92ce3ebf6d01a768700d8c4b3e6a9e46">codebase</a>};
    my $appletId   = $self-&gt;{<a class="code" href="classApplet.html#ada9ac264adf2e487a3f791b9712b716d">appletName</a>};
    my $appletName = $self-&gt;{<a class="code" href="classApplet.html#ada9ac264adf2e487a3f791b9712b716d">appletName</a>};
    my $archive    = $self-&gt;{<a class="code" href="classApplet.html#a53c8d7d8d299de1d8076a3172094da05">archive</a>};
    my $width      = $self-&gt;{<a class="code" href="classApplet.html#af72bb5847c68215c1070a22c1917fe1b">width</a>};
    my $height     = $self-&gt;{<a class="code" href="classApplet.html#a095422c74044344e7cc61a6bb69077c7">height</a>};
    my $applet_bgcolor = $self-&gt;{<a class="code" href="classApplet.html#a3421fdb4249b3b4cf3f1365f41fbff43">bgcolor</a>};
    my $selfLoading = $self-&gt;{selfLoading};
    my $javaParameters = <span class="stringliteral">&#39;&#39;</span>;
    my $flashParameters = <span class="stringliteral">&#39;&#39;</span>;
    <span class="keywordflow">if</span> (<a class="code" href="classPGcore.html#ab66ab75e5807b6859bbefc9a1e09c394">PGcore::not_null</a>($self-&gt;{parameter_string}) ) {
        $javaParameters = $self-&gt;{parameter_string};
        $flashParameters = $self-&gt;{parameter_string};
    } <span class="keywordflow">else</span> {
        my %param_hash = %{$self-&gt;params()};
        <span class="keywordflow">foreach</span> my $key (keys %param_hash) {
            $javaParameters .= qq!&lt;param name =<span class="stringliteral">&quot;$key&quot;</span>  value = <span class="stringliteral">&quot;$param_hash{$key}&quot;</span>&gt;\n!;
            $flashParameters .= uri_escape($key).<span class="charliteral">&#39;=&#39;</span>.uri_escape($param_hash{$key}).<span class="charliteral">&#39;&amp;&#39;</span>;
        }
        $flashParameters =~ s/\&amp;$<span class="comment">//;    # trim last &amp;</span>
    }

   
    $objectText = $self-&gt;{objectText};
    $objectText =~ s/(\$\w+)/$1/gee;
    $objectText .=qq{&lt;script language=<span class="stringliteral">&quot;javascript&quot;</span>&gt;ww_applet_list[<span class="stringliteral">&quot;$appletName&quot;</span>].visible = 1;&lt;/script&gt;}; # don<span class="stringliteral">&#39;t submit things if not visible</span>
<span class="stringliteral">    return $objectText;</span>
<span class="stringliteral">}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a5ec0113824c5404265251b875e798f41"></a><!-- doxytag: member="Applet::maxInitializationAttempts" ref="a5ec0113824c5404265251b875e798f41" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::maxInitializationAttempts </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-maxInitializationAttempts' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-maxInitializationAttempts-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-maxInitializationAttempts-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-maxInitializationAttempts-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in maxInitializationAttempts: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#a5ec0113824c5404265251b875e798f41">maxInitializationAttempts</a> {
    my $self = shift;
    $self-&gt;{<a class="code" href="classApplet.html#a5ec0113824c5404265251b875e798f41">maxInitializationAttempts</a>} = shift || $self-&gt;{<a class="code" href="classApplet.html#a5ec0113824c5404265251b875e798f41">maxInitializationAttempts</a>};
    $self-&gt;{<a class="code" href="classApplet.html#a5ec0113824c5404265251b875e798f41">maxInitializationAttempts</a>};
}   
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a3e688ff43beb22c5b993097cf5001d5d"></a><!-- doxytag: member="Applet::new" ref="a3e688ff43beb22c5b993097cf5001d5d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::new </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-new' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-new-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-new-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-new-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in new: 48</span>
<span class="preprocessor"></span>sub <span class="keyword">new</span> {
     my $class = shift; 
     my $self = { 
        <a class="code" href="classApplet.html#ada9ac264adf2e487a3f791b9712b716d">appletName</a>  =&gt; <span class="stringliteral">&#39;&#39;</span>,
        <a class="code" href="classApplet.html#a30fa24d6c28ead9163e77b3f99204b72">appletId</a>    =&gt; <span class="stringliteral">&#39;&#39;</span>,   #always use identical applet Id<span class="stringliteral">&#39;s and applet Names</span>
<span class="stringliteral">        archive     =&gt; &#39;</span><span class="stringliteral">&#39;,</span>
<span class="stringliteral">        code        =&gt; &#39;</span><span class="stringliteral">&#39;,</span>
<span class="stringliteral">        codebase    =&gt; &#39;</span><span class="stringliteral">&#39;,</span>
<span class="stringliteral">        params    =&gt;undef,</span>
<span class="stringliteral">        width     =&gt; 550,</span>
<span class="stringliteral">        height    =&gt; 400,</span>
<span class="stringliteral">        bgcolor   =&gt; &quot;#869ca7&quot;,</span>
<span class="stringliteral">        type      =&gt; &#39;</span><span class="stringliteral">&#39;,</span>
<span class="stringliteral">        visible   =&gt; 0,</span>
<span class="stringliteral">        configuration      =&gt; &#39;</span><span class="stringliteral">&#39;,         # configuration defining the applet</span>
<span class="stringliteral">        initialState       =&gt; &#39;</span><span class="stringliteral">&#39;,         # initial state.  </span>
<span class="stringliteral">        getStateAlias      =&gt;  &#39;</span>getXML<span class="stringliteral">&#39;,</span>
<span class="stringliteral">        setStateAlias      =&gt;  &#39;</span>setXML<span class="stringliteral">&#39;,</span>
<span class="stringliteral">        configAlias        =&gt;  &#39;</span><span class="stringliteral">&#39;,        # deprecated</span>
<span class="stringliteral">        getConfigAlias     =&gt;  &#39;</span>getConfig<span class="stringliteral">&#39;,</span>
<span class="stringliteral">        setConfigAlias     =&gt;  &#39;</span>setConfig<span class="stringliteral">&#39;,</span>
<span class="stringliteral">        initializeActionAlias =&gt; &#39;</span>setXML<span class="stringliteral">&#39;,</span>
<span class="stringliteral">        maxInitializationAttempts =&gt; 5,   # number of attempts to initialize applet</span>
<span class="stringliteral">        submitActionAlias  =&gt;  &#39;</span>getXML<span class="stringliteral">&#39;,</span>
<span class="stringliteral">        submitActionScript  =&gt; &#39;</span><span class="stringliteral">&#39;,        # script executed on submitting the WW question</span>
<span class="stringliteral">        answerBoxAlias     =&gt;  &#39;</span><a class="code" href="classApplet.html#adb3aeee3223d4bca1d78dceaa5c787ca">answerBox</a><span class="stringliteral">&#39;,</span>
<span class="stringliteral">        answerBox          =&gt;  &#39;</span><span class="stringliteral">&#39;,        # deprecated</span>
<span class="stringliteral">        returnFieldName    =&gt; &#39;</span><span class="stringliteral">&#39;,         # deprecated</span>
<span class="stringliteral">        headerText         =&gt;  DEFAULT_HEADER_TEXT(),</span>
<span class="stringliteral">        objectText         =&gt; &#39;</span><span class="stringliteral">&#39;,</span>
<span class="stringliteral">        debugMode          =&gt; 0,</span>
<span class="stringliteral">        selfLoading        =&gt; 0,</span>
<span class="stringliteral">        @_,</span>
<span class="stringliteral">    };</span>
<span class="stringliteral">    bless $self, $class;</span>
<span class="stringliteral">    $self-&gt;initialState(&#39;</span>&lt;xml&gt;&lt;/xml&gt;<span class="stringliteral">&#39;);</span>
<span class="stringliteral">    if ($self-&gt;{returnFieldName} or $self-&gt;{answerBox} ) { # backward compatibility</span>
<span class="stringliteral">        warn &quot;use answerBoxAlias instead of returnFieldName or answerBox&quot;;</span>
<span class="stringliteral">        $self-&gt;{answerBox}=&#39;</span><span class="stringliteral">&#39;;</span>
<span class="stringliteral">        $self-&gt;{returnFieldName}=&#39;</span><span class="stringliteral">&#39;;</span>
<span class="stringliteral">    }</span>
<span class="stringliteral">    if ($self-&gt;{configAlias}) { # backward compatibility</span>
<span class="stringliteral">        warn &quot;use setConfigAlias instead of configAlias&quot;;</span>
<span class="stringliteral">        $self-&gt;{configAlias}=&#39;</span><span class="stringliteral">&#39;;</span>
<span class="stringliteral">    }</span>
<span class="stringliteral">    $self-&gt;configuration(&#39;</span>&lt;xml&gt;&lt;/xml&gt;<span class="stringliteral">&#39;);</span>
<span class="stringliteral">    return $self;</span>
<span class="stringliteral">}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a5b5ea6ff5df17d04304424561e6fcbf1"></a><!-- doxytag: member="Applet::object" ref="a5b5ea6ff5df17d04304424561e6fcbf1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::object </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-object' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-object-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-object-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-object-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in object: 9</span>
<span class="preprocessor"></span>sub  <span class="keywordtype">object</span> {
    my $self = shift;
    <span class="keywordflow">if</span> ($_[0] eq <span class="stringliteral">&quot;reset&quot;</span>) {
        $self-&gt;{objectText}=<span class="stringliteral">&#39;&#39;</span>;
    } <span class="keywordflow">else</span> {    
        $self-&gt;{objectText} .= join(<span class="stringliteral">&quot;&quot;</span>,@_);
    }
    $self-&gt;{objectText};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ab889fb8641f3d3f2ce776e3c53aa4ba4"></a><!-- doxytag: member="Applet::params" ref="ab889fb8641f3d3f2ce776e3c53aa4ba4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::params </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-params' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-params-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-params-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-params-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in params: 11</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#ab889fb8641f3d3f2ce776e3c53aa4ba4">params</a> {
    my $self = shift;
    <span class="keywordflow">if</span> (ref($_[0]) =~/HASH/) {
        $self-&gt;{<a class="code" href="classApplet.html#ab889fb8641f3d3f2ce776e3c53aa4ba4">params</a>} = shift;
    } elsif ( !defined($_[0]) or $_[0] =~ <span class="stringliteral">&#39;&#39;</span>) {
<span class="preprocessor">        # do nothing (read)</span>
<span class="preprocessor"></span>    } <span class="keywordflow">else</span> {
        warn <span class="stringliteral">&quot;You must enter a reference to a hash for the parameter list&quot;</span>;
    }
    $self-&gt;{<a class="code" href="classApplet.html#ab889fb8641f3d3f2ce776e3c53aa4ba4">params</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a52f6c615272f9c448df49ad8e5a2f0eb"></a><!-- doxytag: member="Applet::returnFieldName" ref="a52f6c615272f9c448df49ad8e5a2f0eb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::returnFieldName </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-returnFieldName' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-returnFieldName-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-returnFieldName-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-returnFieldName-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in returnFieldName: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#a52f6c615272f9c448df49ad8e5a2f0eb">returnFieldName</a> {
    my $self = shift;
    warn <span class="stringliteral">&quot;use  answerBoxName  instead of returnFieldName&quot;</span>;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a71afeff086f76de71a86592d4ae997e5"></a><!-- doxytag: member="Applet::setConfigAlias" ref="a71afeff086f76de71a86592d4ae997e5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::setConfigAlias </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-setConfigAlias' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-setConfigAlias-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-setConfigAlias-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-setConfigAlias-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in setConfigAlias: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#a71afeff086f76de71a86592d4ae997e5">setConfigAlias</a> {
    my $self = shift;
    $self-&gt;{<a class="code" href="classApplet.html#a71afeff086f76de71a86592d4ae997e5">setConfigAlias</a>} = shift ||$self-&gt;{<a class="code" href="classApplet.html#a71afeff086f76de71a86592d4ae997e5">setConfigAlias</a>}; # replace the current contents <span class="keywordflow">if</span> non-empty
    $self-&gt;{<a class="code" href="classApplet.html#a71afeff086f76de71a86592d4ae997e5">setConfigAlias</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aaae1bb25294d334e557b3eaa1274e562"></a><!-- doxytag: member="Applet::setStateAlias" ref="aaae1bb25294d334e557b3eaa1274e562" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::setStateAlias </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-setStateAlias' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-setStateAlias-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-setStateAlias-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-setStateAlias-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in setStateAlias: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#aaae1bb25294d334e557b3eaa1274e562">setStateAlias</a> {
    my $self = shift;
    $self-&gt;{<a class="code" href="classApplet.html#aaae1bb25294d334e557b3eaa1274e562">setStateAlias</a>} = shift ||$self-&gt;{<a class="code" href="classApplet.html#aaae1bb25294d334e557b3eaa1274e562">setStateAlias</a>}; # replace the current contents <span class="keywordflow">if</span> non-empty
    $self-&gt;{<a class="code" href="classApplet.html#aaae1bb25294d334e557b3eaa1274e562">setStateAlias</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ab3f9f529cce40c97ad237391659fd054"></a><!-- doxytag: member="Applet::state" ref="ab3f9f529cce40c97ad237391659fd054" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::state </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-state' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-state-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-state-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-state-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in state: 8</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#ab3f9f529cce40c97ad237391659fd054">state</a> {    #deprecated
    my $self = shift;
    my $str = shift;
    warn <span class="stringliteral">&quot;use $self-&gt;initialState instead of $self-&gt;state.  Internally this string is ascii, not base64 encoded&quot;</span>, join(<span class="charliteral">&#39; &#39;</span>, caller());
<span class="preprocessor">#   $self-&gt;{base64_state} =  encode_base64($str)   ||$self-&gt;{base64_state}; # replace the current string if non-empty</span>
<span class="preprocessor"></span><span class="preprocessor">#   $self-&gt;{base64_state} =~ s/\n//g;</span>
<span class="preprocessor"></span><span class="preprocessor">#     decode_base64($self-&gt;{base64_state});</span>
<span class="preprocessor">}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="acb5c7523a370f1eb14d68f871cae8639"></a><!-- doxytag: member="Applet::submitActionAlias" ref="acb5c7523a370f1eb14d68f871cae8639" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::submitActionAlias </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-submitActionAlias' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-submitActionAlias-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-submitActionAlias-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-submitActionAlias-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in submitActionAlias: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#acb5c7523a370f1eb14d68f871cae8639">submitActionAlias</a> {
    my $self = shift;
    $self-&gt;{<a class="code" href="classApplet.html#acb5c7523a370f1eb14d68f871cae8639">submitActionAlias</a>} = shift ||$self-&gt;{<a class="code" href="classApplet.html#acb5c7523a370f1eb14d68f871cae8639">submitActionAlias</a>}; # replace the current contents <span class="keywordflow">if</span> non-empty
    $self-&gt;{<a class="code" href="classApplet.html#acb5c7523a370f1eb14d68f871cae8639">submitActionAlias</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aeb04a88a14ed9f2fbdcb07131a3b4182"></a><!-- doxytag: member="Applet::submitActionScript" ref="aeb04a88a14ed9f2fbdcb07131a3b4182" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::submitActionScript </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-submitActionScript' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-submitActionScript-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-submitActionScript-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-submitActionScript-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in submitActionScript: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#aeb04a88a14ed9f2fbdcb07131a3b4182">submitActionScript</a> {
    my $self = shift;
    $self-&gt;{<a class="code" href="classApplet.html#aeb04a88a14ed9f2fbdcb07131a3b4182">submitActionScript</a>} = shift ||$self-&gt;{<a class="code" href="classApplet.html#aeb04a88a14ed9f2fbdcb07131a3b4182">submitActionScript</a>}; # replace the current contents <span class="keywordflow">if</span> non-empty
    $self-&gt;{<a class="code" href="classApplet.html#aeb04a88a14ed9f2fbdcb07131a3b4182">submitActionScript</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="af72bb5847c68215c1070a22c1917fe1b"></a><!-- doxytag: member="Applet::width" ref="af72bb5847c68215c1070a22c1917fe1b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Applet::width </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-width' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-width-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-width-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-width-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in width: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classApplet.html#af72bb5847c68215c1070a22c1917fe1b">width</a> {
    my $self = shift;
    $self-&gt;{<a class="code" href="classApplet.html#af72bb5847c68215c1070a22c1917fe1b">width</a>} = shift ||$self-&gt;{<a class="code" href="classApplet.html#af72bb5847c68215c1070a22c1917fe1b">width</a>}; # replace the current <a class="code" href="classApplet.html#af72bb5847c68215c1070a22c1917fe1b">width</a> <span class="keywordflow">if</span> non-empty
    $self-&gt;{<a class="code" href="classApplet.html#af72bb5847c68215c1070a22c1917fe1b">width</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Applet_8pm_source.html">Applet.pm</a></li>
<li><a class="el" href="AppletObjects_8pl_source.html">AppletObjects.pl</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Jun 8 22:54:56 2012 for PG by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
