<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>WeBWorK2: WeBWorK::URLPath Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="classWeBWorK.html">WeBWorK</a>::<a class="el" href="classWeBWorK_1_1URLPath.html">URLPath</a>
  </div>
</div>
<div class="contents">
<h1>WeBWorK::URLPath Class Reference</h1><!-- doxytag: class="WeBWorK::URLPath" --><!-- doxytag: inherits="WeBWorK" --><div class="dynheader">
Inheritance diagram for WeBWorK::URLPath:</div>
<div class="dynsection">
<div class="center"><img src="classWeBWorK_1_1URLPath__inherit__graph.png" border="0" usemap="#WeBWorK_1_1URLPath_inherit__map" alt="Inheritance graph"/></div>
<map name="WeBWorK_1_1URLPath_inherit__map" id="WeBWorK_1_1URLPath_inherit__map">
<area shape="rect" href="classWeBWorK.html" title="WeBWorK" alt="" coords="36,5,119,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for WeBWorK::URLPath:</div>
<div class="dynsection">
<div class="center"><img src="classWeBWorK_1_1URLPath__coll__graph.png" border="0" usemap="#WeBWorK_1_1URLPath_coll__map" alt="Collaboration graph"/></div>
<map name="WeBWorK_1_1URLPath_coll__map" id="WeBWorK_1_1URLPath_coll__map">
<area shape="rect" href="classWeBWorK.html" title="WeBWorK" alt="" coords="36,5,119,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classWeBWorK_1_1URLPath-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Avaliable Methods</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp9be22fb8347fa3884856571d2a5f020b"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1URLPath.html#a6538040380ee98eb4815cd0e35c03de7">arg</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1URLPath.html#a6a804ff5b90a46d2a28234dbca0218f3">args</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1URLPath.html#a9785332aafe8038626a37575da251786">interpolate</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1URLPath.html#ac93d46d7c7c8ae110e5f5b338dd7cc4b">debug</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1URLPath.html#a049e2c50870bac1c8b3c4313ea3fca1e">new</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1URLPath.html#af3af9bbed8ca179f368b9cf20f8e4f72">newFromPath</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1URLPath.html#a402e10b4b81357771965b23de2cdbc62">all_modules</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1URLPath.html#a3bc0da3a3903a1927e7f5b59caa04734">module</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1URLPath.html#a3d22179c8f7dd51d93f3474675b637d4">visitPathTypeNode</a> ($$$$)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1URLPath.html#a06a527ad8015b204363578bc1365dc5e">getPathType</a> ($)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1URLPath.html#ab56508554d12df6885ed647e75684f92">parent</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1URLPath.html#afbf58a6febc6dd284865f2a8ea647611">name</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1URLPath.html#a097f72bab7a669024678b7d8f0f2beff">getModuleType</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1URLPath.html#a6c4977511f308a388dce429d79c77f00">visitPathTypeNode</a> ($$$$)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1URLPath.html#a7d6aa16f0eafb1ea6948d5178c89d416">child</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1URLPath.html#ae32ab661c5f91efcde771d793412a47e">path</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1URLPath.html#a607cc1919da6db6fcf396e50052784ca">newFromModule</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1URLPath.html#a43cef0a85ac8c7640c0551d869733751">buildPathFromType</a> ($)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1URLPath.html#a05f4c4743d0246ab20d077326a8d0638">type</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h2><a class="anchor" id="NAME">
NAME</a></h2>
<p><a class="el" href="classWeBWorK_1_1URLPath.html">WeBWorK::URLPath</a> - the <a class="el" href="classWeBWorK.html">WeBWorK</a> virtual URL heirarchy.</p>
<h2><a class="anchor" id="VIRTUAL_HEIRARCHY">
VIRTUAL HEIRARCHY</a></h2>
<p>PLEASE FOR THE LOVE OF GOD UPDATE THIS IF YOU CHANGE THE HEIRARCHY BELOW!!! </p>
<pre> root                                /</pre><pre> course_admin                        /admin/ -&gt; logout, options, instructor_tools
 html2xml                            /html2xml/
 instructorXMLHandler     			     /instructorXMLHandler/
 set_list                            /$courseID/</pre><pre> equation_display                    /$courseID/equation/
 feedback                            /$courseID/feedback/
 gateway_quiz                        /$courseID/quiz_mode/$setID/
 proctored_gateway_quiz              /$courseID/proctored_quiz_mode/$setID/
 proctored_gateway_proctor_login     /$courseID/proctored_quiz_mode/$setID/proctor_login/
 grades                              /$courseID/grades/
 hardcopy                            /$courseID/hardcopy/
 hardcopy_preselect_set              /$courseID/hardcopy/$setID/
 logout                              /$courseID/logout/
 options                             /$courseID/options/
 #test                               /$courseID/test/
 #render                              /$courseID/render/</pre><pre> instructor_tools                    /$courseID/instructor/</pre><pre> instructor_user_list                /$courseID/instructor/users/
 instructor_user_detail              /$courseID/instructor/users/$userID/
 instructor_sets_assigned_to_user    /$courseID/instructor/users/$userID/sets/</pre><pre> instructor_user_list2                /$courseID/instructor/users2/
 instructor_user_detail2              /$courseID/instructor/users2/$userID/ #not created yet
 instructor_sets_assigned_to_user2    /$courseID/instructor/users2/$userID/sets/ #not created yet</pre><pre> instructor_set_list                 /$courseID/instructor/sets/
 instructor_set_detail               /$courseID/instructor/sets/$setID/
 instructor_users_assigned_to_set    /$courseID/instructor/sets/$setID/users/</pre><pre> instructor_set_list2                 /$courseID/instructor/sets2/
 instructor_set_detail2               /$courseID/instructor/sets2/$setID/ #not created yet
 instructor_users_assigned_to_set2    /$courseID/instructor/sets2/$setID/users/ #not created yet</pre><pre> instructor_add_users                /$courseID/instructor/add_users/
 instructor_set_assigner             /$courseID/instructor/assigner/
 instructor_file_transfer            /$courseID/instructor/files/
 instructor_file_manager             /$courseID/instructor/file_manager/
 instructor_set_maker                /$courseID/instructor/setmaker/
 instructor_set_maker2               /$courseID/instructor/setmaker2/
 instructor_set_maker3               /$courseID/instructor/setmaker3/
 instructor_get_target_set_problems  /$courseID/instructor/GetTargetSetProblems/
 instructor_get_library_set_problems /$courseID/instructor/GetLibrarySetProblems/
 instructor_config                   /$courseID/instructor/config/
 instructor_compare                  /$courseID/instructor/compare/</pre><pre> instructor_problem_editor           /$courseID/instructor/pgProblemEditor/
 instructor_problem_editor_withset   /$courseID/instructor/pgProblemEditor/$setID/
 instructor_problem_editor_withset_withproblem
                                     /$courseID/instructor/pgProblemEditor/$setID/$problemID/</pre><pre> instructor_problem_editor2           /$courseID/instructor/pgProblemEditor2/
 instructor_problem_editor2_withset   /$courseID/instructor/pgProblemEditor2/$setID/
 instructor_problem_editor2_withset_withproblem
                                     /$courseID/instructor/pgProblemEditor2/$setID/$problemID/</pre><pre> instructor_scoring                  /$courseID/instructor/scoring/
 instructor_scoring_download         /$courseID/instructor/scoringDownload/
 instructor_mail_merge               /$courseID/instructor/send_mail/
 instructor_answer_log               /$courseID/instructor/show_answers/
 instructor_preflight               /$courseID/instructor/preflight/</pre><pre> instructor_statistics               /$courseID/instructor/stats/
 instructor_set_statistics           /$courseID/instructor/stats/set/$setID/
 instructor_user_statistics          /$courseID/instructor/stats/student/$userID/</pre><pre> instructor_progress                  /$courseID/instructor/StudentProgress/
 instructor_set_progress              /$courseID/instructor/StudentProgress/set/$setID/
 instructor_user_progress             /$courseID/instructor/StudentProgress/student/$userID/</pre><pre> problem_list                        /$courseID/$setID/
 problem_detail                      /$courseID/$setID/$problemID/</pre><p>a handy template: </p>
<pre>	id =&gt; {
		name    =&gt; '',
		parent  =&gt; '',
		kids    =&gt; [ qw// ],
		match   =&gt; qr|^/|,
		capture =&gt; [ qw// ],
		produce =&gt; '',
		display =&gt; '',
	},</pre><h2><a class="anchor" id="CONSTRUCTORS">
CONSTRUCTORS</a></h2>
<ul>
<li>
<p class="startli"><a class="anchor" id="item_new___fields_"></a><b>new(%fields)</b> </p>
<p>Creates a new <a class="el" href="classWeBWorK_1_1URLPath.html">WeBWorK::URLPath</a>. %fields may contain the following: </p>
<pre> type =&gt; the internal path type associated with this 
 args =&gt; a reference to a hash associating path arguments with values</pre><p></p>
<p class="endli">This constructor is used internally. Refer to <a class="el" href="classWeBWorK_1_1URLPath.html#af3af9bbed8ca179f368b9cf20f8e4f72">newFromPath()</a> and <a class="el" href="classWeBWorK_1_1URLPath.html#a607cc1919da6db6fcf396e50052784ca">newFromModule()</a> for more useful constructors.  </p>
</li>
</ul>
<p>Creates a new <a class="el" href="classWeBWorK_1_1URLPath.html">WeBWorK::URLPath</a> by parsing the path given in $path. It the path is invalid, an exception is thrown. </p>
<p>Creates a new <a class="el" href="classWeBWorK_1_1URLPath.html">WeBWorK::URLPath</a> by finding a path type which matches the module and path arguments given. If no type matches, an exception is thrown.</p>
<h2><a class="anchor" id="METHODS">
METHODS</a></h2>
<h3><a class="anchor" id="Methods_that_return_information_from_the_object_itself">
Methods that return information from the object itself</a></h3>
<ul>
<li>
<p class="startli"><a class="anchor" id="item_type__"></a><b><a class="el" href="classWeBWorK_1_1URLPath.html#a05f4c4743d0246ab20d077326a8d0638">type()</a></b> </p>
<p class="endli">Returns the path type of the <a class="el" href="classWeBWorK_1_1URLPath.html">WeBWorK::URLPath</a>.  </p>
</li>
</ul>
<p>Returns a hash of arguments derived from the <a class="el" href="classWeBWorK_1_1URLPath.html">WeBWorK::URLPath</a>. </p>
<p>Returns the named argument, as derived from the <a class="el" href="classWeBWorK_1_1URLPath.html">WeBWorK::URLPath</a>.</p>
<h3><a class="anchor" id="Methods_that_return_information_from_path_node_associated_with_the_object">
Methods that return information from path node associated with the object</a></h3>
<ul>
<li>
<p class="startli"><a class="anchor" id="item_name__"></a><b><a class="el" href="classWeBWorK_1_1URLPath.html#afbf58a6febc6dd284865f2a8ea647611">name()</a></b> </p>
<p class="endli">Returns the human-readable name of this <a class="el" href="classWeBWorK_1_1URLPath.html">WeBWorK::URLPath</a>.  </p>
</li>
</ul>
<p>Returns the name of the module that will handle this <a class="el" href="classWeBWorK_1_1URLPath.html">WeBWorK::URLPath</a>.</p>
<h3><a class="anchor" id="Methods_that_search_the_virtual_heirarchy">
Methods that search the virtual heirarchy</a></h3>
<ul>
<li>
<p class="startli"><a class="anchor" id="item_parent__"></a><b><a class="el" href="classWeBWorK_1_1URLPath.html#ab56508554d12df6885ed647e75684f92">parent()</a></b> </p>
<p class="endli">Returns a new <a class="el" href="classWeBWorK_1_1URLPath.html">WeBWorK::URLPath</a> representing the parent of the current <a class="el" href="classWeBWorK_1_1URLPath.html">URLPath</a>. Returns an undefined value if the <a class="el" href="classWeBWorK_1_1URLPath.html">URLPath</a> has no parent.  </p>
</li>
</ul>
<p>Returns a new <a class="el" href="classWeBWorK_1_1URLPath.html">WeBWorK::URLPath</a> representing the child of the current <a class="el" href="classWeBWorK_1_1URLPath.html">URLPath</a> whose module is </p>
<div class="fragment"><pre class="fragment">$module
</pre></div><p> . If no child matches, an undefined value is returned. Pass additional arguments needed by the child in </p>
<div class="fragment"><pre class="fragment">\%newArgs
</pre></div><p> . </p>
<p>Reconstructs the path string from a <a class="el" href="classWeBWorK_1_1URLPath.html">WeBWorK::URLPath</a>.</p>
<h2><a class="anchor" id="UTILITY_FUNCTIONS">
UTILITY FUNCTIONS</a></h2>
<ul>
<li>
<p class="startli"><a class="anchor" id="item_all_modules__"></a><b><a class="el" href="classWeBWorK_1_1URLPath.html#a402e10b4b81357771965b23de2cdbc62">all_modules()</a></b> </p>
<p class="endli">Return a list of the display modules associated with all possible path types.  </p>
</li>
</ul>
<p>Replaces simple scalars (\$\w+) in $string with values in %symbols. If a scalar does not exist in %symbols, it is left alone. </p>
<ul>
<li>
<p class="startli"><a class="anchor" id="item_getPathType__path_"></a><b>getPathType($path)</b> </p>
<p class="endli">Parse the string $path, determining the path type. Returns ($type, %args), where $type is the type of the path and %args contains any extracted path arguments. If conversion fails, a false value is returned.  </p>
</li>
</ul>
<p>Returns the path type matching the given module and argument names, or a false value if no type matches. </p>
<p>Returns a string path for the given path type. Since arguments are not supplied, the string may contain scalar variables ripe for interpolation. </p>
<p>Internal search function. See <a class="el" href="classWeBWorK_1_1URLPath.html#a06a527ad8015b204363578bc1365dc5e">getPathType()</a>. </p>
<p>Returns the nodeID of the node that consumed the final characters in $path, or the following failure conditions: </p>
<p>Returns 0 if $nodeID doesn't match $path. </p>
<p>Returns -1 if $nodeID matched $path, but no children of $nodeID consumed the remaining path. In this case, the stack is unwound immediately. </p>

<p>Definition at line <a class="el" href="URLPath_8pm_source.html#l00191">191</a> of file <a class="el" href="URLPath_8pm_source.html">URLPath.pm</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a402e10b4b81357771965b23de2cdbc62"></a><!-- doxytag: member="WeBWorK::URLPath::all_modules" ref="a402e10b4b81357771965b23de2cdbc62" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::URLPath::all_modules </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-all_modules' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-all_modules-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-all_modules-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-all_modules-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in all_modules: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1URLPath.html#a402e10b4b81357771965b23de2cdbc62">all_modules</a> {
    my @modules = grep { defined } map { $pathTypes{$_}{display} } keys %pathTypes;
    my %modules; @modules{@modules} = (); # <span class="keyword">remove</span> duplicates
    <span class="keywordflow">return</span> keys %modules;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a6538040380ee98eb4815cd0e35c03de7"></a><!-- doxytag: member="WeBWorK::URLPath::arg" ref="a6538040380ee98eb4815cd0e35c03de7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::URLPath::arg </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-arg' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-arg-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-arg-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-arg-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in arg: 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1URLPath.html#a6538040380ee98eb4815cd0e35c03de7">arg</a> {
    my ($self, $name) = @_;
    my %args = %{ $self-&gt;{args} };
    
    <span class="keywordflow">return</span> $args{$name};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a6a804ff5b90a46d2a28234dbca0218f3"></a><!-- doxytag: member="WeBWorK::URLPath::args" ref="a6a804ff5b90a46d2a28234dbca0218f3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::URLPath::args </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-args' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-args-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-args-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-args-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in args: 6</span>
<span class="preprocessor"></span>sub args {
    my ($self) = @_;
    my %args = %{ $self-&gt;{args} };
    
    <span class="keywordflow">return</span> %args;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a43cef0a85ac8c7640c0551d869733751"></a><!-- doxytag: member="WeBWorK::URLPath::buildPathFromType" ref="a43cef0a85ac8c7640c0551d869733751" args="($)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::URLPath::buildPathFromType </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-buildPathFromType($)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-buildPathFromType($)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-buildPathFromType($)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-buildPathFromType($)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in buildPathFromType($): 12</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1URLPath.html#a43cef0a85ac8c7640c0551d869733751">buildPathFromType</a>($) {
    my ($type) = @_;
    
    my $path = <span class="stringliteral">&quot;&quot;</span>;
    
    <span class="keywordflow">while</span> ($type) {
        $path = $pathTypes{$type}-&gt;{produce} . $path;
        $type = $pathTypes{$type}-&gt;{<a class="code" href="classWeBWorK_1_1URLPath.html#ab56508554d12df6885ed647e75684f92">parent</a>};
    };
    
    <span class="keywordflow">return</span> $path;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a7d6aa16f0eafb1ea6948d5178c89d416"></a><!-- doxytag: member="WeBWorK::URLPath::child" ref="a7d6aa16f0eafb1ea6948d5178c89d416" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::URLPath::child </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-child' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-child-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-child-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-child-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in child: 19</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1URLPath.html#a7d6aa16f0eafb1ea6948d5178c89d416">child</a> {
    my ($self, $module, %newArgs) = @_;
    my $type = $self-&gt;{type};
    
    my @kids = @{ $pathTypes{$type}-&gt;{kids} };
    my $newType;
    <span class="keywordflow">foreach</span> my $kid (@kids) {
        <span class="keywordflow">if</span> ($pathTypes{$kid}-&gt;{module} eq $module) {
            $newType = $kid;
            last;
        }
    }
    
    <span class="keywordflow">if</span> ($newType) {
        <span class="keywordflow">return</span> $self-&gt;new(type =&gt; $newType, args =&gt; \%newArgs);
    } <span class="keywordflow">else</span> {
        <span class="keywordflow">return</span> undef;
    }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ac93d46d7c7c8ae110e5f5b338dd7cc4b"></a><!-- doxytag: member="WeBWorK::URLPath::debug" ref="ac93d46d7c7c8ae110e5f5b338dd7cc4b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::URLPath::debug </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-debug' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-debug-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-debug-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-debug-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in debug: 6</span>
<span class="preprocessor"></span>    sub <a class="code" href="classWeBWorK_1_1URLPath.html#ac93d46d7c7c8ae110e5f5b338dd7cc4b">debug</a> {
        my ($label, $indent, @message) = @_;
        my $header = <span class="stringliteral">&quot; &quot;</span>x$indent;
        $header .= <span class="stringliteral">&quot;$label: &quot;</span> <span class="keywordflow">if</span> $label ne <span class="stringliteral">&quot;&quot;</span>;
        <a class="code" href="classWeBWorK_1_1URLPath.html#ac93d46d7c7c8ae110e5f5b338dd7cc4b">WeBWorK::Debug::debug</a>($header, @message);
    }
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a097f72bab7a669024678b7d8f0f2beff"></a><!-- doxytag: member="WeBWorK::URLPath::getModuleType" ref="a097f72bab7a669024678b7d8f0f2beff" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::URLPath::getModuleType </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getModuleType' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-getModuleType-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getModuleType-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getModuleType-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in getModuleType: 36</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1URLPath.html#a097f72bab7a669024678b7d8f0f2beff">getModuleType</a> {
    my ($module, @args) = @_;
    @args = sort @args;
    my %args;
    @args{@args} = ();
    
    NODE: <span class="keywordflow">foreach</span> my $nodeID (keys %pathTypes) {
        my $node = $pathTypes{$nodeID};
        
<span class="preprocessor">        # module name matches?</span>
<span class="preprocessor"></span>        next NODE unless defined $node-&gt;{display} and $node-&gt;{display} eq $module;
        
<span class="preprocessor">        # collect all captures from here to root</span>
<span class="preprocessor"></span>        my @captures;
        my $tmpNodeID = $nodeID;
        <span class="keywordflow">while</span> ($tmpNodeID) {
            my $tmpNode = $pathTypes{$tmpNodeID};
            push @captures, @{ $tmpNode-&gt;{capture} };
            $tmpNodeID = $tmpNode-&gt;{<a class="code" href="classWeBWorK_1_1URLPath.html#ab56508554d12df6885ed647e75684f92">parent</a>};
        }
        
<span class="preprocessor">        # same number of captures?</span>
<span class="preprocessor"></span>        next NODE unless @captures == @args;
        
<span class="preprocessor">        # same captures?</span>
<span class="preprocessor"></span>        @captures = sort @captures;
        <span class="keywordflow">for</span> (my $i = 0; $i &lt; @args; $i++) {
            next NODE unless $args[$i] eq $captures[$i];
        }
        
<span class="preprocessor">        # if we got here, this node matches</span>
<span class="preprocessor"></span>        <span class="keywordflow">return</span> $nodeID;
    }
    
    <span class="keywordflow">return</span> 0; # no node matches
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a06a527ad8015b204363578bc1365dc5e"></a><!-- doxytag: member="WeBWorK::URLPath::getPathType" ref="a06a527ad8015b204363578bc1365dc5e" args="($)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::URLPath::getPathType </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getPathType($)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-getPathType($)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getPathType($)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getPathType($)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in getPathType($): 8</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1URLPath.html#a06a527ad8015b204363578bc1365dc5e">getPathType</a>($) {
    my ($path) = @_;
    
    my %args;
    my $context = <a class="code" href="classWeBWorK_1_1URLPath.html#a3d22179c8f7dd51d93f3474675b637d4">visitPathTypeNode</a>(<span class="stringliteral">&quot;root&quot;</span>, $path, \%args, 0);
    
    <span class="keywordflow">return</span> $context, %args;
}
</pre></div>  
</div>
 
<p>Definition at line <a class="el" href="URLPath_8pm_source.html#l00400">400</a> of file <a class="el" href="URLPath_8pm_source.html">URLPath.pm</a>.</p>

</div>
</div>
<a class="anchor" id="a9785332aafe8038626a37575da251786"></a><!-- doxytag: member="WeBWorK::URLPath::interpolate" ref="a9785332aafe8038626a37575da251786" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::URLPath::interpolate </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-interpolate' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-interpolate-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-interpolate-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-interpolate-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in interpolate: 7</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1URLPath.html#a9785332aafe8038626a37575da251786">interpolate</a> {
    my ($string, %symbols) = @_;
    
    $string =~ s/\$(\w+)/exists $symbols{$1} ? $symbols{$1} : <span class="stringliteral">&quot;\$$1&quot;</span>/eg;
    
    <span class="keywordflow">return</span> $string;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a3bc0da3a3903a1927e7f5b59caa04734"></a><!-- doxytag: member="WeBWorK::URLPath::module" ref="a3bc0da3a3903a1927e7f5b59caa04734" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::URLPath::module </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-module' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-module-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-module-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-module-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in module: 6</span>
<span class="preprocessor"></span>sub module {
    my ($self) = @_;
    my $type = $self-&gt;{type};
    
    <span class="keywordflow">return</span> $pathTypes{$type}-&gt;{display};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="afbf58a6febc6dd284865f2a8ea647611"></a><!-- doxytag: member="WeBWorK::URLPath::name" ref="afbf58a6febc6dd284865f2a8ea647611" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::URLPath::name </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-name' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-name-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-name-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-name-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in name: 11</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1URLPath.html#afbf58a6febc6dd284865f2a8ea647611">name</a> {
    my ($self) = @_;
    my $type = $self-&gt;{type};
    my %args = $self-&gt;args;
    
    my $name = $pathTypes{$type}-&gt;{<a class="code" href="classWeBWorK_1_1URLPath.html#afbf58a6febc6dd284865f2a8ea647611">name</a>};
    $name = $self-&gt;{r}-&gt;maketext($name);   # translate the display <a class="code" href="classWeBWorK_1_1URLPath.html#afbf58a6febc6dd284865f2a8ea647611">name</a>
    $name = <a class="code" href="classWeBWorK_1_1URLPath.html#a9785332aafe8038626a37575da251786">interpolate</a>($name, %args);
    
    <span class="keywordflow">return</span> $name;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a049e2c50870bac1c8b3c4313ea3fca1e"></a><!-- doxytag: member="WeBWorK::URLPath::new" ref="a049e2c50870bac1c8b3c4313ea3fca1e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::URLPath::new </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-new' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-new-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-new-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-new-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in new: 11</span>
<span class="preprocessor"></span>sub <span class="keyword">new</span> {
    my ($invocant, %fields) = @_;
    my $class = ref $invocant || $invocant;
    my $self = {
        type =&gt; undef,
        r    =&gt; undef,             # will point to the <a class="code" href="classWeBWorK_1_1URLPath.html#ab56508554d12df6885ed647e75684f92">parent</a> request object (<span class="keywordflow">for</span> access to the $ce)
        args =&gt; {},
        %fields,
    };
    <span class="keywordflow">return</span> bless $self, $class;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a607cc1919da6db6fcf396e50052784ca"></a><!-- doxytag: member="WeBWorK::URLPath::newFromModule" ref="a607cc1919da6db6fcf396e50052784ca" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::URLPath::newFromModule </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-newFromModule' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-newFromModule-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-newFromModule-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-newFromModule-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in newFromModule: 13</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1URLPath.html#a607cc1919da6db6fcf396e50052784ca">newFromModule</a> {
    my ($invocant, $module, $r, %args) = @_;
    
    my $type = <a class="code" href="classWeBWorK_1_1URLPath.html#a097f72bab7a669024678b7d8f0f2beff">getModuleType</a>($module, keys %args);
    croak <span class="stringliteral">&quot;URLPath requires a request object parent as second element&quot;</span> unless (ref($r) =~/<a class="code" href="classWeBWorK_1_1Request.html">WeBWorK::Request</a>/);
    croak <span class="stringliteral">&quot;no type matches module $module with args&quot;</span>, map { <span class="stringliteral">&quot; $_=&gt;$args{$_}&quot;</span> } keys %args unless $type;
    
    <span class="keywordflow">return</span> $invocant-&gt;new(
        type =&gt; $type,
        r    =&gt; $r,
        args =&gt; \%args
    );
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="af3af9bbed8ca179f368b9cf20f8e4f72"></a><!-- doxytag: member="WeBWorK::URLPath::newFromPath" ref="af3af9bbed8ca179f368b9cf20f8e4f72" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::URLPath::newFromPath </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-newFromPath' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-newFromPath-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-newFromPath-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-newFromPath-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in newFromPath: 13</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1URLPath.html#af3af9bbed8ca179f368b9cf20f8e4f72">newFromPath</a> {
    my ($invocant,  $path, $r) = @_;
    
    my ($type, %args) = <a class="code" href="classWeBWorK_1_1URLPath.html#a06a527ad8015b204363578bc1365dc5e">getPathType</a>($path);
    croak <span class="stringliteral">&quot;no type matches path $path&quot;</span> unless $type;
    croak <span class="stringliteral">&quot;URLPath requires a request object parent as second element&quot;</span> unless (ref($r) =~/<a class="code" href="classWeBWorK_1_1Request.html">WeBWorK::Request</a>/);
    
    <span class="keywordflow">return</span> $invocant-&gt;new(
        type =&gt; $type,
        r    =&gt; $r,             # will point to the <a class="code" href="classWeBWorK_1_1URLPath.html#ab56508554d12df6885ed647e75684f92">parent</a> request <span class="keywordtype">object</span> (<span class="keywordflow">for</span> access to the $ce)
        args =&gt; \%args,
    );
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ab56508554d12df6885ed647e75684f92"></a><!-- doxytag: member="WeBWorK::URLPath::parent" ref="ab56508554d12df6885ed647e75684f92" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::URLPath::parent </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-parent' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-parent-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-parent-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-parent-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in parent: 14</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1URLPath.html#ab56508554d12df6885ed647e75684f92">parent</a> {
    my ($self) = @_;
    my $type = $self-&gt;{type};
    
    my $newType = $pathTypes{$self-&gt;{type}}-&gt;{<a class="code" href="classWeBWorK_1_1URLPath.html#ab56508554d12df6885ed647e75684f92">parent</a>};
    <span class="keywordflow">return</span> undef unless $newType;
    
<span class="preprocessor">    # remove any arguments added by the current node (and therefore not needed by the parent)</span>
<span class="preprocessor"></span>    my @currArgs = @{ $pathTypes{$type}-&gt;{capture} };
    my %newArgs = %{ $self-&gt;{args} };
    <span class="keyword">delete</span> @newArgs{@currArgs} <span class="keywordflow">if</span> @currArgs;
<span class="preprocessor">    # use the same request object &quot;parent&quot; for parent URLPath as for the child</span>
<span class="preprocessor"></span>    <span class="keywordflow">return</span> $self-&gt;new(type =&gt; $newType, r =&gt; $self-&gt;{r}, args =&gt; \%newArgs);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ae32ab661c5f91efcde771d793412a47e"></a><!-- doxytag: member="WeBWorK::URLPath::path" ref="ae32ab661c5f91efcde771d793412a47e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::URLPath::path </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-path' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-path-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-path-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-path-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in path: 10</span>
<span class="preprocessor"></span>sub path {
    my ($self) = @_;
    my $type = $self-&gt;type;
    my %args = %{ $self-&gt;{args} };
    
    my $path = <a class="code" href="classWeBWorK_1_1URLPath.html#a43cef0a85ac8c7640c0551d869733751">buildPathFromType</a>($type);
    $path = <a class="code" href="classWeBWorK_1_1URLPath.html#a9785332aafe8038626a37575da251786">interpolate</a>($path, %args);
    
    <span class="keywordflow">return</span> $path;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a05f4c4743d0246ab20d077326a8d0638"></a><!-- doxytag: member="WeBWorK::URLPath::type" ref="a05f4c4743d0246ab20d077326a8d0638" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::URLPath::type </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-type' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-type-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-type-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-type-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in type: 6</span>
<span class="preprocessor"></span>sub type {
    my ($self) = @_;
    my $type = $self-&gt;{type};
    
    <span class="keywordflow">return</span> $type;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a6c4977511f308a388dce429d79c77f00"></a><!-- doxytag: member="WeBWorK::URLPath::visitPathTypeNode" ref="a6c4977511f308a388dce429d79c77f00" args="($$$$)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::URLPath::visitPathTypeNode </td>
          <td>(</td>
          <td class="paramtype">$$$$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3d22179c8f7dd51d93f3474675b637d4"></a><!-- doxytag: member="WeBWorK::URLPath::visitPathTypeNode" ref="a3d22179c8f7dd51d93f3474675b637d4" args="($$$$)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::URLPath::visitPathTypeNode </td>
          <td>(</td>
          <td class="paramtype">$$$$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-visitPathTypeNode($$$$);' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-visitPathTypeNode($$$$);-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-visitPathTypeNode($$$$);-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-visitPathTypeNode($$$$);-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in visitPathTypeNode($$$$);: 2</span>
<span class="preprocessor">sub visitPathTypeNode($$$$);</span>
</pre></div>  
</div>
<p>Undocumented Method  
<div id='codesection-visitPathTypeNode($$$$)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-visitPathTypeNode($$$$)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-visitPathTypeNode($$$$)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-visitPathTypeNode($$$$)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in visitPathTypeNode($$$$): 81</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1URLPath.html#a3d22179c8f7dd51d93f3474675b637d4">visitPathTypeNode</a>($$$$) {
    my ($nodeID, $path, $argsRef, $indent) = @_;
    <a class="code" href="classWeBWorK_1_1URLPath.html#ac93d46d7c7c8ae110e5f5b338dd7cc4b">debug</a>(<span class="stringliteral">&quot;visitPathTypeNode&quot;</span>, $indent, <span class="stringliteral">&quot;visiting node $nodeID with path $path&quot;</span>);
    
    unless (exists $pathTypes{$nodeID}) {
        <a class="code" href="classWeBWorK_1_1URLPath.html#ac93d46d7c7c8ae110e5f5b338dd7cc4b">debug</a>(<span class="stringliteral">&quot;visitPathTypeNode&quot;</span>, $indent, <span class="stringliteral">&quot;node $nodeID doesn&#39;t exist in node list: failed&quot;</span>);
        die <span class="stringliteral">&quot;node $nodeID doesn&#39;t exist in node list: failed&quot;</span>;
    }
    
    my %node = %{ $pathTypes{$nodeID} };
    my $match = $node{match};
    my @capture_names = @{ $node{capture} };
    
<span class="preprocessor">    # attempt to match $path against $match.</span>
<span class="preprocessor"></span>    <a class="code" href="classWeBWorK_1_1URLPath.html#ac93d46d7c7c8ae110e5f5b338dd7cc4b">debug</a>(<span class="stringliteral">&quot;visitPathTypeNode&quot;</span>, $indent, <span class="stringliteral">&quot;trying to match $match: &quot;</span>);
    <span class="keywordflow">if</span> ($path =~ s/($match)<span class="comment">//) {</span>
        # it matches! store captured strings in $argsRef and <span class="keyword">remove</span> the matched
        # characters from $path. waste a lot of lines on sanity checking... ;)
        <a class="code" href="classWeBWorK_1_1URLPath.html#ac93d46d7c7c8ae110e5f5b338dd7cc4b">debug</a>(<span class="stringliteral">&quot;&quot;</span>, 0, <span class="stringliteral">&quot;success!&quot;</span>);
        my @capture_values = $1 =~ m/$match/;
        <span class="keywordflow">if</span> (@capture_names) {
            my $nexpected = @capture_names;
            my $ncaptured = @capture_values;
            my $max = $nexpected &gt; $ncaptured ? $nexpected : $ncaptured;
            warn <span class="stringliteral">&quot;captured $ncaptured arguments, expected $nexpected.&quot;</span> unless $ncaptured == $nexpected;
            <span class="keywordflow">for</span> (my $i = 0; $i &lt; $max; $i++) {
                my $name = $capture_names[$i];
                my $value = $capture_values[$i];
                <span class="keywordflow">if</span> ($i &gt; $nexpected) {
                    warn <span class="stringliteral">&quot;captured an unexpected argument: $value -- ignoring it.&quot;</span>;
                    next;
                }
                <span class="keywordflow">if</span> ($i &gt; $ncaptured) {
                    warn <span class="stringliteral">&quot;expected an uncaptured argument named: $name -- ignoring it.&quot;</span>;
                    next;
                }
                <span class="keywordflow">if</span> (exists $argsRef-&gt;{$name}) {
                    my $old = $argsRef-&gt;{$name};
                    warn <span class="stringliteral">&quot;encountered argument $name again, old value: $old new value: $value -- replacing.&quot;</span>;
                }
                <a class="code" href="classWeBWorK_1_1URLPath.html#ac93d46d7c7c8ae110e5f5b338dd7cc4b">debug</a>(<span class="stringliteral">&quot;visitPathTypeNode&quot;</span>, $indent, <span class="stringliteral">&quot;setting argument $name =&gt; $value.&quot;</span>);
                $argsRef-&gt;{$name} = $value;
            }
        }
    } <span class="keywordflow">else</span> {
<span class="preprocessor">        # it doesn&#39;t match. bail out now with return value 0</span>
<span class="preprocessor"></span>        <a class="code" href="classWeBWorK_1_1URLPath.html#ac93d46d7c7c8ae110e5f5b338dd7cc4b">debug</a>(<span class="stringliteral">&quot;&quot;</span>, 0, <span class="stringliteral">&quot;failed.&quot;</span>);
        <span class="keywordflow">return</span> 0;
    }
    
<span class="preprocessor">    ##### if we&#39;re here we matched #####</span>
<span class="preprocessor"></span>    
<span class="preprocessor">    # if there&#39;s no more path left, then this node is the one! return $nodeID</span>
<span class="preprocessor"></span>    <span class="keywordflow">if</span> ($path eq <span class="stringliteral">&quot;&quot;</span>) {
        <a class="code" href="classWeBWorK_1_1URLPath.html#ac93d46d7c7c8ae110e5f5b338dd7cc4b">debug</a>(<span class="stringliteral">&quot;visitPathTypeNode&quot;</span>, $indent, <span class="stringliteral">&quot;no path left, type is $nodeID&quot;</span>);
        <span class="keywordflow">return</span> $nodeID;
    }
    
<span class="preprocessor">    # otherwise, we have to send the remaining path to the node&#39;s children</span>
<span class="preprocessor"></span>    <a class="code" href="classWeBWorK_1_1URLPath.html#ac93d46d7c7c8ae110e5f5b338dd7cc4b">debug</a>(<span class="stringliteral">&quot;visitPathTypeNode&quot;</span>, $indent, <span class="stringliteral">&quot;but path remains: $path&quot;</span>);
    my @kids = @{ $node{kids} };
    <span class="keywordflow">if</span> (@kids) {
        <span class="keywordflow">foreach</span> my $kid (@kids) {
            <a class="code" href="classWeBWorK_1_1URLPath.html#ac93d46d7c7c8ae110e5f5b338dd7cc4b">debug</a>(<span class="stringliteral">&quot;visitPathTypeNode&quot;</span>, $indent, <span class="stringliteral">&quot;trying child $kid:&quot;</span>);
            my $result = <a class="code" href="classWeBWorK_1_1URLPath.html#a3d22179c8f7dd51d93f3474675b637d4">visitPathTypeNode</a>($kid, $path, $argsRef, $indent+1);
<span class="preprocessor">            # we return in two situations:</span>
<span class="preprocessor"></span><span class="preprocessor">            # if $result is -1, then the kid matched but couldn&#39;t consume the rest of the path</span>
<span class="preprocessor"></span><span class="preprocessor">            # if $result is the ID of a node, then the kid matched and consumed the rest of the path</span>
<span class="preprocessor"></span><span class="preprocessor">            # these are all true values (assuming that &quot;0&quot; isn&#39;t a valid node ID), so we say:</span>
<span class="preprocessor"></span>            <span class="keywordflow">return</span> $result <span class="keywordflow">if</span> $result;
        }
        <a class="code" href="classWeBWorK_1_1URLPath.html#ac93d46d7c7c8ae110e5f5b338dd7cc4b">debug</a>(<span class="stringliteral">&quot;visitPathTypeNode&quot;</span>, $indent, <span class="stringliteral">&quot;no children claimed the remaining path: failed.&quot;</span>);
    } <span class="keywordflow">else</span> {
        <a class="code" href="classWeBWorK_1_1URLPath.html#ac93d46d7c7c8ae110e5f5b338dd7cc4b">debug</a>(<span class="stringliteral">&quot;visitPathTypeNode&quot;</span>, $indent, <span class="stringliteral">&quot;no children to claim the remaining path: failed.&quot;</span>);
    }
    
<span class="preprocessor">    # in both of the above cases, we matched but couldn&#39;t provide children that</span>
<span class="preprocessor"></span><span class="preprocessor">    # would consume the rest of the path. so we return -1, causing the whole</span>
<span class="preprocessor"></span><span class="preprocessor">    # stack to unwind. WHEEEEEEE!</span>
<span class="preprocessor"></span>    <span class="keywordflow">return</span> -1;
}
</pre></div>  
</div>
 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="URLPath_8pm_source.html">URLPath.pm</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Jun 8 23:00:03 2012 for WeBWorK2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
