<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>WeBWorK2: WebworkClient Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>WebworkClient Class Reference</h1><!-- doxytag: class="WebworkClient" -->
<p><a href="classWebworkClient-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Avaliable Methods</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp9be22fb8347fa3884856571d2a5f020b"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebworkClient.html#a0ce3f9d4138162ad2b421429878c5ab2">xmlrpcCall</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebworkClient.html#ac0b91f803dd56883ad8c18d827f5a5d5">encodeSource</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebworkClient.html#a46177b92ddfe0fce7e44390ace5829df">setInputTable</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebworkClient.html#afa92695484abde7ca2cbd0007368e5b4">formatRenderedProblem</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebworkClient.html#abfc70548eac404b94385f1a6f09f06b1">format_hash_ref</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebworkClient.html#aa116c6ae0cf6496056b4613f89614ef1">setInputTable_for_listLib</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebworkClient.html#aa656f763aed7fcfd26532ca930a00164">environment</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebworkClient.html#a8e6b1a93a8cc46ad050b133dbe96be7a">formatRenderedLibraries</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebworkClient.html#a8ecb922be616ceeed85e9ef8067b8b1f">formatAnswerRow</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebworkClient.html#adacd5e2227b5eda1cab1a7979ccf726b">url</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebworkClient.html#a4f48c2ae8727395f08c601de6ce64355">pretty_print</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebworkClient.html#a88416d0b6ce542a68c9929c0f6f95975">new</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebworkClient.html#a9adb2198c5ef6ddfa2064db768c7abe3">jsXmlrpcCall</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="WebworkClient_8pm_source.html#l00026">26</a> of file <a class="el" href="WebworkClient_8pm_source.html">WebworkClient.pm</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac0b91f803dd56883ad8c18d827f5a5d5"></a><!-- doxytag: member="WebworkClient::encodeSource" ref="ac0b91f803dd56883ad8c18d827f5a5d5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WebworkClient::encodeSource </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-encodeSource' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-encodeSource-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-encodeSource-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-encodeSource-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in encodeSource: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classWebworkClient.html#ac0b91f803dd56883ad8c18d827f5a5d5">encodeSource</a> {
    my $self = shift;
    my $source = shift;
    $self-&gt;{encodedSource} =encode_base64($source);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aa656f763aed7fcfd26532ca930a00164"></a><!-- doxytag: member="WebworkClient::environment" ref="aa656f763aed7fcfd26532ca930a00164" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WebworkClient::environment </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-environment' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-environment-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-environment-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-environment-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in environment: 71</span>
<span class="preprocessor"></span>sub <a class="code" href="classWebworkClient.html#aa656f763aed7fcfd26532ca930a00164">environment</a> {
    my $self = shift;
    my $envir = {
        answerDate  =&gt; <span class="stringliteral">&#39;4014438528&#39;</span>,
        CAPA_Graphics_URL=&gt;<span class="stringliteral">&#39;http://webwork-db.math.rochester.edu/capa_graphics/&#39;</span>,
        CAPA_GraphicsDirectory =&gt;<span class="stringliteral">&#39;/ww/webwork/CAPA/CAPA_Graphics/&#39;</span>,
        CAPA_MCTools=&gt;<span class="stringliteral">&#39;/ww/webwork/CAPA/CAPA_MCTools/&#39;</span>,
        CAPA_Tools=&gt;<span class="stringliteral">&#39;/ww/webwork/CAPA/CAPA_Tools/&#39;</span>,
        cgiDirectory=&gt;<span class="stringliteral">&#39;Not defined&#39;</span>,
        cgiURL =&gt; <span class="stringliteral">&#39;foobarNot defined&#39;</span>,
        classDirectory=&gt; <span class="stringliteral">&#39;Not defined&#39;</span>,
        courseName=&gt;<span class="stringliteral">&#39;Not defined&#39;</span>,
        courseScriptsDirectory=&gt;<span class="stringliteral">&#39;not defined&#39;</span>,
        displayMode=&gt;$self-&gt;{displayMode},
        dueDate=&gt; <span class="stringliteral">&#39;4014438528&#39;</span>,
        effectivePermissionLevel =&gt; 10,
        externalGif2EpsPath=&gt;<span class="stringliteral">&#39;not defined&#39;</span>,
        externalPng2EpsPath=&gt;<span class="stringliteral">&#39;not defined&#39;</span>,
        externalTTHPath=&gt;<span class="stringliteral">&#39;/usr/local/bin/tth&#39;</span>,
        fileName=&gt;<span class="stringliteral">&#39;WebworkClient.pm:: define fileName in environment&#39;</span>,
        formattedAnswerDate=&gt;<span class="stringliteral">&#39;6/19/00&#39;</span>,
        formattedDueDate=&gt;<span class="stringliteral">&#39;6/19/00&#39;</span>,
        formattedOpenDate=&gt;<span class="stringliteral">&#39;6/19/00&#39;</span>,
        functAbsTolDefault=&gt; 0.0000001,
        functLLimitDefault=&gt;0,
        functMaxConstantOfIntegration=&gt; 1000000000000.0,
        functNumOfPoints=&gt; 5,
        functRelPercentTolDefault=&gt; 0.000001,
        functULimitDefault=&gt;1,
        functVarDefault=&gt; <span class="charliteral">&#39;x&#39;</span>,
        functZeroLevelDefault=&gt; 0.000001,
        functZeroLevelTolDefault=&gt;0.000001,
        htmlDirectory =&gt;<span class="stringliteral">&#39;not defined&#39;</span>,
        htmlURL =&gt;<span class="stringliteral">&#39;not defined&#39;</span>,
        inputs_ref =&gt; $self-&gt;{inputs_ref},
        macroDirectory=&gt;<span class="stringliteral">&#39;not defined&#39;</span>,
        numAbsTolDefault=&gt;0.0000001,
        numFormatDefault=&gt;<span class="stringliteral">&#39;%0.13g&#39;</span>,
        numOfAttempts=&gt; 0,
        numRelPercentTolDefault =&gt; 0.0001,
        numZeroLevelDefault =&gt;0.000001,
        numZeroLevelTolDefault =&gt;0.000001,
        openDate=&gt; <span class="stringliteral">&#39;3014438528&#39;</span>,
        permissionLevel =&gt;10,
        PRINT_FILE_NAMES_FOR =&gt; [ <span class="stringliteral">&#39;gage&#39;</span>],
        probFileName =&gt; <span class="stringliteral">&#39;WebworkClient.pm:: define probFileName in environment&#39;</span>,
        problemSeed  =&gt; 1234,
        problemValue =&gt;1,
        probNum =&gt; 13,
        psvn =&gt; 54321,
        psvn=&gt; 54321,
        questionNumber =&gt; 1,
        scriptDirectory =&gt; <span class="stringliteral">&#39;Not defined&#39;</span>,
        sectionName =&gt; <span class="stringliteral">&#39;Gage&#39;</span>,
        sectionNumber =&gt; 1,
        server_root_url =&gt;<span class="stringliteral">&quot;foobarfoobar&quot;</span>, 
        sessionKey=&gt; <span class="stringliteral">&#39;Not defined&#39;</span>,
        setNumber =&gt;<span class="stringliteral">&#39;not defined&#39;</span>,
        studentLogin =&gt;<span class="stringliteral">&#39;gage&#39;</span>,
        studentName =&gt; <span class="stringliteral">&#39;Mike Gage&#39;</span>,
        tempDirectory =&gt; <span class="stringliteral">&#39;not defined&#39;</span>,
        templateDirectory=&gt;<span class="stringliteral">&#39;not defined&#39;</span>,
        tempURL=&gt;<span class="stringliteral">&#39;not defined&#39;</span>,
        webworkDocsURL =&gt; <span class="stringliteral">&#39;not defined&#39;</span>,
        
        showHints =&gt; 1,               # extra options -- usually passed from the input form
        showSolutions =&gt; 1,
        
    };
    $envir;
};
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="abfc70548eac404b94385f1a6f09f06b1"></a><!-- doxytag: member="WebworkClient::format_hash_ref" ref="abfc70548eac404b94385f1a6f09f06b1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WebworkClient::format_hash_ref </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-format_hash_ref' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-format_hash_ref-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-format_hash_ref-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-format_hash_ref-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in format_hash_ref: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classWebworkClient.html#abfc70548eac404b94385f1a6f09f06b1">format_hash_ref</a> {
    my $hash = shift;
    warn <span class="stringliteral">&quot;Use a hash reference&quot;</span> unless ref($hash) =~/HASH/;
    <span class="keywordflow">return</span> join(<span class="stringliteral">&quot; &quot;</span>, map {$_=<span class="stringliteral">&quot;--&quot;</span> unless defined($_);$_ } %$hash),<span class="stringliteral">&quot;\n&quot;</span>;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a8ecb922be616ceeed85e9ef8067b8b1f"></a><!-- doxytag: member="WebworkClient::formatAnswerRow" ref="a8ecb922be616ceeed85e9ef8067b8b1f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WebworkClient::formatAnswerRow </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-formatAnswerRow' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-formatAnswerRow-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-formatAnswerRow-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-formatAnswerRow-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in formatAnswerRow: 29</span>
<span class="preprocessor"></span>sub <a class="code" href="classWebworkClient.html#a8ecb922be616ceeed85e9ef8067b8b1f">formatAnswerRow</a> {
    my $self = shift;
    my $rh_answer = shift;
    my $problemNumber = shift;
    my $answerString  = $rh_answer-&gt;{original_student_ans}||<span class="stringliteral">&#39;&amp;nbsp;&#39;</span>;
    my $correctAnswer = $rh_answer-&gt;{correct_ans}||<span class="stringliteral">&#39;&#39;</span>;
    my $ans_message   = $rh_answer-&gt;{ans_message}||<span class="stringliteral">&#39;&#39;</span>;
    my $score         = ($rh_answer-&gt;{score}) ? <span class="stringliteral">&#39;Correct&#39;</span> : <span class="stringliteral">&#39;Incorrect&#39;</span>;
    my $row = qq{
        &lt;tr&gt;
            &lt;td&gt;
                Prob: $problemNumber
            &lt;/td&gt;
            &lt;td&gt;
                $answerString
            &lt;/td&gt;
            &lt;td&gt;
                $score
            &lt;/td&gt;
            &lt;td&gt;
                Correct answer is $correctAnswer
            &lt;/td&gt;
            &lt;td&gt;
                &lt;i&gt;$ans_message&lt;/i&gt;
            &lt;/td&gt;
        &lt;/tr&gt;\n
    };
    $row;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a8e6b1a93a8cc46ad050b133dbe96be7a"></a><!-- doxytag: member="WebworkClient::formatRenderedLibraries" ref="a8e6b1a93a8cc46ad050b133dbe96be7a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WebworkClient::formatRenderedLibraries </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-formatRenderedLibraries' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-formatRenderedLibraries-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-formatRenderedLibraries-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-formatRenderedLibraries-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in formatRenderedLibraries: 11</span>
<span class="preprocessor"></span>sub <a class="code" href="classWebworkClient.html#a8e6b1a93a8cc46ad050b133dbe96be7a">formatRenderedLibraries</a> {
    my $self              = shift;
<span class="preprocessor">    #my @rh_result         = @{$self-&gt;{output}};  # wrap problem in formats</span>
<span class="preprocessor"></span>    my %rh_result         = %{$self-&gt;{output}};
    my $result = <span class="stringliteral">&quot;&quot;</span>;
    <span class="keywordflow">foreach</span> my $key (sort  keys %rh_result) {
        $result .= <span class="stringliteral">&quot;$key&quot;</span>;
        $result .= $rh_result{$key};
    }
    <span class="keywordflow">return</span> $result;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="afa92695484abde7ca2cbd0007368e5b4"></a><!-- doxytag: member="WebworkClient::formatRenderedProblem" ref="afa92695484abde7ca2cbd0007368e5b4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WebworkClient::formatRenderedProblem </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-formatRenderedProblem' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-formatRenderedProblem-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-formatRenderedProblem-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-formatRenderedProblem-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in formatRenderedProblem: 102</span>
<span class="preprocessor"></span>sub <a class="code" href="classWebworkClient.html#afa92695484abde7ca2cbd0007368e5b4">formatRenderedProblem</a> {
    my $self              = shift;
    my $rh_result         = $self-&gt;{output}|| {};  # wrap problem in formats
    my $problemText       = <span class="stringliteral">&quot;No output from rendered Problem&quot;</span>;
    <span class="keywordflow">if</span> (ref($rh_result) and $rh_result-&gt;{text} ) {
        $problemText       =  $rh_result-&gt;{text};
    } <span class="keywordflow">else</span> {
        $problemText       = <span class="stringliteral">&quot;Unable to decode problem text&quot;</span>,<a class="code" href="classWebworkClient.html#abfc70548eac404b94385f1a6f09f06b1">format_hash_ref</a>($rh_result);
    }
    my $rh_answers        = $rh_result-&gt;{answers};
    my $encodedSource     = $self-&gt;{encodedSource}||<span class="stringliteral">&#39;encodedSourceIsMissing&#39;</span>;
    my $warnings          = <span class="stringliteral">&#39;&#39;</span>;
<span class="preprocessor">    #################################################</span>
<span class="preprocessor"></span><span class="preprocessor">    # regular Perl warning messages generated with warn</span>
<span class="preprocessor"></span><span class="preprocessor">    #################################################</span>
<span class="preprocessor"></span>
    <span class="keywordflow">if</span> ( defined ($rh_result-&gt;{WARNINGS}) and $rh_result-&gt;{WARNINGS} ){
        $warnings = <span class="stringliteral">&quot;&lt;div style=\&quot;background-color:pink\&quot;&gt;</span>
<span class="stringliteral">                     &lt;p &gt;WARNINGS&lt;/p&gt;&lt;p&gt;&quot;</span>.decode_base64($rh_result-&gt;{WARNINGS}).<span class="stringliteral">&quot;&lt;/p&gt;&lt;/div&gt;&quot;</span>;
    }
<span class="preprocessor">    #warn &quot;keys: &quot;, join(&quot; | &quot;, sort keys %{$rh_result });</span>
<span class="preprocessor"></span>    
<span class="preprocessor">    #################################################   </span>
<span class="preprocessor"></span><span class="preprocessor">    # PG debug messages generated with DEBUG_message();</span>
<span class="preprocessor"></span><span class="preprocessor">    #################################################</span>
<span class="preprocessor"></span>    
    my $debug_messages = $rh_result-&gt;{flags}-&gt;{DEBUG_messages} ||     [];
    $debug_messages = join(<span class="stringliteral">&quot;&lt;br/&gt;\n&quot;</span>, @{  $debug_messages }    );
    
<span class="preprocessor">    #################################################    </span>
<span class="preprocessor"></span><span class="preprocessor">    # PG warning messages generated with WARN_message();</span>
<span class="preprocessor"></span><span class="preprocessor">    #################################################</span>
<span class="preprocessor"></span>
    my $PG_warning_messages =  $rh_result-&gt;{flags}-&gt;{WARNING_messages} ||     [];
    $PG_warning_messages = join(<span class="stringliteral">&quot;&lt;br/&gt;\n&quot;</span>, @{  $PG_warning_messages }    );
    
<span class="preprocessor">    #################################################</span>
<span class="preprocessor"></span><span class="preprocessor">    # internal debug messages generated within PG_core</span>
<span class="preprocessor"></span><span class="preprocessor">    # these are sometimes needed if the PG_core warning message system</span>
<span class="preprocessor"></span><span class="preprocessor">    # isn&#39;t properly set up before the bug occurs.</span>
<span class="preprocessor"></span><span class="preprocessor">    # In general don&#39;t use these unless necessary.</span>
<span class="preprocessor"></span><span class="preprocessor">    #################################################</span>
<span class="preprocessor"></span>
    my $internal_debug_messages = $rh_result-&gt;{internal_debug_messages} || [];
    $internal_debug_messages = join(<span class="stringliteral">&quot;&lt;br/&gt;\n&quot;</span>, @{ $internal_debug_messages  } );
<span class="preprocessor">    # collect answers</span>
<span class="preprocessor"></span>    my $answerTemplate    = q{&lt;hr&gt;ANSWERS &lt;table border=<span class="stringliteral">&quot;3&quot;</span> align=<span class="stringliteral">&quot;center&quot;</span>&gt;};
    my $problemNumber     = 1;
    <span class="keywordflow">foreach</span> my $key (sort  keys %{$rh_answers}) {
        $answerTemplate  .= $self-&gt;formatAnswerRow($rh_answers-&gt;{$key}, $problemNumber++);
    }
    $answerTemplate      .= q{&lt;/table&gt; &lt;hr&gt;};


    my $XML_URL      = $self-&gt;url;
    my $FORM_ACTION_URL  =  $self-&gt;{form_action_url};
    my $courseID         =  $self-&gt;{courseID};
    my $userID           =  $self-&gt;{userID};
    my $session_key      =  $rh_result-&gt;{session_key};
    my $problemTemplate = &lt;&lt;ENDPROBLEMTEMPLATE;


&lt;html&gt;
&lt;head&gt;
&lt;base href=<span class="stringliteral">&quot;$XML_URL&quot;</span>&gt;
&lt;title&gt;$XML_URL <a class="code" href="classWeBWorK.html">WeBWorK</a> Editor <span class="keyword">using</span> host $XML_URL&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h2&gt; <a class="code" href="classWeBWorK.html">WeBWorK</a> Editor <span class="keyword">using</span> host $XML_URL&lt;/h2&gt;
            $answerTemplate
            &lt;form action=<span class="stringliteral">&quot;$FORM_ACTION_URL&quot;</span> method=<span class="stringliteral">&quot;post&quot;</span>&gt;
            $problemText
           &lt;input type=<span class="stringliteral">&quot;hidden&quot;</span> name=<span class="stringliteral">&quot;answersSubmitted&quot;</span> value=<span class="stringliteral">&quot;1&quot;</span>&gt; 
           &lt;input type=<span class="stringliteral">&quot;hidden&quot;</span> name=<span class="stringliteral">&quot;problemAddress&quot;</span> value=<span class="stringliteral">&quot;probSource&quot;</span>&gt; 
           &lt;input type=<span class="stringliteral">&quot;hidden&quot;</span> name=<span class="stringliteral">&quot;problemSource&quot;</span> value=<span class="stringliteral">&quot;$encodedSource&quot;</span>&gt; 
           &lt;input type=<span class="stringliteral">&quot;hidden&quot;</span> name=<span class="stringliteral">&quot;problemSeed&quot;</span> value=<span class="stringliteral">&quot;1234&quot;</span>&gt; 
           &lt;input type=<span class="stringliteral">&quot;hidden&quot;</span> name=<span class="stringliteral">&quot;pathToProblemFile&quot;</span> value=<span class="stringliteral">&quot;foobar&quot;</span>&gt;
           &lt;input type=<span class="stringliteral">&quot;hidden&quot;</span> name=courseName value=<span class="stringliteral">&quot;$courseID&quot;</span>&gt;
           &lt;input type=<span class="stringliteral">&quot;hidden&quot;</span> name=courseID value=<span class="stringliteral">&quot;$courseID&quot;</span>&gt;
           &lt;input type=<span class="stringliteral">&quot;hidden&quot;</span> name=<span class="stringliteral">&quot;userID&quot;</span> value=<span class="stringliteral">&quot;$userID&quot;</span>&gt;
           &lt;input type=<span class="stringliteral">&quot;hidden&quot;</span> name=<span class="stringliteral">&quot;session_key&quot;</span> value=<span class="stringliteral">&quot;$session_key&quot;</span>&gt;
           &lt;p&gt;&lt;input type=<span class="stringliteral">&quot;submit&quot;</span> name=<span class="stringliteral">&quot;submit&quot;</span> value=<span class="stringliteral">&quot;submit answers&quot;</span>&gt;&lt;/p&gt;
         &lt;/form&gt;
&lt;HR&gt;
&lt;h3&gt; Perl warning section &lt;/h3&gt;
$warnings
&lt;h3&gt; PG Warning section &lt;/h3&gt;
$PG_warning_messages;
&lt;h3&gt; Debug message section &lt;/h3&gt;
$debug_messages
&lt;h3&gt; <span class="keyword">internal</span> errors &lt;/h3&gt;
$internal_debug_messages

&lt;/body&gt;
&lt;/html&gt;

ENDPROBLEMTEMPLATE



    $problemTemplate;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a9adb2198c5ef6ddfa2064db768c7abe3"></a><!-- doxytag: member="WebworkClient::jsXmlrpcCall" ref="a9adb2198c5ef6ddfa2064db768c7abe3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WebworkClient::jsXmlrpcCall </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-jsXmlrpcCall' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-jsXmlrpcCall-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-jsXmlrpcCall-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-jsXmlrpcCall-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in jsXmlrpcCall: 36</span>
<span class="preprocessor"></span>sub <a class="code" href="classWebworkClient.html#a9adb2198c5ef6ddfa2064db768c7abe3">jsXmlrpcCall</a> {
    my $self = shift;
    my $command = shift;
    my $input = shift;
    $command   = <span class="stringliteral">&#39;listLibraries&#39;</span> unless $command;
    <span class="keywordflow">if</span> ($UNIT_TESTS_ON) {
        print STDERR  <span class="stringliteral">&quot;WebworkClient.pm &quot;</span>.__LINE__.<span class="stringliteral">&quot; jsXmlrpcCall issued with command $command\n&quot;</span>;
    }

    print <span class="stringliteral">&quot;the command was $command&quot;</span>;
      my $requestResult = TRANSPORT_METHOD
            -&gt; proxy(($self-&gt;url).<span class="charliteral">&#39;/&#39;</span>.REQUEST_URI);
        
      local( $result);
<span class="preprocessor">      # use eval to catch errors</span>
<span class="preprocessor"></span>      eval { $result = $requestResult-&gt;call(REQUEST_CLASS.<span class="charliteral">&#39;.&#39;</span>.$command,$input) };
      <span class="keywordflow">if</span> ($@) {
        print STDERR <span class="stringliteral">&quot;There were a lot of errors for $command\n&quot;</span> ;
        print STDERR <span class="stringliteral">&quot;Errors: \n $@\n End Errors\n&quot;</span> ;
        <span class="keywordflow">return</span> 0 #failure
      }
    print <span class="stringliteral">&quot;hmm $result&quot;</span>;
      unless (ref($result) and $result-&gt;fault) {
        my $rh_result = $result-&gt;result();
        print <span class="stringliteral">&quot;\n success \n&quot;</span>;
        print <a class="code" href="classWebworkClient.html#a4f48c2ae8727395f08c601de6ce64355">pretty_print</a>($rh_result-&gt;{<span class="stringliteral">&#39;ra_out&#39;</span>});
        $self-&gt;{output} = $rh_result; #$self-&gt;formatRenderedProblem($rh_result);
        <span class="keywordflow">return</span> 1; # success

      } <span class="keywordflow">else</span> {
        $self-&gt;{output} = <span class="stringliteral">&#39;Error from server: &#39;</span>. join( <span class="stringliteral">&quot;,\n &quot;</span>,
          $result-&gt;faultcode,
          $result-&gt;faultstring);
        <span class="keywordflow">return</span> 0; #failure
      }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a88416d0b6ce542a68c9929c0f6f95975"></a><!-- doxytag: member="WebworkClient::new" ref="a88416d0b6ce542a68c9929c0f6f95975" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WebworkClient::new </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-new' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-new-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-new-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-new-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in new: 19</span>
<span class="preprocessor"></span>sub <span class="keyword">new</span> {
    my $invocant = shift;
    my $class = ref $invocant || $invocant;
    my $self = {
        output          =&gt; <span class="stringliteral">&#39;&#39;</span>,
        encodedSource   =&gt; <span class="stringliteral">&#39;&#39;</span>,
        <a class="code" href="classWebworkClient.html#adacd5e2227b5eda1cab1a7979ccf726b">url</a>             =&gt; <span class="stringliteral">&#39;&#39;</span>,
        password        =&gt; <span class="stringliteral">&#39;&#39;</span>,
        course          =&gt; <span class="stringliteral">&#39;&#39;</span>,
        displayMode     =&gt; <span class="stringliteral">&#39;&#39;</span>,
        inputs_ref      =&gt; {         AnSwEr0001 =&gt; <span class="stringliteral">&#39;&#39;</span>,
                                     AnSwEr0002 =&gt; <span class="stringliteral">&#39;&#39;</span>,
                                     AnSwEr0003 =&gt; <span class="stringliteral">&#39;&#39;</span>,
        },
        @_,               # options and overloads
    };

    bless $self, $class;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a4f48c2ae8727395f08c601de6ce64355"></a><!-- doxytag: member="WebworkClient::pretty_print" ref="a4f48c2ae8727395f08c601de6ce64355" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WebworkClient::pretty_print </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-pretty_print' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-pretty_print-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-pretty_print-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-pretty_print-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in pretty_print: 36</span>
<span class="preprocessor"></span>sub <a class="code" href="classWebworkClient.html#a4f48c2ae8727395f08c601de6ce64355">pretty_print</a> {    # provides html output -- NOT a method
    my $r_input = shift;
    my $level = shift;
    $level = 4 unless defined($level);
    $level--;
    <span class="keywordflow">return</span> <span class="stringliteral">&#39;&#39;</span> unless $level &gt; 0;  # only print three levels of hashes (safety feature)
    my $out = <span class="stringliteral">&#39;&#39;</span>;
    <span class="keywordflow">if</span> ( not ref($r_input) ) {
        $out = $r_input <span class="keywordflow">if</span> defined $r_input;    # not a reference
        $out =~ s/&lt;/&amp;lt;/g  ;  # protect <span class="keywordflow">for</span> <a class="code" href="classWeBWorK_1_1HTML.html">HTML</a> output
    } elsif (<span class="stringliteral">&quot;$r_input&quot;</span> =~/hash/i) {  # <span class="keyword">this</span> will pick up objects whose <span class="stringliteral">&#39;$self&#39;</span> is hash and so works better than ref($r_iput).
        local($^W) = 0;
        
        $out .= <span class="stringliteral">&quot;$r_input &quot;</span> .<span class="stringliteral">&quot;&lt;TABLE border = \&quot;2\&quot; cellpadding = \&quot;3\&quot; BGCOLOR = \&quot;#FFFFFF\&quot;&gt;&quot;</span>;
        
        
        <span class="keywordflow">foreach</span> my $key ( sort ( keys %$r_input )) {
            $out .= <span class="stringliteral">&quot;&lt;tr&gt;&lt;TD&gt; $key&lt;/TD&gt;&lt;TD&gt;=&amp;gt;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&quot;</span>.pretty_print($r_input-&gt;{$key}) . <span class="stringliteral">&quot;&lt;/td&gt;&lt;/tr&gt;&quot;</span>;
        }
        $out .=<span class="stringliteral">&quot;&lt;/table&gt;&quot;</span>;
    } elsif (ref($r_input) eq <span class="stringliteral">&#39;ARRAY&#39;</span> ) {
        my @array = @$r_input;
        $out .= <span class="stringliteral">&quot;( &quot;</span> ;
        <span class="keywordflow">while</span> (@array) {
            $out .= <a class="code" href="classWebworkClient.html#a4f48c2ae8727395f08c601de6ce64355">pretty_print</a>(shift @array, $level) . <span class="stringliteral">&quot; , &quot;</span>;
        }
        $out .= <span class="stringliteral">&quot; )&quot;</span>;
    } elsif (ref($r_input) eq <span class="stringliteral">&#39;CODE&#39;</span>) {
        $out = <span class="stringliteral">&quot;$r_input&quot;</span>;
    } <span class="keywordflow">else</span> {
        $out = $r_input;
        $out =~ s/&lt;/&amp;lt;/g; # protect <span class="keywordflow">for</span> <a class="code" href="classWeBWorK_1_1HTML.html">HTML</a> output
    }
    
    <span class="keywordflow">return</span> $out.<span class="stringliteral">&quot; &quot;</span>;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a46177b92ddfe0fce7e44390ace5829df"></a><!-- doxytag: member="WebworkClient::setInputTable" ref="a46177b92ddfe0fce7e44390ace5829df" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WebworkClient::setInputTable </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-setInputTable' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-setInputTable-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-setInputTable-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-setInputTable-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in setInputTable: 54</span>
<span class="preprocessor"></span>sub <a class="code" href="classWebworkClient.html#a46177b92ddfe0fce7e44390ace5829df">setInputTable</a> {
    my $self = shift;
    my $out = {
        pw          =&gt;   $self-&gt;{password},
        library_name =&gt;  <span class="stringliteral">&#39;Library&#39;</span>,
        command      =&gt;  <span class="stringliteral">&#39;renderProblem&#39;</span>,
        answer_form_submitted   =&gt; 1,
        course                  =&gt; $self-&gt;{course},
        extra_packages_to_load  =&gt; [qw( AlgParserWithImplicitExpand Expr
                                        ExprWithImplicitExpand AnswerEvaluator
                                        AnswerEvaluatorMaker 
        )],
        mode                    =&gt; $self-&gt;{displayMode},
        modules_to_evaluate     =&gt; [ qw( 
Exporter
DynaLoader                              
GD
WWPlot
Fun
Circle
Label                               
PGrandom
Units
Hermite
List                                
Match
Multiple
Select                          
AlgParser
AnswerHash                          
Fraction
VectorField                         
Complex1
Complex                         
MatrixReal1 Matrix                          
Distributions
Regression

        )], 
        envir                   =&gt; $self-&gt;environment(),
        problem_state           =&gt; {
        
            num_of_correct_ans  =&gt; 0,
            num_of_incorrect_ans =&gt; 4,
            recorded_score       =&gt; 1.0,
        },
        source                   =&gt; $self-&gt;{encodedSource},  #base64 encoded
        
        
        
    };

    $out;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aa116c6ae0cf6496056b4613f89614ef1"></a><!-- doxytag: member="WebworkClient::setInputTable_for_listLib" ref="aa116c6ae0cf6496056b4613f89614ef1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WebworkClient::setInputTable_for_listLib </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-setInputTable_for_listLib' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-setInputTable_for_listLib-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-setInputTable_for_listLib-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-setInputTable_for_listLib-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in setInputTable_for_listLib: 11</span>
<span class="preprocessor"></span>sub <a class="code" href="classWebworkClient.html#aa116c6ae0cf6496056b4613f89614ef1">setInputTable_for_listLib</a> {
    my $self = shift;
    my $out = {
        pw          =&gt;   $self-&gt;{password},
        <span class="keyword">set</span>         =&gt;   <span class="stringliteral">&#39;set0&#39;</span>,
        library_name =&gt;  <span class="stringliteral">&#39;Library&#39;</span>,
        command      =&gt;  <span class="stringliteral">&#39;all&#39;</span>,
    };

    $out;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="adacd5e2227b5eda1cab1a7979ccf726b"></a><!-- doxytag: member="WebworkClient::url" ref="adacd5e2227b5eda1cab1a7979ccf726b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WebworkClient::url </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-url' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-url-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-url-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-url-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in url: 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classWebworkClient.html#adacd5e2227b5eda1cab1a7979ccf726b">url</a> {
    my $self = shift;
    my $new_url = shift;
    $self-&gt;{<a class="code" href="classWebworkClient.html#adacd5e2227b5eda1cab1a7979ccf726b">url</a>} = $new_url <span class="keywordflow">if</span> defined($new_url) and $new_url =~ /\S/;
    $self-&gt;{<a class="code" href="classWebworkClient.html#adacd5e2227b5eda1cab1a7979ccf726b">url</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a0ce3f9d4138162ad2b421429878c5ab2"></a><!-- doxytag: member="WebworkClient::xmlrpcCall" ref="a0ce3f9d4138162ad2b421429878c5ab2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WebworkClient::xmlrpcCall </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-xmlrpcCall' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-xmlrpcCall-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-xmlrpcCall-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-xmlrpcCall-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in xmlrpcCall: 55</span>
<span class="preprocessor"></span>sub <a class="code" href="classWebworkClient.html#a0ce3f9d4138162ad2b421429878c5ab2">xmlrpcCall</a> {
    my $self = shift;
    my $command = shift;
    my $input   = shift||{};

    $command   = <span class="stringliteral">&#39;listLibraries&#39;</span> unless defined $command;
      my $input2 = $self-&gt;setInputTable();
      $input = {%$input2, %$input};
    
      my $requestResult; 
      eval {
        $requestResult= TRANSPORT_METHOD
<span class="preprocessor">            #-&gt;uri(&#39;http://&#39;.HOSTURL.&#39;:&#39;.HOSTPORT.&#39;/&#39;.REQUEST_CLASS)</span>
<span class="preprocessor"></span><span class="preprocessor">            #-&gt; proxy(PROTOCOL.&#39;://&#39;.HOSTURL.&#39;:&#39;.HOSTPORT.&#39;/&#39;.REQUEST_URI);</span>
<span class="preprocessor"></span>            -&gt; proxy(($self-&gt;url).<span class="charliteral">&#39;/&#39;</span>.REQUEST_URI);
        };
        print STDERR <span class="stringliteral">&quot;WebworkClient: Initiating xmlrpc request to url &quot;</span>,($self-&gt;url).<span class="charliteral">&#39;/&#39;</span>.REQUEST_URI, <span class="stringliteral">&quot; \n Error: $@\n&quot;</span> <span class="keywordflow">if</span> $@;
            
            
    <span class="keywordflow">if</span> ($UNIT_TESTS_ON) {
        print STDERR  <span class="stringliteral">&quot;WebworkClient.pm &quot;</span>.__LINE__.<span class="stringliteral">&quot; xmlrpcCall sent to &quot;</span>, $self-&gt;{<a class="code" href="classWebworkClient.html#adacd5e2227b5eda1cab1a7979ccf726b">url</a>},<span class="stringliteral">&quot;\n&quot;</span>;
        print STDERR  <span class="stringliteral">&quot;WebworkClient.pm &quot;</span>.__LINE__.<span class="stringliteral">&quot; xmlrpcCall issued with command $command\n&quot;</span>;
        print STDERR  <span class="stringliteral">&quot;WebworkClient.pm &quot;</span>.__LINE__.<span class="stringliteral">&quot; input is: &quot;</span>,join(<span class="stringliteral">&quot; &quot;</span>, %$input),<span class="stringliteral">&quot;\n&quot;</span>;
        print STDERR  <span class="stringliteral">&quot;WebworkClient.pm &quot;</span>.__LINE__.<span class="stringliteral">&quot; xmlrpcCall $command initiated webwork webservice object $requestResult\n&quot;</span>;
    }
        
    
      local( $result);
<span class="preprocessor">      # use eval to catch errors</span>
<span class="preprocessor"></span><span class="preprocessor">      #print STDERR &quot;WebworkClient: issue command &quot;, REQUEST_CLASS.&#39;.&#39;.$command, &quot; &quot;,join(&quot; &quot;, %$input),&quot;\n&quot;;</span>
<span class="preprocessor"></span>      eval { $result = $requestResult-&gt;call(REQUEST_CLASS.<span class="charliteral">&#39;.&#39;</span>.$command, $input) };
      print STDERR <span class="stringliteral">&quot;There were a lot of errors\n&quot;</span> <span class="keywordflow">if</span> $@;
      print <span class="stringliteral">&quot;Errors: \n $@\n End Errors\n&quot;</span> <span class="keywordflow">if</span> $@;
        
      unless (ref($result) and $result-&gt;fault) {
      
        <span class="keywordflow">if</span> (ref($result-&gt;result())=~/HASH/ and defined($result-&gt;result()-&gt;{text}) ) {
            $result-&gt;result()-&gt;{text} = decode_base64($result-&gt;result()-&gt;{text});
        }
<span class="preprocessor">        #print  pretty_print($result-&gt;result()),&quot;\n&quot;;  #$result-&gt;result()</span>
<span class="preprocessor"></span>        $self-&gt;{output}= $result-&gt;result();
        <span class="keywordflow">return</span> $result-&gt;result();
      } <span class="keywordflow">else</span> {
        print STDERR <span class="stringliteral">&#39;Error message for &#39;</span>, 
          join( <span class="stringliteral">&#39;, &#39;</span>,
              <span class="stringliteral">&quot;command:&quot;</span>,
              $command,
              <span class="stringliteral">&quot;\nfaultcode:&quot;</span>,
              $result-&gt;faultcode, 
              <span class="stringliteral">&quot;\nfaultstring:&quot;</span>,
              $result-&gt;faultstring, <span class="stringliteral">&quot;\nEnd error message\n&quot;</span>
          );
          <span class="keywordflow">return</span> undef;
      }
}
</pre></div>  
</div>
 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="WebworkClient_8pm_source.html">WebworkClient.pm</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Jun 8 23:00:39 2012 for WeBWorK2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
