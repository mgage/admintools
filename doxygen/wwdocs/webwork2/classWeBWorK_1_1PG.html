<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>WeBWorK2: WeBWorK::PG Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="classWeBWorK.html">WeBWorK</a>::<a class="el" href="classWeBWorK_1_1PG.html">PG</a>
  </div>
</div>
<div class="contents">
<h1>WeBWorK::PG Class Reference</h1><!-- doxytag: class="WeBWorK::PG" --><!-- doxytag: inherits="WeBWorK" --><div class="dynheader">
Inheritance diagram for WeBWorK::PG:</div>
<div class="dynsection">
<div class="center"><img src="classWeBWorK_1_1PG__inherit__graph.png" border="0" usemap="#WeBWorK_1_1PG_inherit__map" alt="Inheritance graph"/></div>
<map name="WeBWorK_1_1PG_inherit__map" id="WeBWorK_1_1PG_inherit__map">
<area shape="rect" href="classWeBWorK_1_1PG_1_1Local.html" title="WeBWorK::PG::Local" alt="" coords="5,155,155,181"/><area shape="rect" href="classWeBWorK_1_1PG_1_1Remote.html" title="WeBWorK::PG::Remote" alt="" coords="179,155,341,181"/><area shape="rect" href="classWeBWorK.html" title="WeBWorK" alt="" coords="128,5,211,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for WeBWorK::PG:</div>
<div class="dynsection">
<div class="center"><img src="classWeBWorK_1_1PG__coll__graph.png" border="0" usemap="#WeBWorK_1_1PG_coll__map" alt="Collaboration graph"/></div>
<map name="WeBWorK_1_1PG_coll__map" id="WeBWorK_1_1PG_coll__map">
<area shape="rect" href="classWeBWorK.html" title="WeBWorK" alt="" coords="19,5,101,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classWeBWorK_1_1PG-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1PG_1_1Local.html">Local</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1PG_1_1Remote.html">Remote</a></td></tr>
<tr><td colspan="2"><h2>Avaliable Methods</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp9be22fb8347fa3884856571d2a5f020b"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1PG.html#ac96c02f119eb7e6fdb168db56a9f1eb2">translateDisplayModeNames</a> ($)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1PG.html#ac593d2dc8fd85859d1bbb25b66561fec">nullSafetyFilter</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1PG.html#a562fa2a8b12f9c8b3d5289f72b804360">oldSafetyFilter</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1PG.html#a55db508f9be24fee779a7ee594696794">new</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1PG.html#a3d6ba61997d99aea3cdb22e5a8b86a11">defineProblemEnvir</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h2><a class="anchor" id="NAME">
NAME</a></h2>
<p><a class="el" href="classWeBWorK_1_1PG.html">WeBWorK::PG</a> - Invoke one of several <a class="el" href="classWeBWorK_1_1PG.html">PG</a> rendering methods using an easy-to-use API.</p>
<h2><a class="anchor" id="SYNOPSIS">
SYNOPSIS</a></h2>
<pre> $pg = <a class="el" href="classWeBWorK_1_1PG.html">WeBWorK::PG</a>-&gt;new(
	 $ce,         # a <a class="el" href="classWeBWorK_1_1CourseEnvironment.html">WeBWorK::CourseEnvironment</a> object
	 $user,       # a <a class="el" href="classWeBWorK_1_1DB_1_1Record_1_1User.html">WeBWorK::DB::Record::User</a> object
	 $sessionKey,
	 $set,        # a <a class="el" href="classWeBWorK_1_1DB_1_1Record_1_1UserSet.html">WeBWorK::DB::Record::UserSet</a> object
	 $problem,    # a <a class="el" href="classWeBWorK_1_1DB_1_1Record_1_1UserProblem.html">WeBWorK::DB::Record::UserProblem</a> object
	 $psvn,
	 $formFields  # in &amp;<a class="el" href="classWeBWorK_1_1Form.html#a09c573fd58257b699b2c94f4e9b62696">WeBWorK::Form::Vars</a> format
	 { # translation options
		 displayMode     =&gt; "images", # (plainText|formattedText|images)
		 showHints       =&gt; 1,        # (0|1)
		 showSolutions   =&gt; 0,        # (0|1)
		 refreshMath2img =&gt; 0,        # (0|1)
		 processAnswers  =&gt; 1,        # (0|1)
	 },
 );</pre><pre> $translator = $pg-&gt;{translator}; # WeBWorK::PG::Translator
 $body       = $pg-&gt;{body_text};  # text string
 $header     = $pg-&gt;{head_text};  # text string
 $post_header_text = $pg-&gt;{post_header_text};  # text string
 $answerHash = $pg-&gt;{answers};    # WeBWorK::PG::AnswerHash
 $result     = $pg-&gt;{result};     # hash reference
 $state      = $pg-&gt;{state};      # hash reference
 $errors     = $pg-&gt;{errors};     # text string
 $warnings   = $pg-&gt;{warnings};   # text string
 $flags      = $pg-&gt;{flags};      # hash reference</pre><h2><a class="anchor" id="DESCRIPTION">
DESCRIPTION</a></h2>
<p><a class="el" href="classWeBWorK_1_1PG.html">WeBWorK::PG</a> is a factory for modules which use the <a class="el" href="classWeBWorK_1_1PG.html">WeBWorK::PG</a> API. Notable modules which use this API (and exist) are <a class="el" href="classWeBWorK_1_1PG_1_1Local.html">WeBWorK::PG::Local</a> and <a class="el" href="classWeBWorK_1_1PG_1_1Remote.html">WeBWorK::PG::Remote</a>. The course environment key $pg{renderer} is consulted to determine which render to use.</p>

<p>Definition at line <a class="el" href="PG_8pm_source.html#l00179">179</a> of file <a class="el" href="PG_8pm_source.html">PG.pm</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a3d6ba61997d99aea3cdb22e5a8b86a11"></a><!-- doxytag: member="WeBWorK::PG::defineProblemEnvir" ref="a3d6ba61997d99aea3cdb22e5a8b86a11" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::PG::defineProblemEnvir </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-defineProblemEnvir' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-defineProblemEnvir-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-defineProblemEnvir-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-defineProblemEnvir-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in defineProblemEnvir: 172</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1PG.html#a3d6ba61997d99aea3cdb22e5a8b86a11">defineProblemEnvir</a> {
    my (
        $self,
        $ce,
        $user,
        $key,
        $set,
        $problem,
        $psvn,  #FIXME  -- not used
        $formFields,
        $options,
        $extras,
    ) = @_;
    
    my %envir;
    
<span class="preprocessor">    # ----------------------------------------------------------------------</span>
<span class="preprocessor"></span>    
<span class="preprocessor">    # PG environment variables</span>
<span class="preprocessor"></span><span class="preprocessor">    # from docs/pglanguage/pgreference/environmentvariables as of 06/25/2002</span>
<span class="preprocessor"></span><span class="preprocessor">    # any changes are noted by &quot;ADDED:&quot; or &quot;REMOVED:&quot;</span>
<span class="preprocessor"></span>    
<span class="preprocessor">    # Vital state information</span>
<span class="preprocessor"></span><span class="preprocessor">    # ADDED: displayModeFailover, displayHintsQ, displaySolutionsQ,</span>
<span class="preprocessor"></span><span class="preprocessor">    #        refreshMath2img, texDisposition</span>
<span class="preprocessor"></span>    
    $envir{psvn}                = $set-&gt;psvn;
    $envir{psvnNumber}          = <span class="stringliteral">&quot;psvnNumber-is-deprecated-Please-use-psvn-Instead&quot;</span>; #FIXME
    $envir{probNum}             = $problem-&gt;problem_id;
    $envir{questionNumber}      = $envir{probNum};
    $envir{fileName}            = $problem-&gt;source_file;     
    $envir{probFileName}        = $envir{fileName};      
    $envir{problemSeed}         = $problem-&gt;problem_seed;
    $envir{displayMode}         = <a class="code" href="classWeBWorK_1_1PG.html#ac96c02f119eb7e6fdb168db56a9f1eb2">translateDisplayModeNames</a>($options-&gt;{displayMode});
    $envir{languageMode}        = $envir{displayMode};   
    $envir{outputMode}          = $envir{displayMode};   
    $envir{displayHintsQ}       = $options-&gt;{showHints};     
    $envir{displaySolutionsQ}   = $options-&gt;{showSolutions};
    $envir{texDisposition}      = <span class="stringliteral">&quot;pdf&quot;</span>; # in webwork2, we use pdflatex
    
<span class="preprocessor">    # Problem Information</span>
<span class="preprocessor"></span><span class="preprocessor">    # ADDED: courseName, formatedDueDate, enable_reduced_scoring</span>
<span class="preprocessor"></span>    
    $envir{openDate}            = $set-&gt;open_date;
    $envir{formattedOpenDate}   = formatDateTime($envir{openDate}, $ce-&gt;{siteDefaults}{timezone});
    $envir{dueDate}             = $set-&gt;due_date;
    $envir{formattedDueDate}    = formatDateTime($envir{dueDate}, $ce-&gt;{siteDefaults}{timezone});
    $envir{formatedDueDate}     = $envir{formattedDueDate}; # typo in many header files
    $envir{answerDate}          = $set-&gt;answer_date;
    $envir{formattedAnswerDate} = formatDateTime($envir{answerDate}, $ce-&gt;{siteDefaults}{timezone});
    $envir{numOfAttempts}       = ($problem-&gt;num_correct || 0) + ($problem-&gt;num_incorrect || 0);
    $envir{problemValue}        = $problem-&gt;value;
    $envir{sessionKey}          = $key;
    $envir{courseName}          = $ce-&gt;{courseName};
    $envir{enable_reduced_scoring} = $set-&gt;enable_reduced_scoring;
    
<span class="preprocessor">    # Student Information</span>
<span class="preprocessor"></span><span class="preprocessor">    # ADDED: studentID</span>
<span class="preprocessor"></span>    
    $envir{sectionName}      = $user-&gt;section;
    $envir{sectionNumber}    = $envir{sectionName};
    $envir{recitationName}   = $user-&gt;recitation;
    $envir{recitationNumber} = $envir{recitationName};
    $envir{setNumber}        = $set-&gt;set_id;
    $envir{studentLogin}     = $user-&gt;user_id;
    $envir{studentName}      = $user-&gt;first_name . <span class="stringliteral">&quot; &quot;</span> . $user-&gt;last_name;
    $envir{studentID}        = $user-&gt;student_id;
    $envir{permissionLevel}  = $options-&gt;{permissionLevel};  # permission level of actual user
    $envir{effectivePermissionLevel}  = $options-&gt;{effectivePermissionLevel}; # permission level of user assigned to <span class="keyword">this</span> question
    
    
<span class="preprocessor">    # Answer Information</span>
<span class="preprocessor"></span><span class="preprocessor">    # REMOVED: refSubmittedAnswers</span>
<span class="preprocessor"></span>    
    $envir{inputs_ref} = $formFields;
    
<span class="preprocessor">    # External Programs</span>
<span class="preprocessor"></span><span class="preprocessor">    # ADDED: externalLaTeXPath, externalDvipngPath,</span>
<span class="preprocessor"></span><span class="preprocessor">    #        externalGif2EpsPath, externalPng2EpsPath</span>
<span class="preprocessor"></span>    
    $envir{externalTTHPath}      = $ce-&gt;{externalPrograms}-&gt;{tth};
    $envir{externalLaTeXPath}    = $ce-&gt;{externalPrograms}-&gt;{latex};
    $envir{externalDvipngPath}   = $ce-&gt;{externalPrograms}-&gt;{dvipng};
    $envir{externalGif2EpsPath}  = $ce-&gt;{externalPrograms}-&gt;{gif2eps};
    $envir{externalPng2EpsPath}  = $ce-&gt;{externalPrograms}-&gt;{png2eps};
    $envir{externalGif2PngPath}  = $ce-&gt;{externalPrograms}-&gt;{gif2png};
    $envir{externalCheckUrl}     = $ce-&gt;{externalPrograms}-&gt;{checkurl};
<span class="preprocessor">    # Directories and URLs</span>
<span class="preprocessor"></span><span class="preprocessor">    # REMOVED: courseName</span>
<span class="preprocessor"></span><span class="preprocessor">    # ADDED: dvipngTempDir</span>
<span class="preprocessor"></span><span class="preprocessor">    # ADDED: jsMathURL</span>
<span class="preprocessor"></span><span class="preprocessor">    # ADDED: MathJaxURL</span>
<span class="preprocessor"></span><span class="preprocessor">    # ADDED: asciimathURL</span>
<span class="preprocessor"></span><span class="preprocessor">    # ADDED: macrosPath</span>
<span class="preprocessor"></span><span class="preprocessor">    # REMOVED: macrosDirectory, courseScriptsDirectory</span>
<span class="preprocessor"></span><span class="preprocessor">    # ADDED: LaTeXMathML</span>
<span class="preprocessor"></span>    
    $envir{cgiDirectory}           = undef;
    $envir{cgiURL}                 = undef;
    $envir{classDirectory}         = undef;
    $envir{macrosPath}             = $ce-&gt;{pg}-&gt;{directories}{macrosPath};
    $envir{appletPath}             = $ce-&gt;{pg}-&gt;{directories}{appletPath};
    $envir{pgDirectories}          = $ce-&gt;{pg}-&gt;{directories};
    $envir{webworkHtmlDirectory}   = $ce-&gt;{webworkDirs}-&gt;{htdocs}.<span class="stringliteral">&quot;/&quot;</span>;
    $envir{webworkHtmlURL}         = $ce-&gt;{webworkURLs}-&gt;{htdocs}.<span class="stringliteral">&quot;/&quot;</span>;
    $envir{htmlDirectory}          = $ce-&gt;{courseDirs}-&gt;{html}.<span class="stringliteral">&quot;/&quot;</span>;
    $envir{htmlURL}                = $ce-&gt;{courseURLs}-&gt;{html}.<span class="stringliteral">&quot;/&quot;</span>;
    $envir{templateDirectory}      = $ce-&gt;{courseDirs}-&gt;{templates}.<span class="stringliteral">&quot;/&quot;</span>;
    $envir{tempDirectory}          = $ce-&gt;{courseDirs}-&gt;{html_temp}.<span class="stringliteral">&quot;/&quot;</span>;
    $envir{tempURL}                = $ce-&gt;{courseURLs}-&gt;{html_temp}.<span class="stringliteral">&quot;/&quot;</span>;
    $envir{scriptDirectory}        = undef;
    $envir{webworkDocsURL}         = $ce-&gt;{webworkURLs}-&gt;{docs}.<span class="stringliteral">&quot;/&quot;</span>;
    $envir{localHelpURL}           = $ce-&gt;{webworkURLs}-&gt;{local_help}.<span class="stringliteral">&quot;/&quot;</span>;
    $envir{jsMathURL}              = $ce-&gt;{webworkURLs}-&gt;{jsMath};
    $envir{MathJaxURL}             = $ce-&gt;{webworkURLs}-&gt;{MathJax};
    $envir{asciimathURL}             = $ce-&gt;{webworkURLs}-&gt;{asciimath};
    $envir{LaTeXMathMLURL}         = $ce-&gt;{webworkURLs}-&gt;{LaTeXMathML};
    $envir{server_root_url}        = $ce-&gt;{apache_root_url}|| <span class="stringliteral">&#39;&#39;</span>;
    
<span class="preprocessor">    # Information for sending mail</span>
<span class="preprocessor"></span>    
    $envir{mailSmtpServer} = $ce-&gt;{mail}-&gt;{smtpServer};
    $envir{mailSmtpSender} = $ce-&gt;{mail}-&gt;{smtpSender};
    $envir{ALLOW_MAIL_TO}  = $ce-&gt;{mail}-&gt;{allowedRecipients};
    
<span class="preprocessor">    # Default values for evaluating answers</span>
<span class="preprocessor"></span>    
    my $ansEvalDefaults = $ce-&gt;{pg}-&gt;{ansEvalDefaults};
    $envir{$_} = $ansEvalDefaults-&gt;{$_} <span class="keywordflow">foreach</span> (keys %$ansEvalDefaults);
    
<span class="preprocessor">    # ----------------------------------------------------------------------</span>
<span class="preprocessor"></span>    
<span class="preprocessor">    # ADDED: ImageGenerator for images mode</span>
<span class="preprocessor"></span>    <span class="keywordflow">if</span> (defined $extras-&gt;{image_generator}) {
<span class="preprocessor">        #$envir{imagegen} = $extras-&gt;{image_generator};</span>
<span class="preprocessor"></span><span class="preprocessor">        # only allow access to the add() method</span>
<span class="preprocessor"></span>        $envir{imagegen} = <span class="keyword">new</span> <a class="code" href="classWeBWorK_1_1Utils_1_1RestrictedClosureClass.html">WeBWorK::Utils::RestrictedClosureClass</a>($extras-&gt;{image_generator}, <span class="stringliteral">&#39;add&#39;</span>,<span class="stringliteral">&#39;addToTeXPreamble&#39;</span>, <span class="stringliteral">&#39;refresh&#39;</span>);
    }
    
    <span class="keywordflow">if</span> (defined $extras-&gt;{mailer}) {
<span class="preprocessor">        #my $rmailer = new WeBWorK::Utils::RestrictedClosureClass($extras-&gt;{mailer},</span>
<span class="preprocessor"></span><span class="preprocessor">        #   qw/Open SendEnc Close Cancel skipped_recipients error error_msg/);</span>
<span class="preprocessor"></span><span class="preprocessor">        #my $safe_hole = new Safe::Hole {};</span>
<span class="preprocessor"></span><span class="preprocessor">        #$envir{mailer} = $safe_hole-&gt;wrap($rmailer);</span>
<span class="preprocessor"></span>        $envir{mailer} = <span class="keyword">new</span> <a class="code" href="classWeBWorK_1_1Utils_1_1RestrictedClosureClass.html">WeBWorK::Utils::RestrictedClosureClass</a>($extras-&gt;{mailer}, <span class="stringliteral">&quot;add_message&quot;</span>);
    }
    
<span class="preprocessor">    #  ADDED: jsMath options</span>
<span class="preprocessor"></span>    $envir{jsMath} = {%{$ce-&gt;{pg}{displayModeOptions}{jsMath}}};
    
<span class="preprocessor">    # Other things...</span>
<span class="preprocessor"></span>    $envir{QUIZ_PREFIX}              = $options-&gt;{QUIZ_PREFIX}; # used by quizzes
    $envir{PROBLEM_GRADER_TO_USE}    = $ce-&gt;{pg}-&gt;{options}-&gt;{grader};
    $envir{PRINT_FILE_NAMES_FOR}     = $ce-&gt;{pg}-&gt;{specialPGEnvironmentVars}-&gt;{PRINT_FILE_NAMES_FOR};

<span class="preprocessor">        #  ADDED: __files__</span>
<span class="preprocessor"></span><span class="preprocessor">        #    an array for mapping (eval nnn) to filenames in error messages</span>
<span class="preprocessor"></span>    $envir{__files__} = {
      root =&gt; $ce-&gt;{webworkDirs}{root},     # used to shorten filenames
      pg   =&gt; $ce-&gt;{pg}{directories}{root}, # ditto
      tmpl =&gt; $ce-&gt;{courseDirs}{templates}, # ditto
    };
    
<span class="preprocessor">    # variables for interpreting capa problems and other things to be</span>
<span class="preprocessor"></span><span class="preprocessor">        # seen in a pg file</span>
<span class="preprocessor"></span>    my $specialPGEnvironmentVarHash = $ce-&gt;{pg}-&gt;{specialPGEnvironmentVars};
    <span class="keywordflow">for</span> my $SPGEV (keys %{$specialPGEnvironmentVarHash}) {
        $envir{$SPGEV} = $specialPGEnvironmentVarHash-&gt;{$SPGEV};
    }
    
    <span class="keywordflow">return</span> \%envir;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a55db508f9be24fee779a7ee594696794"></a><!-- doxytag: member="WeBWorK::PG::new" ref="a55db508f9be24fee779a7ee594696794" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::PG::new </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-new' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-new-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-new-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-new-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in new: 11</span>
<span class="preprocessor"></span>sub <span class="keyword">new</span> {
    shift; # <span class="keywordflow">throw</span> away invocant -- we don<span class="stringliteral">&#39;t need it</span>
<span class="stringliteral">    my ($ce, $user, $key, $set, $problem, $psvn, $formFields,</span>
<span class="stringliteral">        $translationOptions) = @_;</span>
<span class="stringliteral">    </span>
<span class="stringliteral">    my $renderer = $ce-&gt;{pg}-&gt;{renderer};</span>
<span class="stringliteral">    </span>
<span class="stringliteral">    runtime_use $renderer;</span>
<span class="stringliteral">    </span>
<span class="stringliteral">    return $renderer-&gt;new(@_);</span>
<span class="stringliteral">}</span>
</pre></div>  
</div>
 
<p>Reimplemented in <a class="el" href="classWeBWorK_1_1PG_1_1Local.html#aa8d7acb9aaddeb9a060665cbbd8a717c">WeBWorK::PG::Local</a>, and <a class="el" href="classWeBWorK_1_1PG_1_1Remote.html#a5ce4bf336c66d86a2168314f1f463978">WeBWorK::PG::Remote</a>.</p>

</div>
</div>
<a class="anchor" id="ac593d2dc8fd85859d1bbb25b66561fec"></a><!-- doxytag: member="WeBWorK::PG::nullSafetyFilter" ref="ac593d2dc8fd85859d1bbb25b66561fec" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::PG::nullSafetyFilter </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-nullSafetyFilter' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-nullSafetyFilter-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-nullSafetyFilter-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-nullSafetyFilter-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in nullSafetyFilter: 3</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1PG.html#ac593d2dc8fd85859d1bbb25b66561fec">nullSafetyFilter</a> {
    <span class="keywordflow">return</span> shift, 0; # no errors
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a562fa2a8b12f9c8b3d5289f72b804360"></a><!-- doxytag: member="WeBWorK::PG::oldSafetyFilter" ref="a562fa2a8b12f9c8b3d5289f72b804360" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::PG::oldSafetyFilter </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-oldSafetyFilter' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-oldSafetyFilter-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-oldSafetyFilter-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-oldSafetyFilter-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in oldSafetyFilter: 23</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1PG.html#a562fa2a8b12f9c8b3d5289f72b804360">oldSafetyFilter</a> {
    my $answer = shift; # accepts one answer and checks it
    my $submittedAnswer = $answer;
    $answer = <span class="stringliteral">&#39;&#39;</span> unless defined $answer;
    my ($errorno);
    $answer =~ tr/\000-\037/ /;
<span class="preprocessor">    # Return if answer field is empty</span>
<span class="preprocessor"></span>    unless ($answer =~ /\S/) {
<span class="preprocessor">        #$errorno = &quot;&lt;BR&gt;No answer was submitted.&quot;;</span>
<span class="preprocessor"></span>        $errorno = 0;  ## don<span class="stringliteral">&#39;t report blank answer as error</span>
<span class="stringliteral">        return ($answer,$errorno);</span>
<span class="stringliteral">    }</span>
<span class="stringliteral">    # replace ^ with **    (for exponentiation)</span>
<span class="stringliteral">    # $answer =~ s/\^/**/g;</span>
<span class="stringliteral">    # Return if forbidden characters are found</span>
<span class="stringliteral">    unless ($answer =~ /^[a-zA-Z0-9_\-\+ \t\/@%\*\.\n^\[\]\(\)\,\|]+$/ )  {</span>
<span class="stringliteral">        $answer =~ tr/a-zA-Z0-9_\-\+ \t\/@%\*\.\n^\(\)/#/c;</span>
<span class="stringliteral">        $errorno = &quot;&lt;BR&gt;There are forbidden characters in your answer: $submittedAnswer&lt;BR&gt;&quot;;</span>
<span class="stringliteral">        return ($answer,$errorno);</span>
<span class="stringliteral">    }</span>
<span class="stringliteral">    $errorno = 0;</span>
<span class="stringliteral">    return($answer, $errorno);</span>
<span class="stringliteral">}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ac96c02f119eb7e6fdb168db56a9f1eb2"></a><!-- doxytag: member="WeBWorK::PG::translateDisplayModeNames" ref="ac96c02f119eb7e6fdb168db56a9f1eb2" args="($)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::PG::translateDisplayModeNames </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-translateDisplayModeNames($)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-translateDisplayModeNames($)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-translateDisplayModeNames($)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-translateDisplayModeNames($)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in translateDisplayModeNames($): 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1PG.html#ac96c02f119eb7e6fdb168db56a9f1eb2">translateDisplayModeNames</a>($) {
    my $name = shift;
    <span class="keywordflow">return</span> DISPLAY_MODES()-&gt;{$name};
}
</pre></div>  
</div>
 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="PG_8pm_source.html">PG.pm</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Jun 8 22:59:49 2012 for WeBWorK2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
