<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>WeBWorK2: WeBWorK::Utils Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="classWeBWorK.html">WeBWorK</a>::<a class="el" href="classWeBWorK_1_1Utils.html">Utils</a>
  </div>
</div>
<div class="contents">
<h1>WeBWorK::Utils Class Reference</h1><!-- doxytag: class="WeBWorK::Utils" --><!-- doxytag: inherits="WeBWorK" --><div class="dynheader">
Inheritance diagram for WeBWorK::Utils:</div>
<div class="dynsection">
<div class="center"><img src="classWeBWorK_1_1Utils__inherit__graph.png" border="0" usemap="#WeBWorK_1_1Utils_inherit__map" alt="Inheritance graph"/></div>
<map name="WeBWorK_1_1Utils_inherit__map" id="WeBWorK_1_1Utils_inherit__map">
<area shape="rect" href="classWeBWorK_1_1Utils_1_1CourseIntegrityCheck.html" title="WeBWorK::Utils::CourseIntegrityCheck" alt="" coords="311,5,559,32"/><area shape="rect" href="classWeBWorK_1_1Utils_1_1CourseManagement.html" title="WeBWorK::Utils::CourseManagement" alt="" coords="315,56,555,83"/><area shape="rect" href="classWeBWorK_1_1Utils_1_1DBImportExport.html" title="WeBWorK::Utils::DBImportExport" alt="" coords="327,107,543,133"/><area shape="rect" href="classWeBWorK_1_1Utils_1_1DBUpgrade.html" title="WeBWorK::Utils::DBUpgrade" alt="" coords="339,157,531,184"/><area shape="rect" href="classWeBWorK_1_1Utils_1_1DelayedMailer.html" title="WeBWorK::Utils::DelayedMailer" alt="" coords="331,208,539,235"/><area shape="rect" href="classWeBWorK_1_1Utils_1_1FilterRecords.html" title="WeBWorK::Utils::FilterRecords" alt="" coords="333,259,536,285"/><area shape="rect" href="classWeBWorK_1_1Utils_1_1FormatRecords.html" title="WeBWorK::Utils::FormatRecords" alt="" coords="328,309,541,336"/><area shape="rect" href="classWeBWorK_1_1Utils_1_1Grades.html" title="WeBWorK::Utils::Grades" alt="" coords="351,360,519,387"/><area shape="rect" href="classWeBWorK_1_1Utils_1_1ListingDB.html" title="WeBWorK::Utils::ListingDB" alt="" coords="344,411,525,437"/><area shape="rect" href="classWeBWorK_1_1Utils_1_1RestrictedClosureClass.html" title="WeBWorK::Utils::RestrictedClosureClass" alt="" coords="304,461,565,488"/><area shape="rect" href="classWeBWorK_1_1Utils_1_1RestrictedMailer.html" title="WeBWorK::Utils::RestrictedMailer" alt="" coords="325,512,544,539"/><area shape="rect" href="classWeBWorK_1_1Utils_1_1SortRecords.html" title="WeBWorK::Utils::SortRecords" alt="" coords="336,563,533,589"/><area shape="rect" href="classWeBWorK_1_1Utils_1_1Tasks.html" title="WeBWorK::Utils::Tasks" alt="" coords="355,613,515,640"/><area shape="rect" href="classWeBWorK.html" title="WeBWorK" alt="" coords="7,284,89,311"/><area shape="rect" href="classWeBWorK_1_1Utils_1_1CourseManagement_1_1sql__moodle.html" title="WeBWorK::Utils::CourseManagement::sql_moodle" alt="" coords="615,31,929,57"/><area shape="rect" href="classWeBWorK_1_1Utils_1_1CourseManagement_1_1sql__single.html" title="WeBWorK::Utils::CourseManagement::sql_single" alt="" coords="619,81,925,108"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for WeBWorK::Utils:</div>
<div class="dynsection">
<div class="center"><img src="classWeBWorK_1_1Utils__coll__graph.png" border="0" usemap="#WeBWorK_1_1Utils_coll__map" alt="Collaboration graph"/></div>
<map name="WeBWorK_1_1Utils_coll__map" id="WeBWorK_1_1Utils_coll__map">
<area shape="rect" href="classWeBWorK.html" title="WeBWorK" alt="" coords="23,5,105,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classWeBWorK_1_1Utils-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils_1_1CourseIntegrityCheck.html">CourseIntegrityCheck</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils_1_1CourseManagement.html">CourseManagement</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils_1_1DBImportExport.html">DBImportExport</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils_1_1DBUpgrade.html">DBUpgrade</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils_1_1DelayedMailer.html">DelayedMailer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils_1_1FilterRecords.html">FilterRecords</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils_1_1FormatRecords.html">FormatRecords</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils_1_1Grades.html">Grades</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils_1_1ListingDB.html">ListingDB</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils_1_1RestrictedClosureClass.html">RestrictedClosureClass</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils_1_1RestrictedMailer.html">RestrictedMailer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils_1_1SortRecords.html">SortRecords</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils_1_1Tasks.html">Tasks</a></td></tr>
<tr><td colspan="2"><h2>Avaliable Methods</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp9be22fb8347fa3884856571d2a5f020b"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a2df6e88ec37cc5cac2a6d24967ff5a05">has_aux_files</a> ($)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a44c0b447478cc5a412f231a580e76e09">writeTimingLogEntry</a> ($$$$)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a6662b8474a5bfd16c7b4efe4d817a8ee">runtime_use</a> ($;@)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#af52889c37480d271a6ffaf750a4c940a">pretty_print_rh</a> ($)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#aa7c2abbf3acb00d0fdb9031cc86e9740">fisher_yates_shuffle</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a3d364a4d0cb81eef75c34845afb179e3">max</a> (@)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#adac52c4eedc9fcbf9d511de13dfc0bc2">listFilesRecursive</a> ($;$$$$)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a14e16129c966e5d5e8944f2d7da041e6">decodeAnswers</a> ($)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a7fec15a30930937d4de6c38fb9779b7a">listFilesRecursiveHelper</a> ($$$$$$)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#ae1a9587733f305fef1dcf04cbbb37d69">textDateTime</a> ($)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a908ab95f2f3b2874c63969f6da72877c">readDirectory</a> ($)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a1076a3aee92030cb8ce3dce299a6189b">before</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#ad47aa475ac5aa4bee50ff67e0fa4f942">force_eoln</a> ($)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a7aa337cd97110ff3e5c7536bfb1a84e8">readFile</a> ($)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#aaf21be3787ed15580eae69af4d13a6a5">list2hash</a> (@)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a4f5080514ceba779811c23bceafce5b0">writeCourseLog</a> ($$@)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a765334eb4484125d0ea5ad2a68b3b1f2">sortByName</a> ($@)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a91aad06c4745ecf0659917bddf1486f0">constituency_hash</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#afbffbfbedf77e126e540c109ac24d708">intDateTime</a> ($)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#ae83b231f78447e698cd1f12b82b60580">trim_spaces</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a3faffb85b624062dfa70b82b6c4121ff">listFilesRecursiveHelper</a> ($$$$$$)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#aec74ceba9815c67c2d10f46fbe909063">surePathToFile</a> ($$)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a14899740e05b5a11f63489bbb1ae6fac">writeLog</a> ($$@)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#acd1689485ef8303f73dab43933d36448">refBaseType</a> ($)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a8c39de4f59999516dc12be8f10194d86">unformatDateAndTime</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a99b665758a875f8242f279cf191cb108">dequote</a> ($)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#ab57e12f5755c828ad2dc64dc5da32fb5">after</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a490ac40a90b648b65be5873101b993ea">encodeAnswers</a> (\%\@)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#aea0bf7fdfeed770c8eb3ddd69d319f08">formatDateTime</a> ($;$)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#ab0c2e2a2a08fe600ee8f9f6b030c8907">ref2string</a> ($;$)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a50b392d474c8e3d44d80166c9f714574">unformatDateAndTime_error</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a379691d7aa3ce757b71427a64bfb8f8f">parseDateTime</a> ($;$)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#abc7e1334916960cbe8aeb726200b2355">path_is_subdir</a> ($$;$)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a00b4257aa3d46ca83102742f6f5414ce">not_blank</a> ($)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a860d42a8505a6a18ae2f72ee8d2bf793">makeTempDirectory</a> ($$)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a1a9b4edaaac2dbdfb1ea7c6957dce834">between</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#ae23f0fbeeddf3412a9f4ca1dd0fb6322">cryptPassword</a> ($)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a03a8752585bafa7797fbb7cf022b7fb3">undefstr</a> ($@)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a8975e8d2efe7a7d1f8499bbe36d9a88a">removeTempDirectory</a> ($)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a2d9e6ee8f0d95c62b14025ec56d423fd">timeToSec</a> ($)()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1Utils.html#a50358b3f7d57076e89ff5c0bf6532827">ref2string</a> ($;$)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h2><a class="anchor" id="NAME">
NAME</a></h2>
<p><a class="el" href="classWeBWorK_1_1Utils.html">WeBWorK::Utils</a> - useful utilities used by other <a class="el" href="classWeBWorK.html">WeBWorK</a> modules.</p>
<h2><a class="anchor" id="FUNCTIONS">
FUNCTIONS</a></h2>
<h3><a class="anchor" id="Filesystem_interaction">
Filesystem interaction</a></h3>
<p>&lt;blockquote&gt; &lt;/blockquote&gt; </p>
<p>Traverses the directory tree rooted at $dir, returning a list of files, named pipes, and sockets matching the regular expression $match_qr. Directories matching the regular expression $prune_qr are not visited. </p>
<p>$match_full and $prune_full are boolean values that indicate whether $match_qr and $prune_qr, respectively, should be applied to the bare directory entry (false) or to the path to the directory entry relative to $dir. </p>
<p>@matches is a list of paths relative to $dir. </p>
<p>Ensures that $path refers to a location "inside" $dir. If $allow_relative is true and $path is not absoulte, it is assumed to be relative to $dir. </p>
<p>The method of checking is rather rudimentary at the moment. First, upreferences ("..") are disallowed, in $path, then it is checked to make sure that some prefix of it matches $dir. </p>
<p>If either of these checks fails, a false value is returned. Otherwise, a true value is returned.</p>
<h3><a class="anchor" id="">
</a></h3>
<ul>
<li>
<p class="startli"><a class="anchor" id="item__dateTime___parseDateTime__string___display_tz_"></a><b>$dateTime = parseDateTime($string, $display_tz)</b> </p>
<p class="endli">Parses $string as a datetime. If $display_tz is given, $string is assumed to be in that timezone. Otherwise, the server's timezone is used. The result, $dateTime, is an integer UNIX datetime (epoch) in the server's timezone.  </p>
</li>
</ul>
<p>Formats the UNIX datetime $dateTime in the standard <a class="el" href="classWeBWorK.html">WeBWorK</a> datetime format. $dateTime is assumed to be in the server's time zone. If $display_tz is given, the datetime is converted from the server's timezone to the timezone specified. </p>
<p>Accepts a UNIX datetime or a formatted string, returns a formatted string. </p>
<p>Accepts a UNIX datetime or a formatted string, returns a UNIX datetime. </p>
<p>Makes a stab at converting a time (with a possible unit) into a number of seconds. </p>
<p>True if $now is less than $time. If $now is not specified, the value of time() is used. </p>
<p>True if $now is greater than $time. If $now is not specified, the value of time() is used. </p>
<p>True if $now is greater than or equal to $start and less than or equal to $end. If $now is not specified, the value of time() is used. </p>

<p>Definition at line <a class="el" href="Utils_8pm_source.html#l00070">70</a> of file <a class="el" href="Utils_8pm_source.html">Utils.pm</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ab57e12f5755c828ad2dc64dc5da32fb5"></a><!-- doxytag: member="WeBWorK::Utils::after" ref="ab57e12f5755c828ad2dc64dc5da32fb5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::after </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-after' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-after-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-after-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-after-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in after: 1</span>
<span class="preprocessor">sub after   { return (@_==2) ? $_[1] &gt; $_[0] : time &gt; $_[0] }</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a1076a3aee92030cb8ce3dce299a6189b"></a><!-- doxytag: member="WeBWorK::Utils::before" ref="a1076a3aee92030cb8ce3dce299a6189b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::before </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-before' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-before-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-before-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-before-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in before: 1</span>
<span class="preprocessor">sub before  { return (@_==2) ? $_[1] &lt; $_[0] : time &lt; $_[0] }</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a1a9b4edaaac2dbdfb1ea7c6957dce834"></a><!-- doxytag: member="WeBWorK::Utils::between" ref="a1a9b4edaaac2dbdfb1ea7c6957dce834" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::between </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-between' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-between-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-between-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-between-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in between: 1</span>
<span class="preprocessor">sub between { my $t = (@_==3) ? $_[2] : time; return $t &gt;= $_[0] &amp;&amp; $t &lt;= $_[1] }</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a91aad06c4745ecf0659917bddf1486f0"></a><!-- doxytag: member="WeBWorK::Utils::constituency_hash" ref="a91aad06c4745ecf0659917bddf1486f0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::constituency_hash </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-constituency_hash' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-constituency_hash-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-constituency_hash-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-constituency_hash-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in constituency_hash: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a91aad06c4745ecf0659917bddf1486f0">constituency_hash</a> {
    my $hash = {};
    @$hash{@_} = ();
    <span class="keywordflow">return</span> $hash;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ae23f0fbeeddf3412a9f4ca1dd0fb6322"></a><!-- doxytag: member="WeBWorK::Utils::cryptPassword" ref="ae23f0fbeeddf3412a9f4ca1dd0fb6322" args="($)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::cryptPassword </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-cryptPassword($)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-cryptPassword($)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-cryptPassword($)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cryptPassword($)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in cryptPassword($): 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#ae23f0fbeeddf3412a9f4ca1dd0fb6322">cryptPassword</a>($) {
    my ($clearPassword) = @_;
    my $salt = join(<span class="stringliteral">&quot;&quot;</span>, (<span class="charliteral">&#39;.&#39;</span>,<span class="charliteral">&#39;/&#39;</span>,<span class="charliteral">&#39;0&#39;</span>..<span class="charliteral">&#39;9&#39;</span>,<span class="charliteral">&#39;A&#39;</span>..<span class="charliteral">&#39;Z&#39;</span>,<span class="charliteral">&#39;a&#39;</span>..<span class="charliteral">&#39;z&#39;</span>)[rand 64, rand 64]);
    my $cryptPassword = crypt($clearPassword, $salt);
    <span class="keywordflow">return</span> $cryptPassword;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a14e16129c966e5d5e8944f2d7da041e6"></a><!-- doxytag: member="WeBWorK::Utils::decodeAnswers" ref="a14e16129c966e5d5e8944f2d7da041e6" args="($)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::decodeAnswers </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-decodeAnswers($)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-decodeAnswers($)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-decodeAnswers($)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-decodeAnswers($)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in decodeAnswers($): 11</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a14e16129c966e5d5e8944f2d7da041e6">decodeAnswers</a>($) {
    my $serialized = shift;
    <span class="keywordflow">return</span> unless defined $serialized and $serialized;
    my $array_ref = eval{ Storable::thaw($serialized) };
    <span class="keywordflow">if</span> ($@) {
        warn <span class="stringliteral">&quot;problem fetching answers -- possibly left over from base64 days. Not to worry -- press preview or submit and this will go away  permanently for this question.   $@&quot;</span>;
        <span class="keywordflow">return</span> ();
    } <span class="keywordflow">else</span> {
        <span class="keywordflow">return</span> @{$array_ref};
    }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a99b665758a875f8242f279cf191cb108"></a><!-- doxytag: member="WeBWorK::Utils::dequote" ref="a99b665758a875f8242f279cf191cb108" args="($)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::dequote </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-dequote($)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-dequote($)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-dequote($)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-dequote($)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in dequote($): 11</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a99b665758a875f8242f279cf191cb108">dequote</a>($) {
    local $_ = shift;
    my ($white, $leader); # common whitespace and common leading <span class="keywordtype">string</span>
    <span class="keywordflow">if</span> (/^\s*(?:([^\w\s]+)(\s*).*\n)(?:\s*\1\2?.*\n)+$/) {
        ($white, $leader) = ($2, quotemeta($1));
    } <span class="keywordflow">else</span> {
        ($white, $leader) = (/^(\s+)/, <span class="stringliteral">&#39;&#39;</span>);
    }
    s/^\s*?$leader(?:$white)?<span class="comment">//gm;</span>
    <span class="keywordflow">return</span> $_;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a490ac40a90b648b65be5873101b993ea"></a><!-- doxytag: member="WeBWorK::Utils::encodeAnswers" ref="a490ac40a90b648b65be5873101b993ea" args="(\%\@)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::encodeAnswers </td>
          <td>(</td>
          <td class="paramtype">\%\@&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-encodeAnswers(\%\@)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-encodeAnswers(\%\@)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-encodeAnswers(\%\@)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-encodeAnswers(\%\@)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in encodeAnswers(\%\@): 10</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a490ac40a90b648b65be5873101b993ea">encodeAnswers</a>(\%\@) {
    my %hash = %{shift()};
    my @order = @{shift()};
    my @ordered_hash = ();
    <span class="keywordflow">foreach</span> my $key (@order) {
        push @ordered_hash, $key, $hash{$key};
    }
    <span class="keywordflow">return</span> Storable::freeze( \@ordered_hash);

}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aa7c2abbf3acb00d0fdb9031cc86e9740"></a><!-- doxytag: member="WeBWorK::Utils::fisher_yates_shuffle" ref="aa7c2abbf3acb00d0fdb9031cc86e9740" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::fisher_yates_shuffle </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-fisher_yates_shuffle' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-fisher_yates_shuffle-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-fisher_yates_shuffle-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-fisher_yates_shuffle-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in fisher_yates_shuffle: 9</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#aa7c2abbf3acb00d0fdb9031cc86e9740">fisher_yates_shuffle</a> {
    my $array = shift;
    my $i;
    <span class="keywordflow">for</span> ($i = @$array; --$i; ) {
        my $j = <span class="keywordtype">int</span> rand ($i+1);
        next <span class="keywordflow">if</span> $i == $j;
        @$array[$i,$j] = @$array[$j,$i];
    }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ad47aa475ac5aa4bee50ff67e0fa4f942"></a><!-- doxytag: member="WeBWorK::Utils::force_eoln" ref="ad47aa475ac5aa4bee50ff67e0fa4f942" args="($)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::force_eoln </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-force_eoln($)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-force_eoln($)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-force_eoln($)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-force_eoln($)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in force_eoln($): 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#ad47aa475ac5aa4bee50ff67e0fa4f942">force_eoln</a>($) {
    my ($string) = @_;
    $string =~ s/\015\012?/\012/g;
    <span class="keywordflow">return</span> $string;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aea0bf7fdfeed770c8eb3ddd69d319f08"></a><!-- doxytag: member="WeBWorK::Utils::formatDateTime" ref="aea0bf7fdfeed770c8eb3ddd69d319f08" args="($;$)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::formatDateTime </td>
          <td>(</td>
          <td class="paramtype">$;$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-formatDateTime($;$)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-formatDateTime($;$)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-formatDateTime($;$)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-formatDateTime($;$)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in formatDateTime($;$): 11</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#aea0bf7fdfeed770c8eb3ddd69d319f08">formatDateTime</a>($;$) {
    my ($dateTime, $display_tz) = @_;
    warn <span class="stringliteral">&quot;Utils::formatDateTime is not a method. &quot;</span>, join(<span class="stringliteral">&quot; &quot;</span>,caller(2)) if ref($dateTime); <span class="preprocessor"># catch bad calls to Utils::formatDateTime</span>
<span class="preprocessor"></span>    warn <span class="stringliteral">&quot;not defined formatDateTime(&#39;$dateTime&#39;, &#39;$display_tz&#39;) &quot;</span>,join(<span class="stringliteral">&quot; &quot;</span>,caller(2)) unless  $display_tz;
    $dateTime = $dateTime ||0;  <span class="preprocessor"># do our best to provide default values</span>
<span class="preprocessor"></span>    $display_tz ||= <span class="stringliteral">&quot;local&quot;</span>;    # <span class="keywordflow">do</span> our best to provide <span class="keywordflow">default</span> vaules
    
    my $dt = DateTime-&gt;from_epoch(epoch =&gt; $dateTime, time_zone =&gt; $display_tz);
<span class="preprocessor">    #warn &quot;\t\$dt = &quot;, $dt-&gt;strftime(DATE_FORMAT), &quot;\n&quot;;</span>
<span class="preprocessor"></span>    <span class="keywordflow">return</span> $dt-&gt;strftime(DATE_FORMAT);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a2df6e88ec37cc5cac2a6d24967ff5a05"></a><!-- doxytag: member="WeBWorK::Utils::has_aux_files" ref="a2df6e88ec37cc5cac2a6d24967ff5a05" args="($)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::has_aux_files </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-has_aux_files($)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-has_aux_files($)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-has_aux_files($)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-has_aux_files($)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in has_aux_files($): 12</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a2df6e88ec37cc5cac2a6d24967ff5a05">has_aux_files</a> ($) { #  determine whether a question has auxiliary files
<span class="preprocessor">                        # a path ending in    foo/foo.pg  is assumed to contain auxilliary files</span>
<span class="preprocessor"></span>    my $path = shift;
    <span class="keywordflow">if</span> ( <a class="code" href="classWeBWorK_1_1Utils.html#a00b4257aa3d46ca83102742f6f5414ce">not_blank</a>($path) ) {
            my ($dir, $prob) = $path =~ m|([^/]+)/([^/]+)\.pg$|;  # must be a problem file ending in .pg
            <span class="keywordflow">return</span> 1 <span class="keywordflow">if</span> (defined($dir) and defined ($prob) and $dir eq $prob);
    } else {
        warn <span class="stringliteral">&quot;This subroutine cannot handle empty paths: |$path|&quot;</span>,caller();
    }
    <span class="keywordflow">return</span> 0;    # no aux files with <span class="keyword">this</span> .pg file

}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="afbffbfbedf77e126e540c109ac24d708"></a><!-- doxytag: member="WeBWorK::Utils::intDateTime" ref="afbffbfbedf77e126e540c109ac24d708" args="($)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::intDateTime </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-intDateTime($)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-intDateTime($)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-intDateTime($)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-intDateTime($)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in intDateTime($): 3</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#afbffbfbedf77e126e540c109ac24d708">intDateTime</a>($) {
    <span class="keywordflow">return</span> ($_[0] =~ m/^\d*$/) ?  $_[0] : <a class="code" href="classWeBWorK_1_1Utils.html#a379691d7aa3ce757b71427a64bfb8f8f">parseDateTime</a>($_[0]);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aaf21be3787ed15580eae69af4d13a6a5"></a><!-- doxytag: member="WeBWorK::Utils::list2hash" ref="aaf21be3787ed15580eae69af4d13a6a5" args="(@)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::list2hash </td>
          <td>(</td>
          <td class="paramtype">@&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-list2hash(@)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-list2hash(@)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-list2hash(@)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-list2hash(@)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in list2hash(@): 3</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#aaf21be3787ed15580eae69af4d13a6a5">list2hash</a>(@) {
    map {$_ =&gt; <span class="stringliteral">&quot;0&quot;</span>} @_;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="adac52c4eedc9fcbf9d511de13dfc0bc2"></a><!-- doxytag: member="WeBWorK::Utils::listFilesRecursive" ref="adac52c4eedc9fcbf9d511de13dfc0bc2" args="($;$$$$)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::listFilesRecursive </td>
          <td>(</td>
          <td class="paramtype">$;$$$$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-listFilesRecursive($;$$$$)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-listFilesRecursive($;$$$$)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-listFilesRecursive($;$$$$)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-listFilesRecursive($;$$$$)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in listFilesRecursive($;$$$$): 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#adac52c4eedc9fcbf9d511de13dfc0bc2">listFilesRecursive</a>($;$$$$) {
    my ($dir, $match_qr, $prune_qr, $match_full, $prune_full) = @_;
    <span class="keywordflow">return</span> <a class="code" href="classWeBWorK_1_1Utils.html#a7fec15a30930937d4de6c38fb9779b7a">listFilesRecursiveHelper</a>($dir, <span class="stringliteral">&quot;&quot;</span>, $match_qr, $prune_qr, $match_full, $prune_full);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a3faffb85b624062dfa70b82b6c4121ff"></a><!-- doxytag: member="WeBWorK::Utils::listFilesRecursiveHelper" ref="a3faffb85b624062dfa70b82b6c4121ff" args="($$$$$$)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::listFilesRecursiveHelper </td>
          <td>(</td>
          <td class="paramtype">$$$$$$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a7fec15a30930937d4de6c38fb9779b7a"></a><!-- doxytag: member="WeBWorK::Utils::listFilesRecursiveHelper" ref="a7fec15a30930937d4de6c38fb9779b7a" args="($$$$$$)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::listFilesRecursiveHelper </td>
          <td>(</td>
          <td class="paramtype">$$$$$$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-listFilesRecursiveHelper($$$$$$);' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-listFilesRecursiveHelper($$$$$$);-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-listFilesRecursiveHelper($$$$$$);-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-listFilesRecursiveHelper($$$$$$);-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in listFilesRecursiveHelper($$$$$$);: 1</span>
<span class="preprocessor">sub listFilesRecursiveHelper($$$$$$);</span>
</pre></div>  
</div>
<p>Undocumented Method  
<div id='codesection-listFilesRecursiveHelper($$$$$$)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-listFilesRecursiveHelper($$$$$$)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-listFilesRecursiveHelper($$$$$$)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-listFilesRecursiveHelper($$$$$$)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in listFilesRecursiveHelper($$$$$$): 62</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a7fec15a30930937d4de6c38fb9779b7a">listFilesRecursiveHelper</a>($$$$$$) {
    my ($base_dir, $curr_dir, $match_qr, $prune_qr, $match_full, $prune_full) = @_;
    
    my $full_dir = <span class="stringliteral">&quot;$base_dir/$curr_dir&quot;</span>;
    
    my @dir_contents = <a class="code" href="classWeBWorK_1_1Utils.html#a908ab95f2f3b2874c63969f6da72877c">readDirectory</a>($full_dir);
    
    my @matches;
    
    <span class="keywordflow">foreach</span> my $dir_entry (@dir_contents) {
        my $full_path = <span class="stringliteral">&quot;$full_dir/$dir_entry&quot;</span>;
        
<span class="preprocessor">        # determine whether the entry is a directory or a file, taking into account the </span>
<span class="preprocessor"></span>        my $is_dir;
        my $is_file;
        <span class="keywordflow">if</span> (-l $full_path) {
            my $link_target = <span class="stringliteral">&quot;$full_dir/&quot;</span> . readlink $full_path;
            <span class="keywordflow">if</span> ($link_target) {
                $is_dir = -d $link_target;
                $is_file = !$is_dir &amp;&amp; -f $link_target || -p $link_target || -S $link_target;
            } <span class="keywordflow">else</span> {
                warn <span class="stringliteral">&quot;Couldn&#39;t resolve symlink $full_path: $!&quot;</span>;
            }
        } <span class="keywordflow">else</span> {
            $is_dir = -d $full_path;
            $is_file = !$is_dir &amp;&amp; -f $full_path || -p $full_path || -S $full_path;
        }
        
        <span class="keywordflow">if</span> ($is_dir) {
<span class="preprocessor">            # standard things to skip</span>
<span class="preprocessor"></span>            next <span class="keywordflow">if</span> $dir_entry eq <span class="stringliteral">&quot;.&quot;</span>;
            next <span class="keywordflow">if</span> $dir_entry eq <span class="stringliteral">&quot;..&quot;</span>;
            
<span class="preprocessor">            # skip unreadable directories (and broken symlinks, incidentally)</span>
<span class="preprocessor"></span>            unless (-r $full_path) {
                warn <span class="stringliteral">&quot;Directory/symlink $full_path not readable&quot;</span>;
                next;
            }
            
<span class="preprocessor">            # check $prune_qr</span>
<span class="preprocessor"></span>            my $subdir = ($curr_dir eq <span class="stringliteral">&quot;&quot;</span>) ? $dir_entry : <span class="stringliteral">&quot;$curr_dir/$dir_entry&quot;</span>;
            <span class="keywordflow">if</span> (defined $prune_qr) {
                my $prune_string = $prune_full ? $subdir : $dir_entry;
                next <span class="keywordflow">if</span> $prune_string =~ m/$prune_qr/;
            }
            
<span class="preprocessor">            # everything looks good, time to recurse!</span>
<span class="preprocessor"></span>            push @matches, <a class="code" href="classWeBWorK_1_1Utils.html#a7fec15a30930937d4de6c38fb9779b7a">listFilesRecursiveHelper</a>($base_dir, $subdir, $match_qr, $prune_qr, $match_full, $prune_full);
        } elsif ($is_file) {
            my $file = ($curr_dir eq <span class="stringliteral">&quot;&quot;</span>) ? $dir_entry : <span class="stringliteral">&quot;$curr_dir/$dir_entry&quot;</span>;
            my $match_string = $match_full ? $file : $dir_entry;
            <span class="keywordflow">if</span> (not defined $match_string or $match_string =~ m/$match_qr/) {
                push @matches, $file;
            }
        } <span class="keywordflow">else</span> {
<span class="preprocessor">            # otherwise, it&#39;s a character device or a block device, and i don&#39;t</span>
<span class="preprocessor"></span><span class="preprocessor">            # suppose we want anything to do with those ;-)</span>
<span class="preprocessor"></span>        }
    }
    
    <span class="keywordflow">return</span> @matches;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a860d42a8505a6a18ae2f72ee8d2bf793"></a><!-- doxytag: member="WeBWorK::Utils::makeTempDirectory" ref="a860d42a8505a6a18ae2f72ee8d2bf793" args="($$)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::makeTempDirectory </td>
          <td>(</td>
          <td class="paramtype">$$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-makeTempDirectory($$)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-makeTempDirectory($$)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-makeTempDirectory($$)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-makeTempDirectory($$)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in makeTempDirectory($$): 15</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a860d42a8505a6a18ae2f72ee8d2bf793">makeTempDirectory</a>($$) {
    my ($parent, $basename) = @_;
<span class="preprocessor">    # Loop until we&#39;re able to create a directory, or it fails for some</span>
<span class="preprocessor"></span><span class="preprocessor">    # reason other than there already being something there.</span>
<span class="preprocessor"></span>    my $triesRemaining = MKDIR_ATTEMPTS;
    my ($fullPath, $success);
    <span class="keywordflow">do</span> {
        my $suffix = join <span class="stringliteral">&quot;&quot;</span>, map { (<span class="charliteral">&#39;A&#39;</span>..<span class="charliteral">&#39;Z&#39;</span>,<span class="charliteral">&#39;a&#39;</span>..<span class="charliteral">&#39;z&#39;</span>,<span class="charliteral">&#39;0&#39;</span>..<span class="charliteral">&#39;9&#39;</span>)[<span class="keywordtype">int</span> rand 62] } 1 .. 8;
        $fullPath = <span class="stringliteral">&quot;$parent/$basename.$suffix&quot;</span>;
        $success = mkdir $fullPath;
    } until ($success or not $!{EEXIST});
    die <span class="stringliteral">&quot;Failed to create directory $fullPath: $!&quot;</span>
        unless $success;
    <span class="keywordflow">return</span> $fullPath;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a3d364a4d0cb81eef75c34845afb179e3"></a><!-- doxytag: member="WeBWorK::Utils::max" ref="a3d364a4d0cb81eef75c34845afb179e3" args="(@)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::max </td>
          <td>(</td>
          <td class="paramtype">@&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-max(@)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-max(@)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-max(@)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-max(@)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in max(@): 10</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a3d364a4d0cb81eef75c34845afb179e3">max</a>(@) {
    my $soFar;
    <span class="keywordflow">foreach</span> my $item (@_) {
        $soFar = $item unless defined $soFar;
        <span class="keywordflow">if</span> ($item &gt; $soFar) {
            $soFar = $item;
        }
    }
    <span class="keywordflow">return</span> defined $soFar ? $soFar : 0;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a00b4257aa3d46ca83102742f6f5414ce"></a><!-- doxytag: member="WeBWorK::Utils::not_blank" ref="a00b4257aa3d46ca83102742f6f5414ce" args="($)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::not_blank </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-not_blank($)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-not_blank($)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-not_blank($)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-not_blank($)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in not_blank($): 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a00b4257aa3d46ca83102742f6f5414ce">not_blank</a> ($) {     # check that a <span class="keywordtype">string</span> exists and is not blank
    my $str = shift;
    <span class="keywordflow">return</span>( defined($str) and $str =~/\S/ );
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a379691d7aa3ce757b71427a64bfb8f8f"></a><!-- doxytag: member="WeBWorK::Utils::parseDateTime" ref="a379691d7aa3ce757b71427a64bfb8f8f" args="($;$)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::parseDateTime </td>
          <td>(</td>
          <td class="paramtype">$;$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-parseDateTime($;$)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-parseDateTime($;$)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-parseDateTime($;$)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-parseDateTime($;$)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in parseDateTime($;$): 105</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a379691d7aa3ce757b71427a64bfb8f8f">parseDateTime</a>($;$) {
    my ($string, $display_tz) = @_;
    warn <span class="stringliteral">&quot;time zone not defined&quot;</span>.caller() unless defined($display_tz);
    $display_tz ||= <span class="stringliteral">&quot;local&quot;</span>;


<span class="preprocessor">    # use WeBWorK 1 date parsing routine</span>
<span class="preprocessor"></span>    my ($second, $minute, $hour, $day, $month, $year, $zone) = <a class="code" href="classWeBWorK_1_1Utils.html#a8c39de4f59999516dc12be8f10194d86">unformatDateAndTime</a>($string);
    my $zone_str = defined $zone ? $zone : <span class="stringliteral">&quot;UNDEF&quot;</span>;
<span class="preprocessor">    #warn &quot;\tunformatDateAndTime: $second $minute $hour $day $month $year $zone_str\n&quot;;</span>
<span class="preprocessor"></span>    
<span class="preprocessor">    # DateTime expects month 1-12, not 0-11</span>
<span class="preprocessor"></span>    $month++;
    
<span class="preprocessor">    # Do what Time::Local does to ambiguous years</span>
<span class="preprocessor"></span>    {
        my $ThisYear     = (localtime())[5]; # FIXME: should be relative to $string<span class="stringliteral">&#39;s timezone</span>
<span class="stringliteral">        my $Breakpoint   = ($ThisYear + 50) % 100;</span>
<span class="stringliteral">        my $NextCentury  = $ThisYear - $ThisYear % 100;</span>
<span class="stringliteral">           $NextCentury += 100 if $Breakpoint &lt; 50;</span>
<span class="stringliteral">        my $Century      = $NextCentury - 100;</span>
<span class="stringliteral">        my $SecOff       = 0;</span>
<span class="stringliteral">        </span>
<span class="stringliteral">        if ($year &gt;= 1000) {</span>
<span class="stringliteral">            # leave alone</span>
<span class="stringliteral">        } elsif ($year &lt; 100 and $year &gt;= 0) {</span>
<span class="stringliteral">            $year += ($year &gt; $Breakpoint) ? $Century : $NextCentury;</span>
<span class="stringliteral">            $year += 1900;</span>
<span class="stringliteral">        } else {</span>
<span class="stringliteral">            $year += 1900;</span>
<span class="stringliteral">        }</span>
<span class="stringliteral">    }</span>
<span class="stringliteral">    </span>
<span class="stringliteral">    my $epoch;</span>
<span class="stringliteral">    </span>
<span class="stringliteral">    if (defined $zone and $zone ne &quot;&quot;) {</span>
<span class="stringliteral">        if (DateTime::TimeZone-&gt;is_valid_name($zone)) {</span>
<span class="stringliteral">            #warn &quot;\t\$zone is valid according to DateTime::TimeZone\n&quot;;</span>
<span class="stringliteral">            </span>
<span class="stringliteral">            my $dt = new DateTime(</span>
<span class="stringliteral">                year      =&gt; $year,</span>
<span class="stringliteral">                month     =&gt; $month,</span>
<span class="stringliteral">                day       =&gt; $day,</span>
<span class="stringliteral">                hour      =&gt; $hour,</span>
<span class="stringliteral">                minute    =&gt; $minute,</span>
<span class="stringliteral">                second    =&gt; $second,</span>
<span class="stringliteral">                time_zone =&gt; $zone,</span>
<span class="stringliteral">            );</span>
<span class="stringliteral">            #warn &quot;\t\$dt = &quot;, $dt-&gt;strftime(DATE_FORMAT), &quot;\n&quot;;</span>
<span class="stringliteral">            </span>
<span class="stringliteral">            $epoch = $dt-&gt;epoch;</span>
<span class="stringliteral">            #warn &quot;\t\$dt-&gt;epoch = $epoch\n&quot;;</span>
<span class="stringliteral">        } else {</span>
<span class="stringliteral">            #warn &quot;\t\$zone is invalid according to DateTime::TimeZone, so we ask Time::Zone\n&quot;;</span>
<span class="stringliteral">            </span>
<span class="stringliteral">            # treat the date/time as UTC</span>
<span class="stringliteral">            my $dt = new DateTime(</span>
<span class="stringliteral">                year      =&gt; $year,</span>
<span class="stringliteral">                month     =&gt; $month,</span>
<span class="stringliteral">                day       =&gt; $day,</span>
<span class="stringliteral">                hour      =&gt; $hour,</span>
<span class="stringliteral">                minute    =&gt; $minute,</span>
<span class="stringliteral">                second    =&gt; $second,</span>
<span class="stringliteral">                time_zone =&gt; &quot;UTC&quot;,</span>
<span class="stringliteral">            );</span>
<span class="stringliteral">            #warn &quot;\t\$dt = &quot;, $dt-&gt;strftime(DATE_FORMAT), &quot;\n&quot;;</span>
<span class="stringliteral">            </span>
<span class="stringliteral">            # convert to an epoch value</span>
<span class="stringliteral">            my $utc_epoch = $dt-&gt;epoch</span>
<span class="stringliteral">                or die &quot;Date/time &#39;</span>$string<span class="stringliteral">&#39; not representable as an epoch. Get more bits!\n&quot;;</span>
<span class="stringliteral">            #warn &quot;\t\$utc_epoch = $utc_epoch\n&quot;;</span>
<span class="stringliteral">            </span>
<span class="stringliteral">            # get offset for supplied timezone and utc_epoch</span>
<span class="stringliteral">            my $offset = tz_offset($zone, $utc_epoch) or die &quot;Time zone &#39;</span>$zone<span class="stringliteral">&#39; not recognized.\n&quot;;</span>
<span class="stringliteral">            #warn &quot;\t\$zone is valid according to Time::Zone (\$offset = $offset)\n&quot;;</span>
<span class="stringliteral">            </span>
<span class="stringliteral">            #$epoch = $utc_epoch + $offset;</span>
<span class="stringliteral">            ##warn &quot;\t\$epoch = \$utc_epoch + \$offset = $epoch\n&quot;;</span>
<span class="stringliteral">            </span>
<span class="stringliteral">            $dt-&gt;subtract(seconds =&gt; $offset);</span>
<span class="stringliteral">            #warn &quot;\t\$dt - \$offset = &quot;, $dt-&gt;strftime(DATE_FORMAT), &quot;\n&quot;;</span>
<span class="stringliteral">            </span>
<span class="stringliteral">            $epoch = $dt-&gt;epoch;</span>
<span class="stringliteral">            #warn &quot;\t\$epoch = $epoch\n&quot;;</span>
<span class="stringliteral">        }</span>
<span class="stringliteral">    } else {</span>
<span class="stringliteral">        #warn &quot;\t\$zone not supplied, using \$display_tz\n&quot;;</span>
<span class="stringliteral">        </span>
<span class="stringliteral">        my $dt = new DateTime(</span>
<span class="stringliteral">            year      =&gt; $year,</span>
<span class="stringliteral">            month     =&gt; $month,</span>
<span class="stringliteral">            day       =&gt; $day,</span>
<span class="stringliteral">            hour      =&gt; $hour,</span>
<span class="stringliteral">            minute    =&gt; $minute,</span>
<span class="stringliteral">            second    =&gt; $second,</span>
<span class="stringliteral">            time_zone =&gt; $display_tz,</span>
<span class="stringliteral">        );</span>
<span class="stringliteral">        #warn &quot;\t\$dt = &quot;, $dt-&gt;strftime(DATE_FORMAT), &quot;\n&quot;;</span>
<span class="stringliteral">        </span>
<span class="stringliteral">        $epoch = $dt-&gt;epoch;</span>
<span class="stringliteral">        #warn &quot;\t\$epoch = $epoch\n&quot;;</span>
<span class="stringliteral">    }</span>
<span class="stringliteral">    </span>
<span class="stringliteral">    return $epoch;</span>
<span class="stringliteral">}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="abc7e1334916960cbe8aeb726200b2355"></a><!-- doxytag: member="WeBWorK::Utils::path_is_subdir" ref="abc7e1334916960cbe8aeb726200b2355" args="($$;$)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::path_is_subdir </td>
          <td>(</td>
          <td class="paramtype">$$;$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-path_is_subdir($$;$)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-path_is_subdir($$;$)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-path_is_subdir($$;$)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-path_is_subdir($$;$)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in path_is_subdir($$;$): 21</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#abc7e1334916960cbe8aeb726200b2355">path_is_subdir</a>($$;$) {
    my ($path, $dir, $allow_relative) = @_;
    
    unless ($path =~ /^\<span class="comment">//) {</span>
        <span class="keywordflow">if</span> ($allow_relative) {
            $path = <span class="stringliteral">&quot;$dir/$path&quot;</span>;
        } <span class="keywordflow">else</span> {
            <span class="keywordflow">return</span> 0;
        }
    }
    
    $path = File::Spec-&gt;canonpath($path);
    $path .= <span class="stringliteral">&quot;/&quot;</span> unless $path =~ m|/$|;
    <span class="keywordflow">return</span> 0 <span class="keywordflow">if</span> $path =~ m#(^\.\.$|^\.\./|/\.\./|/\.\.$)#;
    
    $dir = File::Spec-&gt;canonpath($dir);
    $dir .= <span class="stringliteral">&quot;/&quot;</span> unless $dir =~ m|/$|;
    <span class="keywordflow">return</span> 0 unless $path =~ m|^$dir|;
    
    <span class="keywordflow">return</span> 1;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="af52889c37480d271a6ffaf750a4c940a"></a><!-- doxytag: member="WeBWorK::Utils::pretty_print_rh" ref="af52889c37480d271a6ffaf750a4c940a" args="($)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::pretty_print_rh </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-pretty_print_rh($)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-pretty_print_rh($)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-pretty_print_rh($)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-pretty_print_rh($)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in pretty_print_rh($): 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#af52889c37480d271a6ffaf750a4c940a">pretty_print_rh</a>($) {
    my $rh = shift;
    <span class="keywordflow">foreach</span> my $key (sort keys %{$rh})  {
        warn <span class="stringliteral">&quot;  $key =&gt; &quot;</span>,$rh-&gt;{$key},<span class="stringliteral">&quot;\n&quot;</span>;
    }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a908ab95f2f3b2874c63969f6da72877c"></a><!-- doxytag: member="WeBWorK::Utils::readDirectory" ref="a908ab95f2f3b2874c63969f6da72877c" args="($)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::readDirectory </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-readDirectory($)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-readDirectory($)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-readDirectory($)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-readDirectory($)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in readDirectory($): 8</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a908ab95f2f3b2874c63969f6da72877c">readDirectory</a>($) {
    my $dirName = shift;
    opendir my $dh, $dirName
        or die <span class="stringliteral">&quot;Failed to read directory $dirName: $!&quot;</span>;
    my @result = readdir $dh;
    close $dh;
    <span class="keywordflow">return</span> @result;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a7aa337cd97110ff3e5c7536bfb1a84e8"></a><!-- doxytag: member="WeBWorK::Utils::readFile" ref="a7aa337cd97110ff3e5c7536bfb1a84e8" args="($)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::readFile </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-readFile($)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-readFile($)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-readFile($)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-readFile($)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in readFile($): 9</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a7aa337cd97110ff3e5c7536bfb1a84e8">readFile</a>($) {
    my $fileName = shift;
    local $/ = undef; # slurp the whole thing into one <span class="keywordtype">string</span>
    open my $dh, <span class="stringliteral">&quot;&lt;&quot;</span>, $fileName
        or die <span class="stringliteral">&quot;failed to read file $fileName: $!&quot;</span>;
    my $result = &lt;$dh&gt;;
    close $dh;
    <span class="keywordflow">return</span> <a class="code" href="classWeBWorK_1_1Utils.html#ad47aa475ac5aa4bee50ff67e0fa4f942">force_eoln</a>($result);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a50358b3f7d57076e89ff5c0bf6532827"></a><!-- doxytag: member="WeBWorK::Utils::ref2string" ref="a50358b3f7d57076e89ff5c0bf6532827" args="($;$)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::ref2string </td>
          <td>(</td>
          <td class="paramtype">$;$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab0c2e2a2a08fe600ee8f9f6b030c8907"></a><!-- doxytag: member="WeBWorK::Utils::ref2string" ref="ab0c2e2a2a08fe600ee8f9f6b030c8907" args="($;$)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::ref2string </td>
          <td>(</td>
          <td class="paramtype">$;$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-ref2string($;$)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-ref2string($;$)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-ref2string($;$)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-ref2string($;$)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in ref2string($;$): 49</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#ab0c2e2a2a08fe600ee8f9f6b030c8907">ref2string</a>($;$) {
    my $ref = shift;
    my $dontExpand = shift || {};
    my $refType = ref $ref;
    my $result;
    <span class="keywordflow">if</span> ($refType and not $dontExpand-&gt;{$refType}) {
        my $baseType = <a class="code" href="classWeBWorK_1_1Utils.html#acd1689485ef8303f73dab43933d36448">refBaseType</a>($ref);
        $result .= <span class="stringliteral">&#39;&lt;font size=&quot;1&quot; color=&quot;grey&quot;&gt;&#39;</span> . $refType;
        $result .= <span class="stringliteral">&quot; ($baseType)&quot;</span> <span class="keywordflow">if</span> $baseType and $refType ne $baseType;
        $result .= <span class="stringliteral">&quot;:&lt;/font&gt;&lt;br&gt;&quot;</span>;
        $result .= <span class="stringliteral">&#39;&lt;table border=&quot;1&quot; cellpadding=&quot;2&quot;&gt;&#39;</span>;
        <span class="keywordflow">if</span> ($baseType eq <span class="stringliteral">&quot;HASH&quot;</span>) {
            my %hash = %$ref;
            <span class="keywordflow">foreach</span> (sort keys %hash) {
                $result .= <span class="stringliteral">&#39;&lt;tr valign=&quot;top&quot;&gt;&#39;</span>;
                $result .= <span class="stringliteral">&quot;&lt;td&gt;$_&lt;/td&gt;&quot;</span>;
                $result .= <span class="stringliteral">&quot;&lt;td&gt;&quot;</span> . <a class="code" href="classWeBWorK_1_1Utils.html#ab0c2e2a2a08fe600ee8f9f6b030c8907">ref2string</a>($hash{$_}, $dontExpand) . <span class="stringliteral">&quot;&lt;/td&gt;&quot;</span>;
                $result .= <span class="stringliteral">&quot;&lt;/tr&gt;&quot;</span>;
            }
        } elsif ($baseType eq <span class="stringliteral">&quot;ARRAY&quot;</span>) {
            my @array = @$ref;
<span class="preprocessor">            # special case for Problem, Set, and User objects, which are defined</span>
<span class="preprocessor"></span><span class="preprocessor">            # using lists and contain a @FIELDS package variable:</span>
<span class="preprocessor"></span>            no strict <span class="stringliteral">&#39;refs&#39;</span>;
            my @FIELDS = eval { @{$refType.<span class="stringliteral">&quot;::FIELDS&quot;</span>} };
            use strict <span class="stringliteral">&#39;refs&#39;</span>;
            undef @FIELDS unless scalar @FIELDS == scalar @array and not $@;
            <span class="keywordflow">foreach</span> (0 .. $#array) {
                $result .= <span class="stringliteral">&#39;&lt;tr valign=&quot;top&quot;&gt;&#39;</span>;
                $result .= <span class="stringliteral">&quot;&lt;td&gt;$_&lt;/td&gt;&quot;</span>;
                $result .= <span class="stringliteral">&quot;&lt;td&gt;&quot;</span>.$FIELDS[$_].<span class="stringliteral">&quot;&lt;/td&gt;&quot;</span> <span class="keywordflow">if</span> @FIELDS;
                $result .= <span class="stringliteral">&quot;&lt;td&gt;&quot;</span> . <a class="code" href="classWeBWorK_1_1Utils.html#ab0c2e2a2a08fe600ee8f9f6b030c8907">ref2string</a>($array[$_], $dontExpand) . <span class="stringliteral">&quot;&lt;/td&gt;&quot;</span>;
                $result .= <span class="stringliteral">&quot;&lt;/tr&gt;&quot;</span>;
            }
        } elsif ($baseType eq <span class="stringliteral">&quot;SCALAR&quot;</span>) {
            my $scalar = $$ref;
            $result .= <span class="stringliteral">&#39;&lt;tr valign=&quot;top&quot;&gt;&#39;</span>;
            $result .= <span class="stringliteral">&quot;&lt;td&gt;$scalar&lt;/td&gt;&quot;</span>;
            $result .= <span class="stringliteral">&quot;&lt;/tr&gt;&quot;</span>;
        } <span class="keywordflow">else</span> {
<span class="preprocessor">            # perhaps a coderef? in any case, i don&#39;t feel like dealing with it!</span>
<span class="preprocessor"></span>            $result .= <span class="stringliteral">&#39;&lt;tr valign=&quot;top&quot;&gt;&#39;</span>;
            $result .= <span class="stringliteral">&quot;&lt;td&gt;$ref&lt;/td&gt;&quot;</span>;
            $result .= <span class="stringliteral">&quot;&lt;/tr&gt;&quot;</span>;
        }
        $result .= <span class="stringliteral">&quot;&lt;/table&gt;&quot;</span>
    } <span class="keywordflow">else</span> {
        $result .= defined $ref ? $ref : <span class="stringliteral">&#39;&lt;font color=&quot;red&quot;&gt;undef&lt;/font&gt;&#39;</span>;
    }   
</pre></div>  
</div>
<p>Undocumented Method  
<div id='codesection-ref2string($;$);' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-ref2string($;$);-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-ref2string($;$);-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-ref2string($;$);-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in ref2string($;$);: 1</span>
<span class="preprocessor">sub ref2string($;$);</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="acd1689485ef8303f73dab43933d36448"></a><!-- doxytag: member="WeBWorK::Utils::refBaseType" ref="acd1689485ef8303f73dab43933d36448" args="($)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::refBaseType </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-refBaseType($)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-refBaseType($)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-refBaseType($)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-refBaseType($)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in refBaseType($): 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#acd1689485ef8303f73dab43933d36448">refBaseType</a>($) {
    my $ref = shift;
    $ref =~ m/(\w+)\(/; # <span class="keyword">this</span> might not be robust...
    <span class="keywordflow">return</span> $1;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a8975e8d2efe7a7d1f8499bbe36d9a88a"></a><!-- doxytag: member="WeBWorK::Utils::removeTempDirectory" ref="a8975e8d2efe7a7d1f8499bbe36d9a88a" args="($)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::removeTempDirectory </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-removeTempDirectory($)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-removeTempDirectory($)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-removeTempDirectory($)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-removeTempDirectory($)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in removeTempDirectory($): 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a8975e8d2efe7a7d1f8499bbe36d9a88a">removeTempDirectory</a>($) {
    my ($dir) = @_;
    rmtree($dir, 0, 0);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a6662b8474a5bfd16c7b4efe4d817a8ee"></a><!-- doxytag: member="WeBWorK::Utils::runtime_use" ref="a6662b8474a5bfd16c7b4efe4d817a8ee" args="($;@)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::runtime_use </td>
          <td>(</td>
          <td class="paramtype">$;@&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-runtime_use($;@)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-runtime_use($;@)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-runtime_use($;@)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-runtime_use($;@)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in runtime_use($;@): 14</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a6662b8474a5bfd16c7b4efe4d817a8ee">runtime_use</a>($;@) {
    my ($module, @import_list) = @_;
    my $package = (caller)[0]; # <span class="keyword">import</span> into caller<span class="stringliteral">&#39;s namespace</span>
<span class="stringliteral">    </span>
<span class="stringliteral">    my $import_string;</span>
<span class="stringliteral">    if (@import_list == 1 and ref $import_list[0] eq &quot;ARRAY&quot; and @{$import_list[0]} == 0) {</span>
<span class="stringliteral">        $import_string = &quot;&quot;;</span>
<span class="stringliteral">    } else {</span>
<span class="stringliteral">        # \Q = quote metachars \E = end quoting</span>
<span class="stringliteral">        $import_string = &quot;import $module &quot; . join(&quot;,&quot;, map { qq|&quot;\Q$_\E&quot;| } @import_list);</span>
<span class="stringliteral">    }</span>
<span class="stringliteral">    eval &quot;package $package; require $module; $import_string&quot;;</span>
<span class="stringliteral">    die $@ if $@;</span>
<span class="stringliteral">}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a765334eb4484125d0ea5ad2a68b3b1f2"></a><!-- doxytag: member="WeBWorK::Utils::sortByName" ref="a765334eb4484125d0ea5ad2a68b3b1f2" args="($@)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::sortByName </td>
          <td>(</td>
          <td class="paramtype">$@&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-sortByName($@)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-sortByName($@)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-sortByName($@)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-sortByName($@)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in sortByName($@): 45</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a765334eb4484125d0ea5ad2a68b3b1f2">sortByName</a>($@) {
    my ($field, @items) = @_;

    my %itemsByIndex = ();
    <span class="keywordflow">if</span> ( ref( $field ) eq <span class="stringliteral">&#39;ARRAY&#39;</span> ) {
        <span class="keywordflow">foreach</span> my $item ( @items ) {
            my $key = <span class="stringliteral">&#39;&#39;</span>;
            <span class="keywordflow">foreach</span> ( @$field ) {
                    $key .= $item-&gt;$_;  # in <span class="keyword">this</span> <span class="keywordflow">case</span> we assume 
            }                           #    all entries in @$field
            $itemsByIndex{$key} = $item;  #  are defined.
            }
    } <span class="keywordflow">else</span> {
        %itemsByIndex = map {(defined $field)?$_-&gt;$field:$_ =&gt; $_} @items;
    }

    my @sKeys = sort {
        my @aParts = split m/(?&lt;=\D)(?=\d)|(?&lt;=\d)(?=\D)/, $a;
        my @bParts = split m/(?&lt;=\D)(?=\d)|(?&lt;=\d)(?=\D)/, $b;

        <span class="keywordflow">while</span> (@aParts and @bParts) {
            my $aPart = shift @aParts;
            my $bPart = shift @bParts;
            my $aNumeric = $aPart =~ m/^\d*$/;
            my $bNumeric = $bPart =~ m/^\d*$/;

<span class="preprocessor">            # numbers should come before words</span>
<span class="preprocessor"></span>            <span class="keywordflow">return</span> -1 <span class="keywordflow">if</span>     $aNumeric and not $bNumeric;
            <span class="keywordflow">return</span> +1 <span class="keywordflow">if</span> not $aNumeric and     $bNumeric;

<span class="preprocessor">            # both have the same type</span>
<span class="preprocessor"></span>            <span class="keywordflow">if</span> ($aNumeric and $bNumeric) {
                next <span class="keywordflow">if</span> $aPart == $bPart; # check next pair
                <span class="keywordflow">return</span> $aPart &lt;=&gt; $bPart; # compare numerically
            } <span class="keywordflow">else</span> {
                next <span class="keywordflow">if</span> $aPart eq $bPart; # check next pair
                <span class="keywordflow">return</span> $aPart cmp $bPart; # compare lexicographically
            }
        }
        <span class="keywordflow">return</span> +1 <span class="keywordflow">if</span> @aParts; # a has more sections, should go second
        <span class="keywordflow">return</span> -1 <span class="keywordflow">if</span> @bParts; # a had fewer sections, should go first
    } (keys %itemsByIndex);

    <span class="keywordflow">return</span> map{$itemsByIndex{$_}} @sKeys;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aec74ceba9815c67c2d10f46fbe909063"></a><!-- doxytag: member="WeBWorK::Utils::surePathToFile" ref="aec74ceba9815c67c2d10f46fbe909063" args="($$)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::surePathToFile </td>
          <td>(</td>
          <td class="paramtype">$$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-surePathToFile($$)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-surePathToFile($$)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-surePathToFile($$)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-surePathToFile($$)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in surePathToFile($$): 37</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#aec74ceba9815c67c2d10f46fbe909063">surePathToFile</a>($$) {
<span class="preprocessor">    # constructs intermediate directories enroute to the file </span>
<span class="preprocessor"></span><span class="preprocessor">    # the input path must be the path relative to this starting directory</span>
<span class="preprocessor"></span>    my $start_directory = shift;
    my $path = shift;
    my $delim = <span class="stringliteral">&quot;/&quot;</span>; 
    unless ($start_directory and $path ) {
        warn <span class="stringliteral">&quot;missing directory&lt;br&gt; surePathToFile  start_directory   path &quot;</span>;
        <span class="keywordflow">return</span> <span class="stringliteral">&#39;&#39;</span>;
    }
<span class="preprocessor">    # use the permissions/group on the start directory itself as a template</span>
<span class="preprocessor"></span>    my ($perms, $groupID) = (stat $start_directory)[2,5];
<span class="preprocessor">    #warn &quot;&amp;urePathToTmpFile: perms=$perms groupID=$groupID\n&quot;;</span>
<span class="preprocessor"></span>    
<span class="preprocessor">    # if the path starts with $start_directory (which is permitted but optional) remove this initial segment</span>
<span class="preprocessor"></span>    $path =~ s|^$start_directory|| <span class="keywordflow">if</span> $path =~ m|^$start_directory|;

    
<span class="preprocessor">    # find the nodes on the given path</span>
<span class="preprocessor"></span>        my @nodes = split(<span class="stringliteral">&quot;$delim&quot;</span>,$path);
    
<span class="preprocessor">    # create new path</span>
<span class="preprocessor"></span>    $path = $start_directory; #convertPath(<span class="stringliteral">&quot;$tmpDirectory&quot;</span>);
    
    <span class="keywordflow">while</span> (@nodes&gt;1) {  # the last node is the file name
        $path = $path . shift (@nodes) . <span class="stringliteral">&quot;/&quot;</span>; #convertPath($path . shift (@nodes) . <span class="stringliteral">&quot;/&quot;</span>);
<span class="preprocessor">        #FIXME  this make directory command may not be fool proof.</span>
<span class="preprocessor"></span>        unless (-e $path) {
            mkdir($path, $perms)
                or warn &quot;Failed to create directory $path with start directory $start_directory &quot;;
        }

    }
    
    $path = $path . shift(@nodes); <span class="preprocessor">#convertPath($path . shift(@nodes));</span>
<span class="preprocessor"></span>    <span class="keywordflow">return</span> $path;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ae1a9587733f305fef1dcf04cbbb37d69"></a><!-- doxytag: member="WeBWorK::Utils::textDateTime" ref="ae1a9587733f305fef1dcf04cbbb37d69" args="($)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::textDateTime </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-textDateTime($)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-textDateTime($)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-textDateTime($)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-textDateTime($)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in textDateTime($): 3</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#ae1a9587733f305fef1dcf04cbbb37d69">textDateTime</a>($) {
    <span class="keywordflow">return</span> ($_[0] =~ m/^\d*$/) ? <a class="code" href="classWeBWorK_1_1Utils.html#aea0bf7fdfeed770c8eb3ddd69d319f08">formatDateTime</a>($_[0]) : $_[0];
}
</pre></div>  
</div>
 
<p>Definition at line <a class="el" href="Utils_8pm_source.html#l00289">289</a> of file <a class="el" href="Utils_8pm_source.html">Utils.pm</a>.</p>

</div>
</div>
<a class="anchor" id="a2d9e6ee8f0d95c62b14025ec56d423fd"></a><!-- doxytag: member="WeBWorK::Utils::timeToSec" ref="a2d9e6ee8f0d95c62b14025ec56d423fd" args="($)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::timeToSec </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-timeToSec($)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-timeToSec($)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-timeToSec($)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-timeToSec($)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in timeToSec($): 27</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a2d9e6ee8f0d95c62b14025ec56d423fd">timeToSec</a>($) {
    my $t = shift();
    <span class="keywordflow">if</span> ( $t =~ /^(\d+)\s+(\S+)\s*$/ ) {
    my ( $val, $unit ) = ( $1, $2 );
    <span class="keywordflow">if</span> ( $unit =~ /month/i || $unit =~ /mon/i ) {
        $val *= 18144000;  # <span class="keyword">this</span> assumes 30 days/month
    } elsif ( $unit =~ /week/i || $unit =~ /wk/i ) {
        $val *= 604800;
    } elsif ( $unit =~ /day/i || $unit =~ /dy/i ) {
        $val *= 86400;
    } elsif ( $unit =~ /hour/i || $unit =~ /hr/i ) {
        $val *= 3600;
    } elsif ( $unit =~ /minute/i || $unit =~ /min/i ) {
        $val *= 60;
    } elsif ( $unit =~ /second/i || $unit =~ /sec/i || $unit =~ /^s$/i ) {
<span class="preprocessor">        # do nothing</span>
<span class="preprocessor"></span>    } <span class="keywordflow">else</span> {
        warn(<span class="stringliteral">&quot;Unrecognized time unit $unit.\nAssuming seconds.\n&quot;</span>);
    }
    <span class="keywordflow">return</span> $val;
    } elsif ( $t =~ /^(\d+)$/ ) {
    <span class="keywordflow">return</span> $t;
    } <span class="keywordflow">else</span> {
    warn(<span class="stringliteral">&quot;Unrecognized time interval: $t\n&quot;</span>);
    <span class="keywordflow">return</span> 0;
    }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ae83b231f78447e698cd1f12b82b60580"></a><!-- doxytag: member="WeBWorK::Utils::trim_spaces" ref="ae83b231f78447e698cd1f12b82b60580" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::trim_spaces </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-trim_spaces' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-trim_spaces-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-trim_spaces-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-trim_spaces-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in trim_spaces: 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#ae83b231f78447e698cd1f12b82b60580">trim_spaces</a> {
    my $in = shift;
    <span class="keywordflow">return</span> <span class="stringliteral">&#39;&#39;</span> unless $in;  # skip blank spaces
    $in =~ s/^\s*(.*?)\s*$/$1/;
    <span class="keywordflow">return</span>($in);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a03a8752585bafa7797fbb7cf022b7fb3"></a><!-- doxytag: member="WeBWorK::Utils::undefstr" ref="a03a8752585bafa7797fbb7cf022b7fb3" args="($@)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::undefstr </td>
          <td>(</td>
          <td class="paramtype">$@&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-undefstr($@)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-undefstr($@)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-undefstr($@)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-undefstr($@)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in undefstr($@): 3</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a03a8752585bafa7797fbb7cf022b7fb3">undefstr</a>($@) {
    map { defined $_ ? $_ : $_[0] } @_[1..$#_];
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a8c39de4f59999516dc12be8f10194d86"></a><!-- doxytag: member="WeBWorK::Utils::unformatDateAndTime" ref="a8c39de4f59999516dc12be8f10194d86" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::unformatDateAndTime </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-unformatDateAndTime' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-unformatDateAndTime-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-unformatDateAndTime-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-unformatDateAndTime-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in unformatDateAndTime: 66</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a8c39de4f59999516dc12be8f10194d86">unformatDateAndTime</a> {
    my ($string) = @_;
    my $orgString = $string;
    
    $string =~ s|^\s+||;
    $string =~ s|\s+$||;
    $string =~ s|at| at |i; ## OK <span class="keywordflow">if</span> forget to enter spaces or use wrong <span class="keywordflow">case</span>
    $string =~ s|AM| AM|i;  ## OK <span class="keywordflow">if</span> forget to enter spaces or use wrong <span class="keywordflow">case</span>
    $string =~ s|PM| PM|i;  ## OK <span class="keywordflow">if</span> forget to enter spaces or use wrong <span class="keywordflow">case</span>
    $string =~ s|,| at |;   ## start translating old form of date/time to <span class="keyword">new</span> form
    
<span class="preprocessor">    # case where the at is missing: MM/DD/YYYY at HH:MM AMPM ZONE</span>
<span class="preprocessor"></span>    <a class="code" href="classWeBWorK_1_1Utils.html#a50b392d474c8e3d44d80166c9f714574">unformatDateAndTime_error</a>($orgString, <span class="stringliteral">&quot;The &#39;at&#39; appears to be missing.&quot;</span>)
        if $string =~ m|^\s*[\/\d]+\s+[:\d]+|;
    
    my ($date, $at, $time, $AMPM, $TZ) = split /\s+/, $string;
    
    <a class="code" href="classWeBWorK_1_1Utils.html#a50b392d474c8e3d44d80166c9f714574">unformatDateAndTime_error</a>($orgString, &quot;The date and/or time appear to be missing.&quot;, $date, $time, $AMPM, $TZ)
        unless defined $date and defined $at and defined $time;
    
    <span class="preprocessor"># deal with military time</span>
<span class="preprocessor"></span>    unless ($time =~ /:/) {
        {  ##bare block <span class="keywordflow">for</span> <span class="stringliteral">&#39;case&quot; structure</span>
<span class="stringliteral">            $time =~ /(\d\d)(\d\d)/;</span>
<span class="stringliteral">            my $tmp_hour = $1;</span>
<span class="stringliteral">            my $tmp_min = $2;</span>
<span class="stringliteral">            if ($tmp_hour eq &#39;</span>00<span class="stringliteral">&#39;) {$time = &quot;12:$tmp_min&quot;; $AMPM = &#39;</span>AM<span class="stringliteral">&#39;;last;}</span>
<span class="stringliteral">            if ($tmp_hour eq &#39;</span>12<span class="stringliteral">&#39;) {$time = &quot;12:$tmp_min&quot;; $AMPM = &#39;</span>PM<span class="stringliteral">&#39;;last;}</span>
<span class="stringliteral">            if ($tmp_hour &lt; 12) {$time = &quot;$tmp_hour:$tmp_min&quot;; $AMPM = &#39;</span>AM<span class="stringliteral">&#39;;last;}</span>
<span class="stringliteral">            if ($tmp_hour &lt; 24) {</span>
<span class="stringliteral">                $tmp_hour = $tmp_hour - 12;</span>
<span class="stringliteral">                $time = &quot;$tmp_hour:$tmp_min&quot;;</span>
<span class="stringliteral">                $AMPM = &#39;</span>PM<span class="stringliteral">&#39;;</span>
<span class="stringliteral">            }</span>
<span class="stringliteral">        }  ##end of bare block for &#39;</span><span class="keywordflow">case</span><span class="stringliteral">&quot; structure</span>
<span class="stringliteral"></span>
<span class="stringliteral">    }</span>
<span class="stringliteral">    </span>
<span class="stringliteral">    # default value for $AMPM</span>
<span class="stringliteral">    $AMPM = &quot;</span>AM<span class="stringliteral">&quot; unless defined $AMPM;</span>
<span class="stringliteral">    </span>
<span class="stringliteral">    my ($mday, $mon, $year, $wday, $yday, $sec, $pm, $min, $hour);</span>
<span class="stringliteral">    $sec=0;</span>
<span class="stringliteral">    $time =~ /^([0-9]+)\s*\:\s*([0-9]*)/;</span>
<span class="stringliteral">    $min=$2;</span>
<span class="stringliteral">    $hour = $1;</span>
<span class="stringliteral">    unformatDateAndTime_error($orgString, &quot;</span>Hour must be in the range [1,12].<span class="stringliteral">&quot;, $date, $time, $AMPM, $TZ)</span>
<span class="stringliteral">        if $hour &lt; 1 or $hour &gt; 12;</span>
<span class="stringliteral">    unformatDateAndTime_error($orgString, &quot;</span>Minute must be in the range [0-59].<span class="stringliteral">&quot;, $date, $time, $AMPM, $TZ)</span>
<span class="stringliteral">        if $min &lt; 0 or $min &gt; 59;</span>
<span class="stringliteral">    $pm = 0;</span>
<span class="stringliteral">    $pm = 12 if ($AMPM =~/PM/ and $hour &lt; 12);</span>
<span class="stringliteral">    $hour += $pm;</span>
<span class="stringliteral">    $hour = 0 if ($AMPM =~/AM/ and $hour == 12);</span>
<span class="stringliteral">    $date =~  m|([0-9]+)\s*/\s*([0-9]+)/\s*([0-9]+)|;</span>
<span class="stringliteral">    $mday =$2;</span>
<span class="stringliteral">    $mon=($1-1);</span>
<span class="stringliteral">    unformatDateAndTime_error($orgString, &quot;</span>Day must be in the range [1,31].<span class="stringliteral">&quot;, $date, $time, $AMPM, $TZ)</span>
<span class="stringliteral">        if $mday &lt; 1 or $mday &gt; 31;</span>
<span class="stringliteral">    unformatDateAndTime_error($orgString, &quot;</span>Month must be in the range [1,12].<span class="stringliteral">&quot;, $date, $time, $AMPM, $TZ)</span>
<span class="stringliteral">        if $mon &lt; 0 or $mon &gt; 11;</span>
<span class="stringliteral">    $year=$3;</span>
<span class="stringliteral">    $wday=&quot;</span><span class="stringliteral">&quot;;</span>
<span class="stringliteral">    $yday=&quot;</span><span class="stringliteral">&quot;;</span>
<span class="stringliteral">    return ($sec, $min, $hour, $mday, $mon, $year, $TZ);</span>
<span class="stringliteral">}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a50b392d474c8e3d44d80166c9f714574"></a><!-- doxytag: member="WeBWorK::Utils::unformatDateAndTime_error" ref="a50b392d474c8e3d44d80166c9f714574" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::unformatDateAndTime_error </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-unformatDateAndTime_error' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-unformatDateAndTime_error-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-unformatDateAndTime_error-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-unformatDateAndTime_error-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in unformatDateAndTime_error: 20</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a50b392d474c8e3d44d80166c9f714574">unformatDateAndTime_error</a> {
    
    <span class="keywordflow">if</span> (@_ &gt; 2) {
        my ($orgString, $error, $date, $time, $AMPM, $TZ) = @_;
        $date = <span class="stringliteral">&quot;(undefined)&quot;</span> unless defined $date;
        $time = <span class="stringliteral">&quot;(undefined)&quot;</span> unless defined $time;
        $AMPM = <span class="stringliteral">&quot;(undefined)&quot;</span> unless defined $AMPM;
        $TZ   = <span class="stringliteral">&quot;(undefined)&quot;</span> unless defined $TZ;
        die <span class="stringliteral">&quot;Incorrect date/time format \&quot;$orgString\&quot;: $error\n&quot;</span>,
            <span class="stringliteral">&quot;Correct format is MM/DD/YY at HH:MM AMPM ZONE\n&quot;</span>,
            <span class="stringliteral">&quot;\tdate = $date\n&quot;</span>,
            <span class="stringliteral">&quot;\ttime = $time\n&quot;</span>,
            <span class="stringliteral">&quot;\tampm = $AMPM\n&quot;</span>,
            <span class="stringliteral">&quot;\tzone = $TZ\n&quot;</span>;
    } <span class="keywordflow">else</span> {
        my ($orgString, $error) = @_;
        die <span class="stringliteral">&quot;Incorrect date/time format \&quot;$orgString\&quot;: $error\n&quot;</span>,
            <span class="stringliteral">&quot;Correct format is MM/DD/YY at HH:MM AMPM ZONE\n&quot;</span>;
    }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a4f5080514ceba779811c23bceafce5b0"></a><!-- doxytag: member="WeBWorK::Utils::writeCourseLog" ref="a4f5080514ceba779811c23bceafce5b0" args="($$@)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::writeCourseLog </td>
          <td>(</td>
          <td class="paramtype">$$@&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-writeCourseLog($$@)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-writeCourseLog($$@)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-writeCourseLog($$@)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-writeCourseLog($$@)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in writeCourseLog($$@): 16</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a4f5080514ceba779811c23bceafce5b0">writeCourseLog</a>($$@) {
    my ($ce, $facility, @message) = @_;
    unless ($ce-&gt;{courseFiles}-&gt;{logs}-&gt;{$facility}) {
        warn <span class="stringliteral">&quot;There is no course log file for the $facility facility defined.\n&quot;</span>;
        <span class="keywordflow">return</span>;
    }
    my $logFile = $ce-&gt;{courseFiles}-&gt;{logs}-&gt;{$facility};
    <a class="code" href="classWeBWorK_1_1Utils.html#aec74ceba9815c67c2d10f46fbe909063">surePathToFile</a>($ce-&gt;{courseDirs}-&gt;{root}, $logFile);
    local *LOG;
    <span class="keywordflow">if</span> (open LOG, <span class="stringliteral">&quot;&gt;&gt;&quot;</span>, $logFile) {
        print LOG <span class="stringliteral">&quot;[&quot;</span>, time2str(<span class="stringliteral">&quot;%a %b %d %H:%M:%S %Y&quot;</span>, time), <span class="stringliteral">&quot;] @message\n&quot;</span>;
        close LOG;
    } <span class="keywordflow">else</span> {
        warn <span class="stringliteral">&quot;failed to open $logFile for writing: $!&quot;</span>;
    }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a14899740e05b5a11f63489bbb1ae6fac"></a><!-- doxytag: member="WeBWorK::Utils::writeLog" ref="a14899740e05b5a11f63489bbb1ae6fac" args="($$@)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::writeLog </td>
          <td>(</td>
          <td class="paramtype">$$@&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-writeLog($$@)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-writeLog($$@)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-writeLog($$@)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-writeLog($$@)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in writeLog($$@): 16</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a14899740e05b5a11f63489bbb1ae6fac">writeLog</a>($$@) {
    my ($ce, $facility, @message) = @_;
    unless ($ce-&gt;{webworkFiles}-&gt;{logs}-&gt;{$facility}) {
        warn <span class="stringliteral">&quot;There is no log file for the $facility facility defined.\n&quot;</span>;
        <span class="keywordflow">return</span>;
    }
    my $logFile = $ce-&gt;{webworkFiles}-&gt;{logs}-&gt;{$facility};
    <a class="code" href="classWeBWorK_1_1Utils.html#aec74ceba9815c67c2d10f46fbe909063">surePathToFile</a>($ce-&gt;{webworkDirs}-&gt;{root}, $logFile);
    local *LOG;
    <span class="keywordflow">if</span> (open LOG, <span class="stringliteral">&quot;&gt;&gt;&quot;</span>, $logFile) {
        print LOG <span class="stringliteral">&quot;[&quot;</span>, time2str(<span class="stringliteral">&quot;%a %b %d %H:%M:%S %Y&quot;</span>, time), <span class="stringliteral">&quot;] @message\n&quot;</span>;
        close LOG;
    } <span class="keywordflow">else</span> {
        warn <span class="stringliteral">&quot;failed to open $logFile for writing: $!&quot;</span>;
    }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a44c0b447478cc5a412f231a580e76e09"></a><!-- doxytag: member="WeBWorK::Utils::writeTimingLogEntry" ref="a44c0b447478cc5a412f231a580e76e09" args="($$$$)()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::Utils::writeTimingLogEntry </td>
          <td>(</td>
          <td class="paramtype">$$$$&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-writeTimingLogEntry($$$$)' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-writeTimingLogEntry($$$$)-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-writeTimingLogEntry($$$$)-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-writeTimingLogEntry($$$$)-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in writeTimingLogEntry($$$$): 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1Utils.html#a44c0b447478cc5a412f231a580e76e09">writeTimingLogEntry</a>($$$$) {
    my ($ce, $function, $details, $beginEnd) = @_;
    $beginEnd = ($beginEnd eq <span class="stringliteral">&quot;begin&quot;</span>) ? <span class="stringliteral">&quot;&gt;&quot;</span> : ($beginEnd eq <span class="stringliteral">&quot;end&quot;</span>) ? <span class="stringliteral">&quot;&lt;&quot;</span> : <span class="stringliteral">&quot;-&quot;</span>;
    <a class="code" href="classWeBWorK_1_1Utils.html#a14899740e05b5a11f63489bbb1ae6fac">writeLog</a>($ce, <span class="stringliteral">&quot;timing&quot;</span>, <span class="stringliteral">&quot;$$ &quot;</span>.time.<span class="stringliteral">&quot; $beginEnd $function [$details]&quot;</span>);
}
</pre></div>  
</div>
 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Utils_8pm_source.html">Utils.pm</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Jun 8 23:00:06 2012 for WeBWorK2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
