<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>WeBWorK2: WeBWorK::DB::Schema::NewSQL::Std Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="classWeBWorK.html">WeBWorK</a>::<a class="el" href="classWeBWorK_1_1DB.html">DB</a>::<a class="el" href="classWeBWorK_1_1DB_1_1Schema.html">Schema</a>::<a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL.html">NewSQL</a>::<a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html">Std</a>
  </div>
</div>
<div class="contents">
<h1>WeBWorK::DB::Schema::NewSQL::Std Class Reference</h1><!-- doxytag: class="WeBWorK::DB::Schema::NewSQL::Std" --><!-- doxytag: inherits="WeBWorK::DB::Schema::NewSQL" --><div class="dynheader">
Inheritance diagram for WeBWorK::DB::Schema::NewSQL::Std:</div>
<div class="dynsection">
<div class="center"><img src="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std__inherit__graph.png" border="0" usemap="#WeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std_inherit__map" alt="Inheritance graph"/></div>
<map name="WeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std_inherit__map" id="WeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std_inherit__map">
<area shape="rect" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL.html" title="WeBWorK::DB::Schema::NewSQL" alt="" coords="19,229,243,256"/><area shape="rect" href="classWeBWorK_1_1DB_1_1Schema.html" title="WeBWorK::DB::Schema" alt="" coords="48,155,213,181"/><area shape="rect" href="classWeBWorK_1_1DB.html" title="WeBWorK::DB" alt="" coords="76,80,185,107"/><area shape="rect" href="classWeBWorK.html" title="WeBWorK" alt="" coords="89,5,172,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for WeBWorK::DB::Schema::NewSQL::Std:</div>
<div class="dynsection">
<div class="center"><img src="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std__coll__graph.png" border="0" usemap="#WeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std_coll__map" alt="Collaboration graph"/></div>
<map name="WeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std_coll__map" id="WeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std_coll__map">
<area shape="rect" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL.html" title="WeBWorK::DB::Schema::NewSQL" alt="" coords="19,229,243,256"/><area shape="rect" href="classWeBWorK_1_1DB_1_1Schema.html" title="WeBWorK::DB::Schema" alt="" coords="48,155,213,181"/><area shape="rect" href="classWeBWorK_1_1DB.html" title="WeBWorK::DB" alt="" coords="76,80,185,107"/><area shape="rect" href="classWeBWorK.html" title="WeBWorK" alt="" coords="89,5,172,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Avaliable Methods</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp9be22fb8347fa3884856571d2a5f020b"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">private method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a85a2e9d25c80d47d668d41a143355612">_get_fields_where_prepex</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">private method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a58e9f53ff91aee7af9ec0d1f88f27f85">_delete_table_stmt</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">private method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a1b25316137f1fb19ac2d2dce8757165a">_create_table_stmt</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">private method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a7bb1a9e6137c1bd3451cfeaeb28ed681">_exists_table_stmt</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">private method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#ac8f5ae81092070dce49d8eaadff050c1">_get_db_info</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">private method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#acf37ac9554606e19e45bf26c949f6fb0">_rename_table_stmt</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">private method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a4e05b2a12cb12f27ced2ff0841d7cf00">_delete_fields_prep</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">private method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a9aa1ba7e50a43491caff99acd436f816">_update_fields_prep</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">private method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a0460b378ac0e3356c4533dc7744a71d9">_insert_fields_prep</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">private method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a0f18c04b16cc81d26f6b0467ae055b22">_exists_field_stmt</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">private method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#ac2d13912637795b4653fb53a96c122ff">_add_column_field_stmt</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a449e5147cae6efaf2653e2ff48a2b8f1">tableFieldExists</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a70548db527f2a77de88528f2e2ce4f57">dump_table</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a2c02ef3de4809fbcee52f8086121e4a4">get_records_where_i</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a51d84455eda96a1668d228425f0c7fce">put</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#aa2ac0412962e5408f79b1e02f4522554">update_records_i</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a819dd41aa122d696b829b906afa62cf6">update_where</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a3697f0c2ef1a8ed6be0865b8b4a2e206">insert_fields</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a2f996a3ba85ac747bb50f12e04160bb4">delete_records_i</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a2a349e8eb5cf50f7a82b273d4554009e">exists_where</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a36362384408978a192dac635d0496873">get_fields_where_i</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#aea9d8cc15121009ae38735d769dfd12b">update_records</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a02815162b7e351355c39c2ba14a323e7">count_where</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#ad7b82a0b377c4fc9b8f891b56b4b574d">sql_table_name</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a8969ea18d82e9a10330e96e3e158d805">new</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a2f0e66dc708472c385c347d0c151fc55">list</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a07bd3c55c367a9319c77e7e2a2f5a7aa">rename_table</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a5371529515768da91aa6ff048f85b753">count</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a699c2485e4876f0cf57e19feea53f9c5">delete_records</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a4a1bf0e20303050fae388522ee549f2a">handle_error</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a38dd7b288c0c35059bf0c720851c3885">sql</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a2d15deb4add8cee7f2e0dcd9dafbbc94">delete_table</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a45bd88119cd332de9c6312d8722cddbb">insert_records_i</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a7209d7fd43927395ec76102dfb207c15">update_fields</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a57e5f8dcfcc4e27b672540f6fd32353a">delete</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a2bb8f3183ef3ee220a78c1b594e050d8">get_fields_where</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#ab80dd8dc3e9a08ed77b6e8dc982c7b87">add</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#af2f5ec8bfe308ed3eb431e319dd3140d">restore_table</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a5adea18c2c52889a0172cd8c7cbe9aea">list_where_i</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a83d4c40cf04e70ff6e1a595a0e523557">delete_fields_i</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#ad3610c4b136940703ea966c62b4f276c">insert_fields_i</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a8672999c2192176b188ee0f75a26ebf0">delete_where</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#addd423ae3f5c5ac003f6ee8af0ffb414">create_table</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#ae13eecc5a79b658ba343dde69b1bc8fc">update_fields_i</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a8f6465a46c2625a7731fbfbd52d4c66f">get</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#adad1fad211d2fad40c7d4fd50272fea7">tableExists</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#adbb4a36cdb97b36e3071f0dffe23ed0d">sql_field_expression</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#ae858a7f1a82bfa299d0331d79e15944f">list_where</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a29eb7da1c5308d7512827b46f4f0caf7">add_column_field</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a18d1bec407104d57780d80f780713b4a">delete_fields</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#ada1a9ece8aa95f25dc3e5b070beeaaec">sql_field_name</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a2d3f7fad6d49c2543bbc84c3d5228247">get_records_where</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a0948f95eff7537cfbcf69f43d5bdbeb3">insert_records</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a1c6056507ada460f9f91eea25d18b538">gets</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#ae3a792a8b561fc0b42c9a535de466321">sql_init</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public method&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#ac78d11fda205a4a441b6569e594cad08">exists</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h2><a class="anchor" id="NAME">
NAME</a></h2>
<p><a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL.html">WeBWorK::DB::Schema::NewSQL</a> - support SQL access to single tables.</p>
<h2><a class="anchor" id="SUPPORTED_PARAMS">
SUPPORTED PARAMS</a></h2>
<p>This schema pays attention to the following items in the </p>
<div class="fragment"><pre class="fragment">params
</pre></div><p> entry. </p>
<ul>
<li>
<p class="startli"><a class="anchor" id="item_tableOverride"></a><b>tableOverride</b> </p>
<p class="endli">Alternate name for this table, to satisfy SQL naming requirements.  </p>
</li>
<li>
<p class="startli"><a class="anchor" id="item_fieldOverride"></a><b>fieldOverride</b> </p>
<p class="endli">A reference to a hash mapping field names to alternate names, to satisfy SQL naming requirements.  </p>
</li>
</ul>

<p>Definition at line <a class="el" href="Std_8pm_source.html#l00038">38</a> of file <a class="el" href="Std_8pm_source.html">Std.pm</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac2d13912637795b4653fb53a96c122ff"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::_add_column_field_stmt" ref="ac2d13912637795b4653fb53a96c122ff" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">private method WeBWorK::DB::Schema::NewSQL::Std::_add_column_field_stmt </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-_add_column_field_stmt' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-_add_column_field_stmt-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_add_column_field_stmt-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_add_column_field_stmt-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in _add_column_field_stmt: 8</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#ac2d13912637795b4653fb53a96c122ff">_add_column_field_stmt</a> {
    my $self = shift;   
    my $field_name=shift;
    my $sql_table_name = $self-&gt;sql_table_name;
    my $sql_field_name = $self-&gt;sql_field_name($field_name);
    my $sql_field_type = $self-&gt;field_data-&gt;{$field_name}{type};        
    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Alter table `$sql_table_name` add column `$sql_field_name` $sql_field_type&quot;</span>;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a1b25316137f1fb19ac2d2dce8757165a"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::_create_table_stmt" ref="a1b25316137f1fb19ac2d2dce8757165a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">private method WeBWorK::DB::Schema::NewSQL::Std::_create_table_stmt </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-_create_table_stmt' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-_create_table_stmt-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_create_table_stmt-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_create_table_stmt-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in _create_table_stmt: 32</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a1b25316137f1fb19ac2d2dce8757165a">_create_table_stmt</a> {
    my ($self) = @_;
    
    my $sql_table_name = $self-&gt;sql_table_name;
    
    my @field_list;
    
<span class="preprocessor">    # generate a column specification for each field</span>
<span class="preprocessor"></span>    <span class="keywordflow">foreach</span> my $field ($self-&gt;fields) {
        my $sql_field_name = $self-&gt;sql_field_name($field);
        my $sql_field_type = $self-&gt;field_data-&gt;{$field}{type};
        
        push @field_list, <span class="stringliteral">&quot;`$sql_field_name` $sql_field_type&quot;</span>;
    }
    
<span class="preprocessor">    # generate an INDEX specification for each all possible sets of keyfields (i.e. 0+1+2, 1+2, 2)</span>
<span class="preprocessor"></span>    my @<a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL.html#a566c8f1508db8b015cb5ab68841d87d2">keyfields</a> = $self-&gt;keyfields;
    <span class="keywordflow">foreach</span> my $start (0 .. $#keyfields) {
        my @index_components;
        
        <span class="keywordflow">foreach</span> my $component (@keyfields[$start .. $#keyfields]) {
            my $sql_field_name = $self-&gt;sql_field_name($component);
            my $sql_field_type = $self-&gt;field_data-&gt;{$component}{type};
            my $length_specifier = $sql_field_type =~ /(text|blob)/i ? <span class="stringliteral">&quot;(255)&quot;</span> : <span class="stringliteral">&quot;&quot;</span>;
            <span class="keywordflow">if</span> ($start == 0 and $length_specifier and $sql_field_type !~ /tiny/i) {
                warn <span class="stringliteral">&quot;warning: UNIQUE KEY component $sql_field_name is a $sql_field_type, which can&quot;</span>
                    . <span class="stringliteral">&quot; hold values longer than 255 characters. However, the maximum key prefix&quot;</span>
                    . <span class="stringliteral">&quot; length for text/blob fields is 255. Therefore, uniqueness must occur within&quot;</span>
                    . <span class="stringliteral">&quot; the first 255 characters of this field.&quot;</span>;
            }
            push @index_components, <span class="stringliteral">&quot;`$sql_field_name`$length_specifier&quot;</span>;
        }
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a4e05b2a12cb12f27ced2ff0841d7cf00"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::_delete_fields_prep" ref="a4e05b2a12cb12f27ced2ff0841d7cf00" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">private method WeBWorK::DB::Schema::NewSQL::Std::_delete_fields_prep </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-_delete_fields_prep' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-_delete_fields_prep-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_delete_fields_prep-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_delete_fields_prep-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in _delete_fields_prep: 13</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a4e05b2a12cb12f27ced2ff0841d7cf00">_delete_fields_prep</a> {
    my ($self, $fields) = @_;
    
<span class="preprocessor">    # get hashes to pass to update() and where()</span>
<span class="preprocessor"></span><span class="preprocessor">    # (dies if any keyfield is missing from @$fields)</span>
<span class="preprocessor"></span>    my (undef, $where) = $self-&gt;gen_update_hashes($fields);
    
<span class="preprocessor">    # do the where clause separately so we get a separate bind list (cute substr trick, huh?)</span>
<span class="preprocessor"></span>    my ($stmt, @order) = $self-&gt;sql-&gt;delete($self-&gt;table, $where);
    
    my $sth = $self-&gt;dbh-&gt;prepare_cached($stmt, undef, 3); # 3: see DBI docs
    <span class="keywordflow">return</span> $sth, @order;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a58e9f53ff91aee7af9ec0d1f88f27f85"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::_delete_table_stmt" ref="a58e9f53ff91aee7af9ec0d1f88f27f85" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">private method WeBWorK::DB::Schema::NewSQL::Std::_delete_table_stmt </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-_delete_table_stmt' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-_delete_table_stmt-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_delete_table_stmt-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_delete_table_stmt-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in _delete_table_stmt: 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a58e9f53ff91aee7af9ec0d1f88f27f85">_delete_table_stmt</a> {
    my ($self) = @_;
    
    my $sql_table_name = $self-&gt;sql_table_name;
    <span class="keywordflow">return</span> <span class="stringliteral">&quot;DROP TABLE IF EXISTS `$sql_table_name`&quot;</span>;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a0f18c04b16cc81d26f6b0467ae055b22"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::_exists_field_stmt" ref="a0f18c04b16cc81d26f6b0467ae055b22" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">private method WeBWorK::DB::Schema::NewSQL::Std::_exists_field_stmt </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-_exists_field_stmt' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-_exists_field_stmt-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_exists_field_stmt-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_exists_field_stmt-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in _exists_field_stmt: 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a0f18c04b16cc81d26f6b0467ae055b22">_exists_field_stmt</a> {
    my $self = shift;   
    my $field_name=shift;
    my $sql_table_name = $self-&gt;sql_table_name;
    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Describe `$sql_table_name` `$field_name`&quot;</span>;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a7bb1a9e6137c1bd3451cfeaeb28ed681"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::_exists_table_stmt" ref="a7bb1a9e6137c1bd3451cfeaeb28ed681" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">private method WeBWorK::DB::Schema::NewSQL::Std::_exists_table_stmt </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-_exists_table_stmt' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-_exists_table_stmt-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_exists_table_stmt-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_exists_table_stmt-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in _exists_table_stmt: 5</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a7bb1a9e6137c1bd3451cfeaeb28ed681">_exists_table_stmt</a> {
    my $self = shift;   
    my $sql_table_name = $self-&gt;sql_table_name;
    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Describe `$sql_table_name` &quot;</span>;
}
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL.html#afd9e959906626063d445bc2830c8f460">WeBWorK::DB::Schema::NewSQL</a>.</p>

</div>
</div>
<a class="anchor" id="ac8f5ae81092070dce49d8eaadff050c1"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::_get_db_info" ref="ac8f5ae81092070dce49d8eaadff050c1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">private method WeBWorK::DB::Schema::NewSQL::Std::_get_db_info </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-_get_db_info' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-_get_db_info-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_get_db_info-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_get_db_info-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in _get_db_info: 27</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#ac8f5ae81092070dce49d8eaadff050c1">_get_db_info</a> {
    my ($self) = @_;
    my $dsn = $self-&gt;{driver}{source};
    my $username = $self-&gt;{params}{username};
    my $password = $self-&gt;{params}{password};
    
    die <span class="stringliteral">&quot;Can&#39;t call dump_table or restore_table on a table with a non-MySQL source&quot;</span>
        unless $dsn =~ s/^dbi:mysql:<span class="comment">//i;</span>
    
<span class="preprocessor">    # this is an internal function which we probably shouldn&#39;t be using here</span>
<span class="preprocessor"></span><span class="preprocessor">    # but it&#39;s quick and gets us what we want (FIXME what about sockets, etc?)</span>
<span class="preprocessor"></span>    my %dsn;
    DBD::mysql-&gt;_OdbcParse($dsn, \%dsn, [<span class="stringliteral">&#39;database&#39;</span>, <span class="stringliteral">&#39;host&#39;</span>, <span class="stringliteral">&#39;port&#39;</span>]);
    die <span class="stringliteral">&quot;no database specified in DSN!&quot;</span> unless defined $dsn{database};
    
<span class="preprocessor">    # doing this securely is kind of a hassle...</span>
<span class="preprocessor"></span>    my $my_cnf = <span class="keyword">new</span> File::Temp;
    $my_cnf-&gt;unlink_on_destroy(1);
    chmod 0600, $my_cnf or die <span class="stringliteral">&quot;failed to chmod 0600 $my_cnf: $!&quot;</span>; # File::Temp objects stringify with -&gt;filename
    print $my_cnf <span class="stringliteral">&quot;[client]\n&quot;</span>;
    print $my_cnf <span class="stringliteral">&quot;user=\&quot;$username\&quot;\n&quot;</span> <span class="keywordflow">if</span> defined $username and length($username) &gt; 0;
    print $my_cnf <span class="stringliteral">&quot;password=\&quot;$password\&quot;\n&quot;</span> <span class="keywordflow">if</span> defined $password and length($password) &gt; 0;
    print $my_cnf <span class="stringliteral">&quot;host=\&quot;$dsn{host}\&quot;\n&quot;</span> <span class="keywordflow">if</span> defined $dsn{host} and length($dsn{host}) &gt; 0;
    print $my_cnf <span class="stringliteral">&quot;port=\&quot;$dsn{port}\&quot;\n&quot;</span> <span class="keywordflow">if</span> defined $dsn{port} and length($dsn{port}) &gt; 0;
    
    <span class="keywordflow">return</span> ($my_cnf, $dsn{database});
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a85a2e9d25c80d47d668d41a143355612"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::_get_fields_where_prepex" ref="a85a2e9d25c80d47d668d41a143355612" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">private method WeBWorK::DB::Schema::NewSQL::Std::_get_fields_where_prepex </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-_get_fields_where_prepex' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-_get_fields_where_prepex-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_get_fields_where_prepex-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_get_fields_where_prepex-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in _get_fields_where_prepex: 10</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a85a2e9d25c80d47d668d41a143355612">_get_fields_where_prepex</a> {
    my ($self, $fields, $where, $order) = @_;
    $where = $self-&gt;conv_where($where);
    
    my ($stmt, @bind_vals) = $self-&gt;sql-&gt;select($self-&gt;table, $fields, $where, $order);
    my $sth = $self-&gt;dbh-&gt;prepare_cached($stmt, undef, 3); # 3: see DBI docs
    $self-&gt;debug_stmt($sth, @bind_vals);
    $sth-&gt;execute(@bind_vals);  
    <span class="keywordflow">return</span> $sth;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a0460b378ac0e3356c4533dc7744a71d9"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::_insert_fields_prep" ref="a0460b378ac0e3356c4533dc7744a71d9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">private method WeBWorK::DB::Schema::NewSQL::Std::_insert_fields_prep </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-_insert_fields_prep' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-_insert_fields_prep-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_insert_fields_prep-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_insert_fields_prep-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in _insert_fields_prep: 11</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a0460b378ac0e3356c4533dc7744a71d9">_insert_fields_prep</a> {
    my ($self, $fields) = @_;
    
<span class="preprocessor">    # we&#39;ll use dummy values to determine bind order</span>
<span class="preprocessor"></span>    my %values;
    @values{@$fields} = (0..@$fields-1);
    
    my ($stmt, @order) = $self-&gt;sql-&gt;insert($self-&gt;table, \%values);
    my $sth = $self-&gt;dbh-&gt;prepare_cached($stmt, undef, 3); # 3: see DBI docs
    <span class="keywordflow">return</span> $sth, @order;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="acf37ac9554606e19e45bf26c949f6fb0"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::_rename_table_stmt" ref="acf37ac9554606e19e45bf26c949f6fb0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">private method WeBWorK::DB::Schema::NewSQL::Std::_rename_table_stmt </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-_rename_table_stmt' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-_rename_table_stmt-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_rename_table_stmt-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_rename_table_stmt-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in _rename_table_stmt: 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#acf37ac9554606e19e45bf26c949f6fb0">_rename_table_stmt</a> {
    my ($self, $new_sql_table_name) = @_;
    
    my $sql_table_name = $self-&gt;sql_table_name;
    <span class="keywordflow">return</span> <span class="stringliteral">&quot;RENAME TABLE `$sql_table_name` TO `$new_sql_table_name`&quot;</span>;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a9aa1ba7e50a43491caff99acd436f816"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::_update_fields_prep" ref="a9aa1ba7e50a43491caff99acd436f816" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">private method WeBWorK::DB::Schema::NewSQL::Std::_update_fields_prep </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-_update_fields_prep' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-_update_fields_prep-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_update_fields_prep-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_update_fields_prep-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in _update_fields_prep: 14</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a9aa1ba7e50a43491caff99acd436f816">_update_fields_prep</a> {
    my ($self, $fields) = @_;
    
<span class="preprocessor">    # get hashes to pass to update() and where()</span>
<span class="preprocessor"></span><span class="preprocessor">    # (dies if any keyfield is missing from @$fields)</span>
<span class="preprocessor"></span>    my ($values, $where) = $self-&gt;gen_update_hashes($fields);
    
<span class="preprocessor">    # do the where clause separately so we get a separate bind list (cute substr trick, huh?)</span>
<span class="preprocessor"></span>    my ($stmt, @val_order) = $self-&gt;sql-&gt;update($self-&gt;table, $values);
    (substr($stmt,length($stmt),0), my @where_order) = $self-&gt;sql-&gt;where($where);
    
    my $sth = $self-&gt;dbh-&gt;prepare_cached($stmt, undef, 3); # 3: see DBI docs
    <span class="keywordflow">return</span> $sth, \@val_order, \@where_order;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ab80dd8dc3e9a08ed77b6e8dc982c7b87"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::add" ref="ab80dd8dc3e9a08ed77b6e8dc982c7b87" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::add </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-add' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-add-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-add-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-add-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in add: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#ab80dd8dc3e9a08ed77b6e8dc982c7b87">add</a> {
    my ($self, $Record) = @_;
    <span class="keywordflow">return</span> ( $self-&gt;insert_records([$Record]) )[0];
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a29eb7da1c5308d7512827b46f4f0caf7"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::add_column_field" ref="a29eb7da1c5308d7512827b46f4f0caf7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::add_column_field </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-add_column_field' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-add_column_field-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-add_column_field-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-add_column_field-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in add_column_field: 10</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a29eb7da1c5308d7512827b46f4f0caf7">add_column_field</a> {
    my $self = shift;
    my $field_name = shift;
    my $stmt = $self-&gt;_add_column_field_stmt($field_name);
<span class="preprocessor">    #warn &quot;database command $stmt&quot;;</span>
<span class="preprocessor"></span>    my $result = $self-&gt;dbh-&gt;do($stmt);
<span class="preprocessor">    #warn &quot;result of add column is $result&quot;;</span>
<span class="preprocessor"></span><span class="preprocessor">    #return  ($result eq &quot;0E0&quot;) ? 0 : 1;    # failed result is 0E0</span>
<span class="preprocessor"></span>    <span class="keywordflow">return</span> 1;   #FIXME  how to determine <span class="keywordflow">if</span> database update was successful???
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a5371529515768da91aa6ff048f85b753"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::count" ref="a5371529515768da91aa6ff048f85b753" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::count </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-count' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-count-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-count-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-count-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in count: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a5371529515768da91aa6ff048f85b753">count</a> {
    my ($self, @keyparts) = @_;
    <span class="keywordflow">return</span> $self-&gt;count_where($self-&gt;keyparts_to_where(@keyparts));
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a02815162b7e351355c39c2ba14a323e7"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::count_where" ref="a02815162b7e351355c39c2ba14a323e7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::count_where </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-count_where' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-count_where-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-count_where-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-count_where-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in count_where: 13</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a02815162b7e351355c39c2ba14a323e7">count_where</a> {
    my ($self, $where) = @_;
    $where = $self-&gt;conv_where($where);
    
    my ($stmt, @bind_vals) = $self-&gt;sql-&gt;select($self-&gt;table, <span class="stringliteral">&quot;COUNT(*)&quot;</span>, $where);
    my $sth = $self-&gt;dbh-&gt;prepare_cached($stmt, undef, 3); # 3 -- see DBI docs
    $self-&gt;debug_stmt($sth, @bind_vals);
    $sth-&gt;execute(@bind_vals);
    my ($result) = $sth-&gt;fetchrow_array;
    $sth-&gt;finish;
    
    <span class="keywordflow">return</span> $result;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="addd423ae3f5c5ac003f6ee8af0ffb414"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::create_table" ref="addd423ae3f5c5ac003f6ee8af0ffb414" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::create_table </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-create_table' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-create_table-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-create_table-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-create_table-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in create_table: 9</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#addd423ae3f5c5ac003f6ee8af0ffb414">create_table</a> {
    my ($self) = @_;
    
    my $stmt = $self-&gt;_create_table_stmt;
    $self-&gt;dbh-&gt;do($stmt);
    my @fields = $self-&gt;fields;
    my @rows = map { [ @$_{@fields} ] } $self-&gt;initial_records;
    <span class="keywordflow">return</span> $self-&gt;insert_fields(\@fields, \@rows);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a57e5f8dcfcc4e27b672540f6fd32353a"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::delete" ref="a57e5f8dcfcc4e27b672540f6fd32353a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::delete </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-delete' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-delete-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-delete-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-delete-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in delete: 4</span>
<span class="preprocessor"></span>sub <span class="keyword">delete</span> {
    my ($self, @keyparts) = @_;
    <span class="keywordflow">return</span> $self-&gt;delete_where($self-&gt;keyparts_to_where(@keyparts));
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a18d1bec407104d57780d80f780713b4a"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::delete_fields" ref="a18d1bec407104d57780d80f780713b4a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::delete_fields </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-delete_fields' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-delete_fields-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-delete_fields-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-delete_fields-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in delete_fields: 13</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a18d1bec407104d57780d80f780713b4a">delete_fields</a> {
    my ($self, $fields, $rows) = @_;
    
    my ($sth, @order) = $self-&gt;_delete_fields_prep($fields);
    my @results;
    <span class="keywordflow">foreach</span> my $row (@$rows) {
        my @bind_vals = @$row[@order];
        $self-&gt;debug_stmt($sth, @bind_vals);
        push @results, $sth-&gt;execute(@bind_vals);
    }
    $sth-&gt;finish;
    <span class="keywordflow">return</span> @results;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a83d4c40cf04e70ff6e1a595a0e523557"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::delete_fields_i" ref="a83d4c40cf04e70ff6e1a595a0e523557" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::delete_fields_i </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-delete_fields_i' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-delete_fields_i-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-delete_fields_i-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-delete_fields_i-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in delete_fields_i: 14</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a83d4c40cf04e70ff6e1a595a0e523557">delete_fields_i</a> {
    my ($self, $fields, $rows_i) = @_;
    
    my ($sth, @order) = $self-&gt;_delete_fields_prep($fields);
    
    my @results;
    until ($rows_i-&gt;is_exhausted) {
        my @bind_vals = @{$rows_i-&gt;value}[@order];
        $self-&gt;debug_stmt($sth, @bind_vals);
        push @results, $sth-&gt;execute(@bind_vals);
    }
    $sth-&gt;finish;
    <span class="keywordflow">return</span> @results;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a699c2485e4876f0cf57e19feea53f9c5"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::delete_records" ref="a699c2485e4876f0cf57e19feea53f9c5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::delete_records </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-delete_records' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-delete_records-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-delete_records-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-delete_records-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in delete_records: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a699c2485e4876f0cf57e19feea53f9c5">delete_records</a> {
    my ($self, $Records) = @_;
    <span class="keywordflow">return</span> $self-&gt;delete_fields_i([$self-&gt;fields], imap { $self-&gt;unbox($_) } iarray $Records);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a2f996a3ba85ac747bb50f12e04160bb4"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::delete_records_i" ref="a2f996a3ba85ac747bb50f12e04160bb4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::delete_records_i </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-delete_records_i' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-delete_records_i-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-delete_records_i-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-delete_records_i-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in delete_records_i: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a2f996a3ba85ac747bb50f12e04160bb4">delete_records_i</a> {
    my ($self, $Records_i) = @_;
    <span class="keywordflow">return</span> $self-&gt;delete_fields_i([$self-&gt;fields], imap { $self-&gt;unbox($_) } $Records_i);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a2d15deb4add8cee7f2e0dcd9dafbbc94"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::delete_table" ref="a2d15deb4add8cee7f2e0dcd9dafbbc94" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::delete_table </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-delete_table' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-delete_table-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-delete_table-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-delete_table-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in delete_table: 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a2d15deb4add8cee7f2e0dcd9dafbbc94">delete_table</a> {
    my ($self) = @_;
    
    my $stmt = $self-&gt;_delete_table_stmt;
    <span class="keywordflow">return</span> $self-&gt;dbh-&gt;do($stmt);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a8672999c2192176b188ee0f75a26ebf0"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::delete_where" ref="a8672999c2192176b188ee0f75a26ebf0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::delete_where </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-delete_where' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-delete_where-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-delete_where-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-delete_where-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in delete_where: 12</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a8672999c2192176b188ee0f75a26ebf0">delete_where</a> {
    my ($self, $where) = @_;
    $where = $self-&gt;conv_where($where);
    
    my ($stmt, @bind_vals) = $self-&gt;sql-&gt;delete($self-&gt;table, $where);
    my $sth = $self-&gt;dbh-&gt;prepare_cached($stmt, undef, 3); # 3 -- see DBI docs
    $self-&gt;debug_stmt($sth, @bind_vals);
    my $result = $sth-&gt;execute(@bind_vals);
    $sth-&gt;finish;
    
    <span class="keywordflow">return</span> $result;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a70548db527f2a77de88528f2e2ce4f57"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::dump_table" ref="a70548db527f2a77de88528f2e2ce4f57" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::dump_table </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-dump_table' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-dump_table-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-dump_table-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-dump_table-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in dump_table: 25</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a70548db527f2a77de88528f2e2ce4f57">dump_table</a> {
    my ($self, $dumpfile_path) = @_;
    
    my ($my_cnf, $database) = $self-&gt;_get_db_info;
    my $mysqldump = $self-&gt;{params}{mysqldump_path};
    
<span class="preprocessor">    # 2&gt;&amp;1 is specified first, which apparently makes stderr go to stdout</span>
<span class="preprocessor"></span><span class="preprocessor">    # and stdout (not including stderr) go to the dumpfile. see bash(1).</span>
<span class="preprocessor"></span>    my $dump_cmd = <span class="stringliteral">&quot;2&gt;&amp;1 &quot;</span> . shell_quote($mysqldump)
<span class="preprocessor">#       . &quot; --defaults-extra-file=&quot; . shell_quote($my_cnf-&gt;filename)</span>
<span class="preprocessor"></span>        . <span class="stringliteral">&quot; --defaults-file=&quot;</span> . shell_quote($my_cnf-&gt;filename) <span class="preprocessor"># work around for mysqldump bug</span>
<span class="preprocessor"></span>        . <span class="stringliteral">&quot; &quot;</span> . shell_quote($database)
        . <span class="stringliteral">&quot; &quot;</span> . shell_quote($self-&gt;sql_table_name)
        . <span class="stringliteral">&quot; &gt; &quot;</span> . shell_quote($dumpfile_path);
    my $dump_out = readpipe $dump_cmd;
    <span class="keywordflow">if</span> ($?) {
        my $exit = $? &gt;&gt; 8;
        my $signal = $? &amp; 127;
        my $core = $? &amp; 128;
        warn <span class="stringliteral">&quot;Warning: Failed to dump table &#39;&quot;</span>.$self-&gt;sql_table_name.<span class="stringliteral">&quot;&#39; with command &#39;$dump_cmd&#39; (exit=$exit signal=$signal core=$core): $dump_out\n&quot;</span>;
        warn <span class="stringliteral">&quot;This can be expected if the course was created with an earlier version of WeBWorK.&quot;</span>;
    }
    
    <span class="keywordflow">return</span> 1;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ac78d11fda205a4a441b6569e594cad08"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::exists" ref="ac78d11fda205a4a441b6569e594cad08" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::exists </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-exists' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-exists-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-exists-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-exists-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in exists: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#ac78d11fda205a4a441b6569e594cad08">exists</a> {
    my ($self, @keyparts) = @_;
    <span class="keywordflow">return</span> $self-&gt;exists_where($self-&gt;keyparts_to_where(@keyparts));
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a2a349e8eb5cf50f7a82b273d4554009e"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::exists_where" ref="a2a349e8eb5cf50f7a82b273d4554009e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::exists_where </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-exists_where' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-exists_where-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-exists_where-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-exists_where-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in exists_where: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a2a349e8eb5cf50f7a82b273d4554009e">exists_where</a> {
    my ($self, $where) = @_;
    <span class="keywordflow">return</span> $self-&gt;count_where($where) &gt; 0;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a8f6465a46c2625a7731fbfbd52d4c66f"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::get" ref="a8f6465a46c2625a7731fbfbd52d4c66f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::get </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-get-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in get: 4</span>
<span class="preprocessor"></span>sub <span class="keyword">get</span> {
    my ($self, @keyparts) = @_;
    <span class="keywordflow">return</span> ( $self-&gt;get_records_where($self-&gt;keyparts_to_where(@keyparts)) )[0];
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a2bb8f3183ef3ee220a78c1b594e050d8"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::get_fields_where" ref="a2bb8f3183ef3ee220a78c1b594e050d8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::get_fields_where </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_fields_where' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-get_fields_where-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_fields_where-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_fields_where-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in get_fields_where: 9</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a2bb8f3183ef3ee220a78c1b594e050d8">get_fields_where</a> {
    my ($self, $fields, $where, $order) = @_;
    $fields ||= [$self-&gt;fields];
    
    my $sth = $self-&gt;_get_fields_where_prepex($fields, $where, $order);
    my @results = @{ $sth-&gt;fetchall_arrayref };
    $sth-&gt;finish;
    <span class="keywordflow">return</span> @results;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a36362384408978a192dac635d0496873"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::get_fields_where_i" ref="a36362384408978a192dac635d0496873" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::get_fields_where_i </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_fields_where_i' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-get_fields_where_i-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_fields_where_i-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_fields_where_i-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in get_fields_where_i: 16</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a36362384408978a192dac635d0496873">get_fields_where_i</a> {
    my ($self, $fields, $where, $order) = @_;
    $fields ||= [$self-&gt;fields];
    
    my $sth = $self-&gt;_get_fields_where_prepex($fields, $where, $order);
    <span class="keywordflow">return</span> <span class="keyword">new</span> Iterator sub {
        my @row = $sth-&gt;fetchrow_array;
        <span class="keywordflow">if</span> (@row) {
            <span class="keywordflow">return</span> \@row;
        } <span class="keywordflow">else</span> {
            $sth-&gt;finish; # let the server know we<span class="stringliteral">&#39;re done getting values</span>
<span class="stringliteral">            undef $sth; # allow the statement handle to get garbage-collected</span>
<span class="stringliteral">            Iterator::is_done();</span>
<span class="stringliteral">        }</span>
<span class="stringliteral">    };</span>
<span class="stringliteral">}</span>
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a2d3f7fad6d49c2543bbc84c3d5228247"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::get_records_where" ref="a2d3f7fad6d49c2543bbc84c3d5228247" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::get_records_where </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_records_where' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-get_records_where-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_records_where-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_records_where-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in get_records_where: 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a2d3f7fad6d49c2543bbc84c3d5228247">get_records_where</a> {
    my ($self, $where, $order) = @_;
    
    <span class="keywordflow">return</span> map { $self-&gt;box($_) }
        $self-&gt;get_fields_where([$self-&gt;fields], $where, $order);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a2c02ef3de4809fbcee52f8086121e4a4"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::get_records_where_i" ref="a2c02ef3de4809fbcee52f8086121e4a4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::get_records_where_i </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_records_where_i' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-get_records_where_i-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_records_where_i-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_records_where_i-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in get_records_where_i: 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a2c02ef3de4809fbcee52f8086121e4a4">get_records_where_i</a> {
    my ($self, $where, $order) = @_;
    
    <span class="keywordflow">return</span> imap { $self-&gt;box($_) }
        $self-&gt;get_fields_where_i([$self-&gt;fields], $where, $order);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a1c6056507ada460f9f91eea25d18b538"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::gets" ref="a1c6056507ada460f9f91eea25d18b538" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::gets </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-gets' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-gets-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-gets-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-gets-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in gets: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a1c6056507ada460f9f91eea25d18b538">gets</a> {
    my ($self, @keypartsRefList) = @_;
    <span class="keywordflow">return</span> map { $self-&gt;get_records_where($self-&gt;keyparts_to_where(@$_)) } @keypartsRefList;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a4a1bf0e20303050fae388522ee549f2a"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::handle_error" ref="a4a1bf0e20303050fae388522ee549f2a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::handle_error </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-handle_error' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-handle_error-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-handle_error-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-handle_error-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in handle_error: 11</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a4a1bf0e20303050fae388522ee549f2a">handle_error</a> {
    my ($errmsg, $handle, $returned) = @_;
    
    <span class="keywordflow">if</span> (<a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#ac78d11fda205a4a441b6569e594cad08">exists</a> $MYSQL_ERROR_CODES{$handle-&gt;err}) {
        $MYSQL_ERROR_CODES{$handle-&gt;err}-&gt;throw;
    } <span class="keywordflow">else</span> {
        my $error = $errmsg.<span class="stringliteral">&quot;\n&quot;</span>.join(<span class="stringliteral">&quot;\n&quot;</span>,caller(1),caller(2),caller(3));
<span class="preprocessor">        #$error =~ s|\n|&lt;br/&gt;|;</span>
<span class="preprocessor"></span>        die $error ;
    }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a3697f0c2ef1a8ed6be0865b8b4a2e206"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::insert_fields" ref="a3697f0c2ef1a8ed6be0865b8b4a2e206" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::insert_fields </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-insert_fields' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-insert_fields-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-insert_fields-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-insert_fields-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in insert_fields: 13</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a3697f0c2ef1a8ed6be0865b8b4a2e206">insert_fields</a> {
    my ($self, $fields, $rows) = @_;
    
    my ($sth, @order) = $self-&gt;_insert_fields_prep($fields);
    my @results;
    <span class="keywordflow">foreach</span> my $row (@$rows) {
        my @bind_vals = @$row[@order];
        $self-&gt;debug_stmt($sth, @bind_vals);
        push @results, $sth-&gt;execute(@bind_vals);
    }
    $sth-&gt;finish;
    <span class="keywordflow">return</span> @results;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ad3610c4b136940703ea966c62b4f276c"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::insert_fields_i" ref="ad3610c4b136940703ea966c62b4f276c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::insert_fields_i </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-insert_fields_i' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-insert_fields_i-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-insert_fields_i-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-insert_fields_i-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in insert_fields_i: 13</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#ad3610c4b136940703ea966c62b4f276c">insert_fields_i</a> {
    my ($self, $fields, $rows_i) = @_;
    
    my ($sth, @order) = $self-&gt;_insert_fields_prep($fields);
    my @results;
    until ($rows_i-&gt;is_exhausted) {
        my @bind_vals = @{$rows_i-&gt;value}[@order];
        $self-&gt;debug_stmt($sth, @bind_vals);
        push @results, $sth-&gt;execute(@bind_vals);
    }
    $sth-&gt;finish;
    <span class="keywordflow">return</span> @results;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a0948f95eff7537cfbcf69f43d5bdbeb3"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::insert_records" ref="a0948f95eff7537cfbcf69f43d5bdbeb3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::insert_records </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-insert_records' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-insert_records-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-insert_records-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-insert_records-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in insert_records: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a0948f95eff7537cfbcf69f43d5bdbeb3">insert_records</a> {
    my ($self, $Records) = @_;
    <span class="keywordflow">return</span> $self-&gt;insert_fields_i([$self-&gt;fields], imap { $self-&gt;unbox($_) } iarray $Records);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a45bd88119cd332de9c6312d8722cddbb"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::insert_records_i" ref="a45bd88119cd332de9c6312d8722cddbb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::insert_records_i </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-insert_records_i' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-insert_records_i-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-insert_records_i-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-insert_records_i-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in insert_records_i: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a45bd88119cd332de9c6312d8722cddbb">insert_records_i</a> {
    my ($self, $Records_i) = @_;
    <span class="keywordflow">return</span> $self-&gt;insert_fields_i([$self-&gt;fields], imap { $self-&gt;unbox($_) } $Records_i);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a2f0e66dc708472c385c347d0c151fc55"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::list" ref="a2f0e66dc708472c385c347d0c151fc55" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::list </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-list' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-list-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-list-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-list-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in list: 4</span>
<span class="preprocessor"></span>sub list {
    my ($self, @keyparts) = @_;
    <span class="keywordflow">return</span> $self-&gt;list_where($self-&gt;keyparts_to_where(@keyparts));
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ae858a7f1a82bfa299d0331d79e15944f"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::list_where" ref="ae858a7f1a82bfa299d0331d79e15944f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::list_where </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-list_where' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-list_where-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-list_where-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-list_where-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in list_where: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#ae858a7f1a82bfa299d0331d79e15944f">list_where</a> {
    my ($self, $where, $order) = @_;
    <span class="keywordflow">return</span> $self-&gt;get_fields_where([$self-&gt;keyfields], $where, $order);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a5adea18c2c52889a0172cd8c7cbe9aea"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::list_where_i" ref="a5adea18c2c52889a0172cd8c7cbe9aea" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::list_where_i </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-list_where_i' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-list_where_i-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-list_where_i-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-list_where_i-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in list_where_i: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a5adea18c2c52889a0172cd8c7cbe9aea">list_where_i</a> {
    my ($self, $where, $order) = @_;
    <span class="keywordflow">return</span> $self-&gt;get_fields_where_i([$self-&gt;keyfields], $where, $order);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a8969ea18d82e9a10330e96e3e158d805"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::new" ref="a8969ea18d82e9a10330e96e3e158d805" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::new </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-new' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-new-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-new-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-new-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in new: 10</span>
<span class="preprocessor"></span>sub <span class="keyword">new</span> {
    my $self = shift-&gt;SUPER::new(@_);
    
    $self-&gt;sql_init;
    
<span class="preprocessor">    # provide a custom error handler</span>
<span class="preprocessor"></span>    $self-&gt;dbh-&gt;{HandleError} = \&amp;<a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a4a1bf0e20303050fae388522ee549f2a">handle_error</a>;
    
    <span class="keywordflow">return</span> $self;
}
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classWeBWorK_1_1DB_1_1Schema.html#a1afa58255ff1632218f920a913f0fb5f">WeBWorK::DB::Schema</a>.</p>

</div>
</div>
<a class="anchor" id="a51d84455eda96a1668d228425f0c7fce"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::put" ref="a51d84455eda96a1668d228425f0c7fce" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::put </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-put' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-put-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-put-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-put-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in put: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a51d84455eda96a1668d228425f0c7fce">put</a> {
    my ($self, $Record) = @_;
    <span class="keywordflow">return</span> ( $self-&gt;update_records([$Record]) )[0];
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a07bd3c55c367a9319c77e7e2a2f5a7aa"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::rename_table" ref="a07bd3c55c367a9319c77e7e2a2f5a7aa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::rename_table </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-rename_table' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-rename_table-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-rename_table-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-rename_table-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in rename_table: 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a07bd3c55c367a9319c77e7e2a2f5a7aa">rename_table</a> {
    my ($self, $new_sql_table_name) = @_;
    
    my $stmt = $self-&gt;_rename_table_stmt($new_sql_table_name);
    <span class="keywordflow">return</span> $self-&gt;dbh-&gt;do($stmt);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="af2f5ec8bfe308ed3eb431e319dd3140d"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::restore_table" ref="af2f5ec8bfe308ed3eb431e319dd3140d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::restore_table </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-restore_table' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-restore_table-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-restore_table-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-restore_table-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in restore_table: 21</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#af2f5ec8bfe308ed3eb431e319dd3140d">restore_table</a> {
    my ($self, $dumpfile_path) = @_;
    
    my ($my_cnf, $database) = $self-&gt;_get_db_info;
    my $mysql = $self-&gt;{params}{mysql_path};
    
    my $restore_cmd = <span class="stringliteral">&quot;2&gt;&amp;1 &quot;</span> . shell_quote($mysql)
<span class="preprocessor">#       . &quot; --defaults-extra-file=&quot; . shell_quote($my_cnf-&gt;filename)</span>
<span class="preprocessor"></span>        . <span class="stringliteral">&quot; --defaults-file=&quot;</span> . shell_quote($my_cnf-&gt;filename) <span class="preprocessor"># work around for mysqldump bug</span>
<span class="preprocessor"></span>        . <span class="stringliteral">&quot; &quot;</span> . shell_quote($database)
        . <span class="stringliteral">&quot; &lt; &quot;</span> . shell_quote($dumpfile_path);
    my $restore_out = readpipe $restore_cmd;
    <span class="keywordflow">if</span> ($?) {
        my $exit = $? &gt;&gt; 8;
        my $signal = $? &amp; 127;
        my $core = $? &amp; 128;
        warn <span class="stringliteral">&quot;Failed to restore table &#39;&quot;</span>.$self-&gt;sql_table_name.<span class="stringliteral">&quot;&#39; with command &#39;$restore_cmd&#39; (exit=$exit signal=$signal core=$core): $restore_out\n&quot;</span>;
    }
    
    <span class="keywordflow">return</span> 1;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a38dd7b288c0c35059bf0c720851c3885"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::sql" ref="a38dd7b288c0c35059bf0c720851c3885" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::sql </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-sql' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-sql-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-sql-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-sql-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in sql: 3</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a38dd7b288c0c35059bf0c720851c3885">sql</a> {
    <span class="keywordflow">return</span> shift-&gt;{<a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a38dd7b288c0c35059bf0c720851c3885">sql</a>};
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="adbb4a36cdb97b36e3071f0dffe23ed0d"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::sql_field_expression" ref="adbb4a36cdb97b36e3071f0dffe23ed0d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::sql_field_expression </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-sql_field_expression' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-sql_field_expression-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-sql_field_expression-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-sql_field_expression-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in sql_field_expression: 10</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#adbb4a36cdb97b36e3071f0dffe23ed0d">sql_field_expression</a> {
    my ($self, $field, $table) = @_;
    
<span class="preprocessor">    # _quote will do native-to-SQL table/field name translation</span>
<span class="preprocessor"></span>    <span class="keywordflow">if</span> (defined $table) {
        <span class="keywordflow">return</span> $self-&gt;sql-&gt;_quote(<span class="stringliteral">&quot;$table.$field&quot;</span>);
    } <span class="keywordflow">else</span> {
        <span class="keywordflow">return</span> $self-&gt;sql-&gt;_quote($field);
    }
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ada1a9ece8aa95f25dc3e5b070beeaaec"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::sql_field_name" ref="ada1a9ece8aa95f25dc3e5b070beeaaec" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::sql_field_name </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-sql_field_name' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-sql_field_name-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-sql_field_name-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-sql_field_name-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in sql_field_name: 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#ada1a9ece8aa95f25dc3e5b070beeaaec">sql_field_name</a> {
    my ($self, $field) = @_;
    <span class="keywordflow">return</span> defined $self-&gt;{params}{fieldOverride}{$field}
        ? $self-&gt;{params}{fieldOverride}{$field}
        : $field;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ae3a792a8b561fc0b42c9a535de466321"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::sql_init" ref="ae3a792a8b561fc0b42c9a535de466321" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::sql_init </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-sql_init' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-sql_init-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-sql_init-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-sql_init-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in sql_init: 37</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#ae3a792a8b561fc0b42c9a535de466321">sql_init</a> {
    my $self = shift;
    
<span class="preprocessor">    # transformation functions for table and field names: these allow us to pass</span>
<span class="preprocessor"></span><span class="preprocessor">    # the WeBWorK table/field names to SQL::Abstract, and have it translate them</span>
<span class="preprocessor"></span><span class="preprocessor">    # to the SQL table/field names from tableOverride and fieldOverride.</span>
<span class="preprocessor"></span><span class="preprocessor">    # (Without this, it would be hard to translate field names in WHERE</span>
<span class="preprocessor"></span><span class="preprocessor">    # structures, since they&#39;re so convoluted.)</span>
<span class="preprocessor"></span>    my ($transform_table, $transform_field);
    <span class="keywordflow">if</span> (defined $self-&gt;{params}{tableOverride}) {
        $transform_table = sub {
            my $label = shift;
            <span class="keywordflow">if</span> ($label eq $self-&gt;{table}) {
                <span class="keywordflow">return</span> $self-&gt;{params}{tableOverride};
            } <span class="keywordflow">else</span> {
<span class="preprocessor">                #warn &quot;can&#39;t transform unrecognized table name &#39;$label&#39;&quot;;</span>
<span class="preprocessor"></span>                <span class="keywordflow">return</span> $label;
            }
        };
    }
    <span class="keywordflow">if</span> (defined $self-&gt;{params}{fieldOverride}) {
        $transform_field = sub {
            my $label = shift;
            <span class="keywordflow">return</span> defined $self-&gt;{params}{fieldOverride}{$label}
                ? $self-&gt;{params}{fieldOverride}{$label}
                : $label;
        };
    }
    
<span class="preprocessor">    # add SQL statement generation object</span>
<span class="preprocessor"></span>    $self-&gt;{<a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a38dd7b288c0c35059bf0c720851c3885">sql</a>} = <span class="keyword">new</span> <a class="code" href="classWeBWorK_1_1DB_1_1Utils_1_1SQLAbstractIdentTrans.html">WeBWorK::DB::Utils::SQLAbstractIdentTrans</a>(
        quote_char =&gt; <span class="stringliteral">&quot;`&quot;</span>,
        name_sep =&gt; <span class="stringliteral">&quot;.&quot;</span>,
        transform_table =&gt; $transform_table,
        transform_field =&gt; $transform_field,
    );
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ad7b82a0b377c4fc9b8f891b56b4b574d"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::sql_table_name" ref="ad7b82a0b377c4fc9b8f891b56b4b574d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::sql_table_name </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-sql_table_name' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-sql_table_name-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-sql_table_name-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-sql_table_name-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in sql_table_name: 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#ad7b82a0b377c4fc9b8f891b56b4b574d">sql_table_name</a> {
    my ($self) = @_;
    <span class="keywordflow">return</span> defined $self-&gt;{params}{tableOverride}
        ? $self-&gt;{params}{tableOverride}
        : $self-&gt;table;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="adad1fad211d2fad40c7d4fd50272fea7"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::tableExists" ref="adad1fad211d2fad40c7d4fd50272fea7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::tableExists </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-tableExists' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-tableExists-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-tableExists-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-tableExists-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in tableExists: 6</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#adad1fad211d2fad40c7d4fd50272fea7">tableExists</a> {
    my $self = shift;
    my $stmt = $self-&gt;_exists_table_stmt;
    my $result = eval { $self-&gt;dbh-&gt;do($stmt); };
    ( caught WeBWorK::DB::Ex::TableMissing ) ? 0:1;
}
</pre></div>  
</div>
 
<p>Reimplemented from <a class="el" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL.html#a76311b5bbea29d805038bd4946cabce8">WeBWorK::DB::Schema::NewSQL</a>.</p>

</div>
</div>
<a class="anchor" id="a449e5147cae6efaf2653e2ff48a2b8f1"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::tableFieldExists" ref="a449e5147cae6efaf2653e2ff48a2b8f1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::tableFieldExists </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-tableFieldExists' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-tableFieldExists-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-tableFieldExists-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-tableFieldExists-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in tableFieldExists: 7</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a449e5147cae6efaf2653e2ff48a2b8f1">tableFieldExists</a> {
    my $self = shift;
    my $field_name = shift;
    my $stmt = $self-&gt;_exists_field_stmt($field_name);
    my $result = $self-&gt;dbh-&gt;do($stmt);
    <span class="keywordflow">return</span>  ($result eq <span class="stringliteral">&quot;1&quot;</span>) ? 1 : 0;    # failed result is 0E0
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a7209d7fd43927395ec76102dfb207c15"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::update_fields" ref="a7209d7fd43927395ec76102dfb207c15" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::update_fields </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-update_fields' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-update_fields-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-update_fields-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-update_fields-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in update_fields: 13</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a7209d7fd43927395ec76102dfb207c15">update_fields</a> {
    my ($self, $fields, $rows) = @_;
    
    my ($sth, $val_order, $where_order) = $self-&gt;_update_fields_prep($fields);
    my @results;
    <span class="keywordflow">foreach</span> my $row (@$rows) {
        my @bind_vals = @$row[@$val_order,@$where_order];
        $self-&gt;debug_stmt($sth, @bind_vals);
        push @results, $sth-&gt;execute(@bind_vals);
    }
    $sth-&gt;finish;
    <span class="keywordflow">return</span> @results;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="ae13eecc5a79b658ba343dde69b1bc8fc"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::update_fields_i" ref="ae13eecc5a79b658ba343dde69b1bc8fc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::update_fields_i </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-update_fields_i' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-update_fields_i-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-update_fields_i-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-update_fields_i-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in update_fields_i: 13</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#ae13eecc5a79b658ba343dde69b1bc8fc">update_fields_i</a> {
    my ($self, $fields, $rows_i) = @_;
    
    my ($sth, $val_order, $where_order) = $self-&gt;_update_fields_prep($fields);
    my @results;
    until ($rows_i-&gt;is_exhausted) {
        my @bind_vals = @{$rows_i-&gt;value}[@$val_order,@$where_order];
        $self-&gt;debug_stmt($sth, @bind_vals);
        push @results, $sth-&gt;execute(@bind_vals);
    }
    $sth-&gt;finish;
    <span class="keywordflow">return</span> @results;
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aea9d8cc15121009ae38735d769dfd12b"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::update_records" ref="aea9d8cc15121009ae38735d769dfd12b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::update_records </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-update_records' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-update_records-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-update_records-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-update_records-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in update_records: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#aea9d8cc15121009ae38735d769dfd12b">update_records</a> {
    my ($self, $Records) = @_;
    <span class="keywordflow">return</span> $self-&gt;update_fields_i([$self-&gt;fields], imap { $self-&gt;unbox($_) } iarray $Records);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="aa2ac0412962e5408f79b1e02f4522554"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::update_records_i" ref="aa2ac0412962e5408f79b1e02f4522554" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::update_records_i </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-update_records_i' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-update_records_i-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-update_records_i-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-update_records_i-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in update_records_i: 4</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#aa2ac0412962e5408f79b1e02f4522554">update_records_i</a> {
    my ($self, $Records_i) = @_;
    <span class="keywordflow">return</span> $self-&gt;update_fields_i([$self-&gt;fields], imap { $self-&gt;unbox($_) } $Records_i);
}
</pre></div>  
</div>
 
</div>
</div>
<a class="anchor" id="a819dd41aa122d696b829b906afa62cf6"></a><!-- doxytag: member="WeBWorK::DB::Schema::NewSQL::Std::update_where" ref="a819dd41aa122d696b829b906afa62cf6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method WeBWorK::DB::Schema::NewSQL::Std::update_where </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented Method  
<div id='codesection-update_where' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-update_where-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-update_where-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-update_where-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><pre class="fragment"><span class="preprocessor"># Number of lines of code in update_where: 12</span>
<span class="preprocessor"></span>sub <a class="code" href="classWeBWorK_1_1DB_1_1Schema_1_1NewSQL_1_1Std.html#a819dd41aa122d696b829b906afa62cf6">update_where</a> {
    my ($self, $fieldvals, $where) = @_;
    $where = $self-&gt;conv_where($where);
    
    my ($stmt, @bind_vals) = $self-&gt;sql-&gt;update($self-&gt;table, $fieldvals, $where);
    my $sth = $self-&gt;dbh-&gt;prepare_cached($stmt, undef, 3); # 3 -- see DBI docs
    $self-&gt;debug_stmt($sth, @bind_vals);
    my $result = $sth-&gt;execute(@bind_vals);
    $sth-&gt;finish;
    
    <span class="keywordflow">return</span> $result;
}
</pre></div>  
</div>
 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Std_8pm_source.html">Std.pm</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Jun 8 22:59:30 2012 for WeBWorK2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
